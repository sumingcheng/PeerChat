var f0=Object.defineProperty;var d0=e=>{throw TypeError(e)};var p0=(e,t,n)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ul=(e,t,n)=>p0(e,typeof t!="symbol"?t+"":t,n);var _o=(e,t,n)=>t.has(e)?d0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function xu(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function _a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lh={exports:{}},Ea={},ch={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),h0=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),g0=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),y0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),w0=Symbol.for("react.memo"),k0=Symbol.for("react.lazy"),Jf=Symbol.iterator;function _0(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var uh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fh=Object.assign,dh={};function mo(e,t,n){this.props=e,this.context=t,this.refs=dh,this.updater=n||uh}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ph(){}ph.prototype=mo.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=dh,this.updater=n||uh}var Su=Cu.prototype=new ph;Su.constructor=Cu;fh(Su,mo.prototype);Su.isPureReactComponent=!0;var Qf=Array.isArray,hh=Object.prototype.hasOwnProperty,wu={current:null},mh={key:!0,ref:!0,__self:!0,__source:!0};function gh(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)hh.call(t,r)&&!mh.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ei,type:e,key:i,ref:s,props:o,_owner:wu.current}}function E0(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function b0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xf=/\/+/g;function fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b0(""+e.key):t.toString(36)}function gs(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ei:case h0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+fl(s,0):r,Qf(o)?(n="",e!=null&&(n=e.replace(Xf,"$&/")+"/"),gs(o,t,n,"",function(c){return c})):o!=null&&(ku(o)&&(o=E0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Xf,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Qf(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+fl(i,a);s+=gs(i,t,n,l,o)}else if(l=_0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+fl(i,a++),s+=gs(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Wi(e,t,n){if(e==null)return e;var r=[],o=0;return gs(e,r,"","",function(i){return t.call(n,i,o++)}),r}function R0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},vs={transition:null},P0={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:vs,ReactCurrentOwner:wu};function vh(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Wi,forEach:function(e,t,n){Wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wi(e,function(){t++}),t},toArray:function(e){return Wi(e,function(t){return t})||[]},only:function(e){if(!ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=mo;Q.Fragment=m0;Q.Profiler=v0;Q.PureComponent=Cu;Q.StrictMode=g0;Q.Suspense=S0;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;Q.act=vh;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fh({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=wu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)hh.call(t,l)&&!mh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ei,type:e.type,key:o,ref:i,props:r,_owner:s}};Q.createContext=function(e){return e={$$typeof:x0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y0,_context:e},e.Consumer=e};Q.createElement=gh;Q.createFactory=function(e){var t=gh.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:C0,render:e}};Q.isValidElement=ku;Q.lazy=function(e){return{$$typeof:k0,_payload:{_status:-1,_result:e},_init:R0}};Q.memo=function(e,t){return{$$typeof:w0,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};Q.unstable_act=vh;Q.useCallback=function(e,t){return Je.current.useCallback(e,t)};Q.useContext=function(e){return Je.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Je.current.useEffect(e,t)};Q.useId=function(){return Je.current.useId()};Q.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Je.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};Q.useRef=function(e){return Je.current.useRef(e)};Q.useState=function(e){return Je.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Je.current.useTransition()};Q.version="18.3.1";ch.exports=Q;var h=ch.exports;const Bs=_a(h),yh=xu({__proto__:null,default:Bs},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=h,N0=Symbol.for("react.element"),j0=Symbol.for("react.fragment"),D0=Object.prototype.hasOwnProperty,O0=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M0={key:!0,ref:!0,__self:!0,__source:!0};function xh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)D0.call(t,r)&&!M0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:N0,type:e,key:i,ref:s,props:o,_owner:O0.current}}Ea.Fragment=j0;Ea.jsx=xh;Ea.jsxs=xh;lh.exports=Ea;var p=lh.exports,ec={},Ch={exports:{}},ht={},Sh={exports:{}},wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,I){var z=j.length;j.push(I);e:for(;0<z;){var X=z-1>>>1,se=j[X];if(0<o(se,I))j[X]=I,j[z]=se,z=X;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var I=j[0],z=j.pop();if(z!==I){j[0]=z;e:for(var X=0,se=j.length,vt=se>>>1;X<vt;){var Ee=2*(X+1)-1,it=j[Ee],Oe=Ee+1,Et=j[Oe];if(0>o(it,z))Oe<se&&0>o(Et,it)?(j[X]=Et,j[Oe]=z,X=Oe):(j[X]=it,j[Ee]=z,X=Ee);else if(Oe<se&&0>o(Et,z))j[X]=Et,j[Oe]=z,X=Oe;else break e}}return I}function o(j,I){var z=j.sortIndex-I.sortIndex;return z!==0?z:j.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,d=3,m=!1,C=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=j)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function k(j){if(y=!1,x(j),!C)if(n(l)!==null)C=!0,oe(b);else{var I=n(c);I!==null&&V(k,I.startTime-j)}}function b(j,I){C=!1,y&&(y=!1,g(N),N=-1),m=!0;var z=d;try{for(x(I),f=n(l);f!==null&&(!(f.expirationTime>I)||j&&!U());){var X=f.callback;if(typeof X=="function"){f.callback=null,d=f.priorityLevel;var se=X(f.expirationTime<=I);I=e.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),x(I)}else r(l);f=n(l)}if(f!==null)var vt=!0;else{var Ee=n(c);Ee!==null&&V(k,Ee.startTime-I),vt=!1}return vt}finally{f=null,d=z,m=!1}}var S=!1,E=null,N=-1,P=5,O=-1;function U(){return!(e.unstable_now()-O<P)}function Y(){if(E!==null){var j=e.unstable_now();O=j;var I=!0;try{I=E(!0,j)}finally{I?F():(S=!1,E=null)}}else S=!1}var F;if(typeof v=="function")F=function(){v(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ve=K.port2;K.port1.onmessage=Y,F=function(){ve.postMessage(null)}}else F=function(){w(Y,0)};function oe(j){E=j,S||(S=!0,F())}function V(j,I){N=w(function(){j(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){C||m||(C=!0,oe(b))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var z=d;d=I;try{return j()}finally{d=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,I){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=d;d=j;try{return I()}finally{d=z}},e.unstable_scheduleCallback=function(j,I,z){var X=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=z+se,j={id:u++,callback:I,priorityLevel:j,startTime:z,expirationTime:se,sortIndex:-1},z>X?(j.sortIndex=z,t(c,j),n(l)===null&&j===n(c)&&(y?(g(N),N=-1):y=!0,V(k,z-X))):(j.sortIndex=se,t(l,j),C||m||(C=!0,oe(b))),j},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(j){var I=d;return function(){var z=d;d=I;try{return j.apply(this,arguments)}finally{d=z}}}})(wh);Sh.exports=wh;var L0=Sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=h,pt=L0;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kh=new Set,ni={};function xr(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(ni[e]=t,e=0;e<t.length;e++)kh.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=Object.prototype.hasOwnProperty,A0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zf={},qf={};function $0(e){return tc.call(qf,e)?!0:tc.call(Zf,e)?!1:A0.test(e)?qf[e]=!0:(Zf[e]=!0,!1)}function z0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F0(e,t,n,r){if(t===null||typeof t>"u"||z0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function Eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_u,Eu);Ae[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_u,Eu);Ae[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_u,Eu);Ae[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function bu(e,t,n,r){var o=Ae.hasOwnProperty(t)?Ae[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F0(t,n,o,r)&&(n=null),r||o===null?$0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cn=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Ru=Symbol.for("react.strict_mode"),nc=Symbol.for("react.profiler"),_h=Symbol.for("react.provider"),Eh=Symbol.for("react.context"),Pu=Symbol.for("react.forward_ref"),rc=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),bh=Symbol.for("react.offscreen"),ed=Symbol.iterator;function Eo(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,dl;function zo(e){if(dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var pl=!1;function hl(e,t){if(!e||pl)return"";pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{pl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zo(e):""}function U0(e){switch(e.tag){case 5:return zo(e.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Mr:return"Portal";case nc:return"Profiler";case Ru:return"StrictMode";case rc:return"Suspense";case oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eh:return(e.displayName||"Context")+".Consumer";case _h:return(e._context.displayName||"Context")+".Provider";case Pu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tu:return t=e.displayName||null,t!==null?t:ic(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return ic(e(t))}catch{}}return null}function B0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ic(t);case 8:return t===Ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H0(e){var t=Rh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=H0(e))}function Ph(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sc(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function td(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Th(e,t){t=t.checked,t!=null&&bu(e,"checked",t,!1)}function ac(e,t){Th(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lc(e,t.type,n):t.hasOwnProperty("defaultValue")&&lc(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lc(e,t,n){(t!=="number"||Hs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fo=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function cc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Fo(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function Nh(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,Dh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W0=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(e){W0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]})});function Oh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ho.hasOwnProperty(e)&&Ho[e]?(""+t).trim():t+"px"}function Mh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Oh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var V0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(e,t){if(t){if(V0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function Nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hc=null,Jr=null,Qr=null;function id(e){if(e=Pi(e)){if(typeof hc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Na(t),hc(e.stateNode,e.type,t))}}function Lh(e){Jr?Qr?Qr.push(e):Qr=[e]:Jr=e}function Ih(){if(Jr){var e=Jr,t=Qr;if(Qr=Jr=null,id(e),t)for(e=0;e<t.length;e++)id(t[e])}}function Ah(e,t){return e(t)}function $h(){}var ml=!1;function zh(e,t,n){if(ml)return e(t,n);ml=!0;try{return Ah(e,t,n)}finally{ml=!1,(Jr!==null||Qr!==null)&&($h(),Ih())}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var r=Na(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var mc=!1;if(tn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){mc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{mc=!1}function G0(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Wo=!1,Ws=null,Vs=!1,gc=null,K0={onError:function(e){Wo=!0,Ws=e}};function Y0(e,t,n,r,o,i,s,a,l){Wo=!1,Ws=null,G0.apply(K0,arguments)}function J0(e,t,n,r,o,i,s,a,l){if(Y0.apply(this,arguments),Wo){if(Wo){var c=Ws;Wo=!1,Ws=null}else throw Error(D(198));Vs||(Vs=!0,gc=c)}}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sd(e){if(Cr(e)!==e)throw Error(D(188))}function Q0(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return sd(o),e;if(i===r)return sd(o),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Uh(e){return e=Q0(e),e!==null?Bh(e):null}function Bh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bh(e);if(t!==null)return t;e=e.sibling}return null}var Hh=pt.unstable_scheduleCallback,ad=pt.unstable_cancelCallback,X0=pt.unstable_shouldYield,Z0=pt.unstable_requestPaint,we=pt.unstable_now,q0=pt.unstable_getCurrentPriorityLevel,ju=pt.unstable_ImmediatePriority,Wh=pt.unstable_UserBlockingPriority,Gs=pt.unstable_NormalPriority,ex=pt.unstable_LowPriority,Vh=pt.unstable_IdlePriority,ba=null,Bt=null;function tx(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ba,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:ox,nx=Math.log,rx=Math.LN2;function ox(e){return e>>>=0,e===0?32:31-(nx(e)/rx|0)|0}var Yi=64,Ji=4194304;function Uo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Uo(a):(i&=s,i!==0&&(r=Uo(i)))}else s=n&~o,s!==0?r=Uo(s):i!==0&&(r=Uo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),o=1<<n,r|=e[n],t&=~o;return r}function ix(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-jt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=ix(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gh(){var e=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function ax(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-jt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Du(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function Kh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yh,Ou,Jh,Qh,Xh,yc=!1,Qi=[],Pn=null,Tn=null,Nn=null,ii=new Map,si=new Map,kn=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(t.pointerId)}}function Ro(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Pi(t),t!==null&&Ou(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function cx(e,t,n,r,o){switch(t){case"focusin":return Pn=Ro(Pn,e,t,n,r,o),!0;case"dragenter":return Tn=Ro(Tn,e,t,n,r,o),!0;case"mouseover":return Nn=Ro(Nn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ii.set(i,Ro(ii.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,si.set(i,Ro(si.get(i)||null,e,t,n,r,o)),!0}return!1}function Zh(e){var t=Xn(e.target);if(t!==null){var n=Cr(t);if(n!==null){if(t=n.tag,t===13){if(t=Fh(n),t!==null){e.blockedOn=t,Xh(e.priority,function(){Jh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pc=r,n.target.dispatchEvent(r),pc=null}else return t=Pi(n),t!==null&&Ou(t),e.blockedOn=n,!1;t.shift()}return!0}function cd(e,t,n){ys(e)&&n.delete(t)}function ux(){yc=!1,Pn!==null&&ys(Pn)&&(Pn=null),Tn!==null&&ys(Tn)&&(Tn=null),Nn!==null&&ys(Nn)&&(Nn=null),ii.forEach(cd),si.forEach(cd)}function Po(e,t){e.blockedOn===t&&(e.blockedOn=null,yc||(yc=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,ux)))}function ai(e){function t(o){return Po(o,e)}if(0<Qi.length){Po(Qi[0],e);for(var n=1;n<Qi.length;n++){var r=Qi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&Po(Pn,e),Tn!==null&&Po(Tn,e),Nn!==null&&Po(Nn,e),ii.forEach(t),si.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)Zh(n),n.blockedOn===null&&kn.shift()}var Xr=cn.ReactCurrentBatchConfig,Ys=!0;function fx(e,t,n,r){var o=re,i=Xr.transition;Xr.transition=null;try{re=1,Mu(e,t,n,r)}finally{re=o,Xr.transition=i}}function dx(e,t,n,r){var o=re,i=Xr.transition;Xr.transition=null;try{re=4,Mu(e,t,n,r)}finally{re=o,Xr.transition=i}}function Mu(e,t,n,r){if(Ys){var o=xc(e,t,n,r);if(o===null)bl(e,t,r,Js,n),ld(e,r);else if(cx(o,e,t,n,r))r.stopPropagation();else if(ld(e,r),t&4&&-1<lx.indexOf(e)){for(;o!==null;){var i=Pi(o);if(i!==null&&Yh(i),i=xc(e,t,n,r),i===null&&bl(e,t,r,Js,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else bl(e,t,r,null,n)}}var Js=null;function xc(e,t,n,r){if(Js=null,e=Nu(r),e=Xn(e),e!==null)if(t=Cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Js=e,null}function qh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q0()){case ju:return 1;case Wh:return 4;case Gs:case ex:return 16;case Vh:return 536870912;default:return 16}default:return 16}}var bn=null,Lu=null,xs=null;function em(){if(xs)return xs;var e,t=Lu,n=t.length,r,o="value"in bn?bn.value:bn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return xs=o.slice(e,1<r?1-r:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function ud(){return!1}function mt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xi:ud,this.isPropagationStopped=ud,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=mt(go),Ri=ge({},go,{view:0,detail:0}),px=mt(Ri),vl,yl,To,Ra=ge({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(vl=e.screenX-To.screenX,yl=e.screenY-To.screenY):yl=vl=0,To=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),fd=mt(Ra),hx=ge({},Ra,{dataTransfer:0}),mx=mt(hx),gx=ge({},Ri,{relatedTarget:0}),xl=mt(gx),vx=ge({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),yx=mt(vx),xx=ge({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cx=mt(xx),Sx=ge({},go,{data:0}),dd=mt(Sx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ex(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_x[e])?!!t[e]:!1}function Au(){return Ex}var bx=ge({},Ri,{key:function(e){if(e.key){var t=wx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rx=mt(bx),Px=ge({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=mt(Px),Tx=ge({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Nx=mt(Tx),jx=ge({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=mt(jx),Ox=ge({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=mt(Ox),Lx=[9,13,27,32],$u=tn&&"CompositionEvent"in window,Vo=null;tn&&"documentMode"in document&&(Vo=document.documentMode);var Ix=tn&&"TextEvent"in window&&!Vo,tm=tn&&(!$u||Vo&&8<Vo&&11>=Vo),hd=" ",md=!1;function nm(e,t){switch(e){case"keyup":return Lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Ax(e,t){switch(e){case"compositionend":return rm(t);case"keypress":return t.which!==32?null:(md=!0,hd);case"textInput":return e=t.data,e===hd&&md?null:e;default:return null}}function $x(e,t){if(Ir)return e==="compositionend"||!$u&&nm(e,t)?(e=em(),xs=Lu=bn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tm&&t.locale!=="ko"?null:t.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zx[e.type]:t==="textarea"}function om(e,t,n,r){Lh(r),t=Qs(t,"onChange"),0<t.length&&(n=new Iu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Go=null,li=null;function Fx(e){mm(e,0)}function Pa(e){var t=zr(e);if(Ph(t))return e}function Ux(e,t){if(e==="change")return t}var im=!1;if(tn){var Cl;if(tn){var Sl="oninput"in document;if(!Sl){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Sl=typeof vd.oninput=="function"}Cl=Sl}else Cl=!1;im=Cl&&(!document.documentMode||9<document.documentMode)}function yd(){Go&&(Go.detachEvent("onpropertychange",sm),li=Go=null)}function sm(e){if(e.propertyName==="value"&&Pa(li)){var t=[];om(t,li,e,Nu(e)),zh(Fx,t)}}function Bx(e,t,n){e==="focusin"?(yd(),Go=t,li=n,Go.attachEvent("onpropertychange",sm)):e==="focusout"&&yd()}function Hx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pa(li)}function Wx(e,t){if(e==="click")return Pa(t)}function Vx(e,t){if(e==="input"||e==="change")return Pa(t)}function Gx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Gx;function ci(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!tc.call(t,o)||!Ot(e[o],t[o]))return!1}return!0}function xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cd(e,t){var n=xd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xd(n)}}function am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lm(){for(var e=window,t=Hs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hs(e.document)}return t}function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kx(e){var t=lm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&am(n.ownerDocument.documentElement,n)){if(r!==null&&zu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Cd(n,i);var s=Cd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yx=tn&&"documentMode"in document&&11>=document.documentMode,Ar=null,Cc=null,Ko=null,Sc=!1;function Sd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sc||Ar==null||Ar!==Hs(r)||(r=Ar,"selectionStart"in r&&zu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ko&&ci(Ko,r)||(Ko=r,r=Qs(Cc,"onSelect"),0<r.length&&(t=new Iu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $r={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},wl={},cm={};tn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ta(e){if(wl[e])return wl[e];if(!$r[e])return e;var t=$r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cm)return wl[e]=t[n];return e}var um=Ta("animationend"),fm=Ta("animationiteration"),dm=Ta("animationstart"),pm=Ta("transitionend"),hm=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){hm.set(e,t),xr(t,[e])}for(var kl=0;kl<wd.length;kl++){var _l=wd[kl],Jx=_l.toLowerCase(),Qx=_l[0].toUpperCase()+_l.slice(1);Hn(Jx,"on"+Qx)}Hn(um,"onAnimationEnd");Hn(fm,"onAnimationIteration");Hn(dm,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(pm,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function kd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,J0(r,t,void 0,e),e.currentTarget=null}function mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;kd(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;kd(o,a,c),i=l}}}if(Vs)throw e=gc,Vs=!1,gc=null,e}function ue(e,t){var n=t[bc];n===void 0&&(n=t[bc]=new Set);var r=e+"__bubble";n.has(r)||(gm(t,e,2,!1),n.add(r))}function El(e,t,n){var r=0;t&&(r|=4),gm(n,e,r,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[qi]){e[qi]=!0,kh.forEach(function(n){n!=="selectionchange"&&(Xx.has(n)||El(n,!1,e),El(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,El("selectionchange",!1,t))}}function gm(e,t,n,r){switch(qh(t)){case 1:var o=fx;break;case 4:o=dx;break;default:o=Mu}n=o.bind(null,t,n,e),o=void 0,!mc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function bl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Xn(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}zh(function(){var c=i,u=Nu(n),f=[];e:{var d=hm.get(e);if(d!==void 0){var m=Iu,C=e;switch(e){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":m=Rx;break;case"focusin":C="focus",m=xl;break;case"focusout":C="blur",m=xl;break;case"beforeblur":case"afterblur":m=xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Nx;break;case um:case fm:case dm:m=yx;break;case pm:m=Dx;break;case"scroll":m=px;break;case"wheel":m=Mx;break;case"copy":case"cut":case"paste":m=Cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pd}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var v=c,x;v!==null;){x=v;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=oi(v,g),k!=null&&y.push(fi(v,k,x)))),w)break;v=v.return}0<y.length&&(d=new m(d,C,null,n,u),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==pc&&(C=n.relatedTarget||n.fromElement)&&(Xn(C)||C[nn]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(C=n.relatedTarget||n.toElement,m=c,C=C?Xn(C):null,C!==null&&(w=Cr(C),C!==w||C.tag!==5&&C.tag!==6)&&(C=null)):(m=null,C=c),m!==C)){if(y=fd,k="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=pd,k="onPointerLeave",g="onPointerEnter",v="pointer"),w=m==null?d:zr(m),x=C==null?d:zr(C),d=new y(k,v+"leave",m,n,u),d.target=w,d.relatedTarget=x,k=null,Xn(u)===c&&(y=new y(g,v+"enter",C,n,u),y.target=x,y.relatedTarget=w,k=y),w=k,m&&C)t:{for(y=m,g=C,v=0,x=y;x;x=Tr(x))v++;for(x=0,k=g;k;k=Tr(k))x++;for(;0<v-x;)y=Tr(y),v--;for(;0<x-v;)g=Tr(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Tr(y),g=Tr(g)}y=null}else y=null;m!==null&&_d(f,d,m,y,!1),C!==null&&w!==null&&_d(f,w,C,y,!0)}}e:{if(d=c?zr(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var b=Ux;else if(gd(d))if(im)b=Vx;else{b=Hx;var S=Bx}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=Wx);if(b&&(b=b(e,c))){om(f,b,n,u);break e}S&&S(e,d,c),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&lc(d,"number",d.value)}switch(S=c?zr(c):window,e){case"focusin":(gd(S)||S.contentEditable==="true")&&(Ar=S,Cc=c,Ko=null);break;case"focusout":Ko=Cc=Ar=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Sd(f,n,u);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":Sd(f,n,u)}var E;if($u)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ir?nm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(tm&&n.locale!=="ko"&&(Ir||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ir&&(E=em()):(bn=u,Lu="value"in bn?bn.value:bn.textContent,Ir=!0)),S=Qs(c,N),0<S.length&&(N=new dd(N,e,null,n,u),f.push({event:N,listeners:S}),E?N.data=E:(E=rm(n),E!==null&&(N.data=E)))),(E=Ix?Ax(e,n):$x(e,n))&&(c=Qs(c,"onBeforeInput"),0<c.length&&(u=new dd("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}mm(f,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=oi(e,n),i!=null&&r.unshift(fi(e,i,o)),i=oi(e,t),i!=null&&r.push(fi(e,i,o))),e=e.return}return r}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _d(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=oi(n,i),l!=null&&s.unshift(fi(n,l,a))):o||(l=oi(n,i),l!=null&&s.push(fi(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Zx=/\r\n?/g,qx=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(Zx,`
`).replace(qx,"")}function es(e,t,n){if(t=Ed(t),Ed(e)!==t&&n)throw Error(D(425))}function Xs(){}var wc=null,kc=null;function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(nC)}:Ec;function nC(e){setTimeout(function(){throw e})}function Rl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ai(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),zt="__reactFiber$"+vo,di="__reactProps$"+vo,nn="__reactContainer$"+vo,bc="__reactEvents$"+vo,rC="__reactListeners$"+vo,oC="__reactHandles$"+vo;function Xn(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rd(e);e!==null;){if(n=e[zt])return n;e=Rd(e)}return t}e=n,n=e.parentNode}return null}function Pi(e){return e=e[zt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Na(e){return e[di]||null}var Rc=[],Fr=-1;function Wn(e){return{current:e}}function de(e){0>Fr||(e.current=Rc[Fr],Rc[Fr]=null,Fr--)}function ce(e,t){Fr++,Rc[Fr]=e.current,e.current=t}var $n={},Be=Wn($n),nt=Wn(!1),ur=$n;function io(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function Zs(){de(nt),de(Be)}function Pd(e,t,n){if(Be.current!==$n)throw Error(D(168));ce(Be,t),ce(nt,n)}function vm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(D(108,B0(e)||"Unknown",o));return ge({},n,r)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,ur=Be.current,ce(Be,e),ce(nt,nt.current),!0}function Td(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=vm(e,t,ur),r.__reactInternalMemoizedMergedChildContext=e,de(nt),de(Be),ce(Be,e)):de(nt),ce(nt,n)}var Xt=null,ja=!1,Pl=!1;function ym(e){Xt===null?Xt=[e]:Xt.push(e)}function iC(e){ja=!0,ym(e)}function Vn(){if(!Pl&&Xt!==null){Pl=!0;var e=0,t=re;try{var n=Xt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,ja=!1}catch(o){throw Xt!==null&&(Xt=Xt.slice(e+1)),Hh(ju,Vn),o}finally{re=t,Pl=!1}}return null}var Ur=[],Br=0,ea=null,ta=0,xt=[],Ct=0,fr=null,Zt=1,qt="";function Yn(e,t){Ur[Br++]=ta,Ur[Br++]=ea,ea=e,ta=t}function xm(e,t,n){xt[Ct++]=Zt,xt[Ct++]=qt,xt[Ct++]=fr,fr=e;var r=Zt;e=qt;var o=32-jt(r)-1;r&=~(1<<o),n+=1;var i=32-jt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zt=1<<32-jt(t)+o|n<<o|r,qt=i+e}else Zt=1<<i|n<<o|r,qt=e}function Fu(e){e.return!==null&&(Yn(e,1),xm(e,1,0))}function Uu(e){for(;e===ea;)ea=Ur[--Br],Ur[Br]=null,ta=Ur[--Br],Ur[Br]=null;for(;e===fr;)fr=xt[--Ct],xt[Ct]=null,qt=xt[--Ct],xt[Ct]=null,Zt=xt[--Ct],xt[Ct]=null}var ft=null,ut=null,pe=!1,Nt=null;function Cm(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,ut=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:Zt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,ut=null,!0):!1;default:return!1}}function Pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tc(e){if(pe){var t=ut;if(t){var n=t;if(!Nd(e,t)){if(Pc(e))throw Error(D(418));t=jn(n.nextSibling);var r=ft;t&&Nd(e,t)?Cm(r,n):(e.flags=e.flags&-4097|2,pe=!1,ft=e)}}else{if(Pc(e))throw Error(D(418));e.flags=e.flags&-4097|2,pe=!1,ft=e}}}function jd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function ts(e){if(e!==ft)return!1;if(!pe)return jd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_c(e.type,e.memoizedProps)),t&&(t=ut)){if(Pc(e))throw Sm(),Error(D(418));for(;t;)Cm(e,t),t=jn(t.nextSibling)}if(jd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ft?jn(e.stateNode.nextSibling):null;return!0}function Sm(){for(var e=ut;e;)e=jn(e.nextSibling)}function so(){ut=ft=null,pe=!1}function Bu(e){Nt===null?Nt=[e]:Nt.push(e)}var sC=cn.ReactCurrentBatchConfig;function No(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function ns(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dd(e){var t=e._init;return t(e._payload)}function wm(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function o(g,v){return g=Ln(g,v),g.index=0,g.sibling=null,g}function i(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,k){return v===null||v.tag!==6?(v=Ll(x,g.mode,k),v.return=g,v):(v=o(v,x),v.return=g,v)}function l(g,v,x,k){var b=x.type;return b===Lr?u(g,v,x.props.children,k,x.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Cn&&Dd(b)===v.type)?(k=o(v,x.props),k.ref=No(g,v,x),k.return=g,k):(k=Rs(x.type,x.key,x.props,null,g.mode,k),k.ref=No(g,v,x),k.return=g,k)}function c(g,v,x,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Il(x,g.mode,k),v.return=g,v):(v=o(v,x.children||[]),v.return=g,v)}function u(g,v,x,k,b){return v===null||v.tag!==7?(v=cr(x,g.mode,k,b),v.return=g,v):(v=o(v,x),v.return=g,v)}function f(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ll(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vi:return x=Rs(v.type,v.key,v.props,null,g.mode,x),x.ref=No(g,null,v),x.return=g,x;case Mr:return v=Il(v,g.mode,x),v.return=g,v;case Cn:var k=v._init;return f(g,k(v._payload),x)}if(Fo(v)||Eo(v))return v=cr(v,g.mode,x,null),v.return=g,v;ns(g,v)}return null}function d(g,v,x,k){var b=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(g,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vi:return x.key===b?l(g,v,x,k):null;case Mr:return x.key===b?c(g,v,x,k):null;case Cn:return b=x._init,d(g,v,b(x._payload),k)}if(Fo(x)||Eo(x))return b!==null?null:u(g,v,x,k,null);ns(g,x)}return null}function m(g,v,x,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,a(v,g,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vi:return g=g.get(k.key===null?x:k.key)||null,l(v,g,k,b);case Mr:return g=g.get(k.key===null?x:k.key)||null,c(v,g,k,b);case Cn:var S=k._init;return m(g,v,x,S(k._payload),b)}if(Fo(k)||Eo(k))return g=g.get(x)||null,u(v,g,k,b,null);ns(v,k)}return null}function C(g,v,x,k){for(var b=null,S=null,E=v,N=v=0,P=null;E!==null&&N<x.length;N++){E.index>N?(P=E,E=null):P=E.sibling;var O=d(g,E,x[N],k);if(O===null){E===null&&(E=P);break}e&&E&&O.alternate===null&&t(g,E),v=i(O,v,N),S===null?b=O:S.sibling=O,S=O,E=P}if(N===x.length)return n(g,E),pe&&Yn(g,N),b;if(E===null){for(;N<x.length;N++)E=f(g,x[N],k),E!==null&&(v=i(E,v,N),S===null?b=E:S.sibling=E,S=E);return pe&&Yn(g,N),b}for(E=r(g,E);N<x.length;N++)P=m(E,g,N,x[N],k),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?N:P.key),v=i(P,v,N),S===null?b=P:S.sibling=P,S=P);return e&&E.forEach(function(U){return t(g,U)}),pe&&Yn(g,N),b}function y(g,v,x,k){var b=Eo(x);if(typeof b!="function")throw Error(D(150));if(x=b.call(x),x==null)throw Error(D(151));for(var S=b=null,E=v,N=v=0,P=null,O=x.next();E!==null&&!O.done;N++,O=x.next()){E.index>N?(P=E,E=null):P=E.sibling;var U=d(g,E,O.value,k);if(U===null){E===null&&(E=P);break}e&&E&&U.alternate===null&&t(g,E),v=i(U,v,N),S===null?b=U:S.sibling=U,S=U,E=P}if(O.done)return n(g,E),pe&&Yn(g,N),b;if(E===null){for(;!O.done;N++,O=x.next())O=f(g,O.value,k),O!==null&&(v=i(O,v,N),S===null?b=O:S.sibling=O,S=O);return pe&&Yn(g,N),b}for(E=r(g,E);!O.done;N++,O=x.next())O=m(E,g,N,O.value,k),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?N:O.key),v=i(O,v,N),S===null?b=O:S.sibling=O,S=O);return e&&E.forEach(function(Y){return t(g,Y)}),pe&&Yn(g,N),b}function w(g,v,x,k){if(typeof x=="object"&&x!==null&&x.type===Lr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Vi:e:{for(var b=x.key,S=v;S!==null;){if(S.key===b){if(b=x.type,b===Lr){if(S.tag===7){n(g,S.sibling),v=o(S,x.props.children),v.return=g,g=v;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Cn&&Dd(b)===S.type){n(g,S.sibling),v=o(S,x.props),v.ref=No(g,S,x),v.return=g,g=v;break e}n(g,S);break}else t(g,S);S=S.sibling}x.type===Lr?(v=cr(x.props.children,g.mode,k,x.key),v.return=g,g=v):(k=Rs(x.type,x.key,x.props,null,g.mode,k),k.ref=No(g,v,x),k.return=g,g=k)}return s(g);case Mr:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=o(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Il(x,g.mode,k),v.return=g,g=v}return s(g);case Cn:return S=x._init,w(g,v,S(x._payload),k)}if(Fo(x))return C(g,v,x,k);if(Eo(x))return y(g,v,x,k);ns(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=o(v,x),v.return=g,g=v):(n(g,v),v=Ll(x,g.mode,k),v.return=g,g=v),s(g)):n(g,v)}return w}var ao=wm(!0),km=wm(!1),na=Wn(null),ra=null,Hr=null,Hu=null;function Wu(){Hu=Hr=ra=null}function Vu(e){var t=na.current;de(na),e._currentValue=t}function Nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){ra=e,Hu=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Hu!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(ra===null)throw Error(D(308));Hr=e,ra.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var Zn=null;function Gu(e){Zn===null?Zn=[e]:Zn.push(e)}function _m(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Gu(t)):(n.next=o.next,o.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,rn(e,n)}return o=r.interleaved,o===null?(t.next=t,Gu(r)):(t.next=o.next,o.next=t),r.interleaved=t,rn(e,n)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Du(e,n)}}function Od(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oa(e,t,n,r){var o=e.updateQueue;Sn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,u=c=l=null,a=i;do{var d=a.lane,m=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=e,y=a;switch(d=t,m=n,y.tag){case 1:if(C=y.payload,typeof C=="function"){f=C.call(m,f,d);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=y.payload,d=typeof C=="function"?C.call(m,f,d):C,d==null)break e;f=ge({},f,d);break e;case 2:Sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,s|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(u===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);pr|=s,e.lanes=s,e.memoizedState=f}}function Md(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(D(191,o));o.call(r)}}}var Ti={},Ht=Wn(Ti),pi=Wn(Ti),hi=Wn(Ti);function qn(e){if(e===Ti)throw Error(D(174));return e}function Yu(e,t){switch(ce(hi,t),ce(pi,e),ce(Ht,Ti),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uc(t,e)}de(Ht),ce(Ht,t)}function lo(){de(Ht),de(pi),de(hi)}function bm(e){qn(hi.current);var t=qn(Ht.current),n=uc(t,e.type);t!==n&&(ce(pi,e),ce(Ht,n))}function Ju(e){pi.current===e&&(de(Ht),de(pi))}var he=Wn(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function Qu(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var ws=cn.ReactCurrentDispatcher,Nl=cn.ReactCurrentBatchConfig,dr=0,me=null,be=null,Ne=null,sa=!1,Yo=!1,mi=0,aC=0;function ze(){throw Error(D(321))}function Xu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function Zu(e,t,n,r,o,i){if(dr=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=e===null||e.memoizedState===null?fC:dC,e=n(r,o),Yo){i=0;do{if(Yo=!1,mi=0,25<=i)throw Error(D(301));i+=1,Ne=be=null,t.updateQueue=null,ws.current=pC,e=n(r,o)}while(Yo)}if(ws.current=aa,t=be!==null&&be.next!==null,dr=0,Ne=be=me=null,sa=!1,t)throw Error(D(300));return e}function qu(){var e=mi!==0;return mi=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?me.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function _t(){if(be===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ne===null?me.memoizedState:Ne.next;if(t!==null)Ne=t,be=e;else{if(e===null)throw Error(D(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ne===null?me.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function gi(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=_t(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=be,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((dr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,me.lanes|=u,pr|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Ot(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,me.lanes|=i,pr|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dl(e){var t=_t(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ot(i,t.memoizedState)||(tt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Rm(){}function Pm(e,t){var n=me,r=_t(),o=t(),i=!Ot(r.memoizedState,o);if(i&&(r.memoizedState=o,tt=!0),r=r.queue,ef(jm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,vi(9,Nm.bind(null,n,r,o,t),void 0,null),De===null)throw Error(D(349));dr&30||Tm(n,t,o)}return o}function Tm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nm(e,t,n,r){t.value=n,t.getSnapshot=r,Dm(t)&&Om(e)}function jm(e,t,n){return n(function(){Dm(t)&&Om(e)})}function Dm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Om(e){var t=rn(e,1);t!==null&&Dt(t,e,1,-1)}function Ld(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=uC.bind(null,me,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Mm(){return _t().memoizedState}function ks(e,t,n,r){var o=$t();me.flags|=e,o.memoizedState=vi(1|t,n,void 0,r===void 0?null:r)}function Da(e,t,n,r){var o=_t();r=r===void 0?null:r;var i=void 0;if(be!==null){var s=be.memoizedState;if(i=s.destroy,r!==null&&Xu(r,s.deps)){o.memoizedState=vi(t,n,i,r);return}}me.flags|=e,o.memoizedState=vi(1|t,n,i,r)}function Id(e,t){return ks(8390656,8,e,t)}function ef(e,t){return Da(2048,8,e,t)}function Lm(e,t){return Da(4,2,e,t)}function Im(e,t){return Da(4,4,e,t)}function Am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $m(e,t,n){return n=n!=null?n.concat([e]):null,Da(4,4,Am.bind(null,t,e),n)}function tf(){}function zm(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fm(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Um(e,t,n){return dr&21?(Ot(n,t)||(n=Gh(),me.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function lC(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Nl.transition;Nl.transition={};try{e(!1),t()}finally{re=n,Nl.transition=r}}function Bm(){return _t().memoizedState}function cC(e,t,n){var r=Mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hm(e))Wm(t,n);else if(n=_m(e,t,n,r),n!==null){var o=Ke();Dt(n,e,r,o),Vm(n,t,r)}}function uC(e,t,n){var r=Mn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hm(e))Wm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Ot(a,s)){var l=t.interleaved;l===null?(o.next=o,Gu(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=_m(e,t,o,r),n!==null&&(o=Ke(),Dt(n,e,r,o),Vm(n,t,r))}}function Hm(e){var t=e.alternate;return e===me||t!==null&&t===me}function Wm(e,t){Yo=sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Du(e,n)}}var aa={readContext:kt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},fC={readContext:kt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Id,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ks(4194308,4,Am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cC.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Ld,useDebugValue:tf,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Ld(!1),t=e[0];return e=lC.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,o=$t();if(pe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),De===null)throw Error(D(349));dr&30||Tm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Id(jm.bind(null,r,i,e),[e]),r.flags|=2048,vi(9,Nm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=$t(),t=De.identifierPrefix;if(pe){var n=qt,r=Zt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dC={readContext:kt,useCallback:zm,useContext:kt,useEffect:ef,useImperativeHandle:$m,useInsertionEffect:Lm,useLayoutEffect:Im,useMemo:Fm,useReducer:jl,useRef:Mm,useState:function(){return jl(gi)},useDebugValue:tf,useDeferredValue:function(e){var t=_t();return Um(t,be.memoizedState,e)},useTransition:function(){var e=jl(gi)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Rm,useSyncExternalStore:Pm,useId:Bm,unstable_isNewReconciler:!1},pC={readContext:kt,useCallback:zm,useContext:kt,useEffect:ef,useImperativeHandle:$m,useInsertionEffect:Lm,useLayoutEffect:Im,useMemo:Fm,useReducer:Dl,useRef:Mm,useState:function(){return Dl(gi)},useDebugValue:tf,useDeferredValue:function(e){var t=_t();return be===null?t.memoizedState=e:Um(t,be.memoizedState,e)},useTransition:function(){var e=Dl(gi)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Rm,useSyncExternalStore:Pm,useId:Bm,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),o=Mn(e),i=en(r,o);i.payload=t,n!=null&&(i.callback=n),t=Dn(e,i,o),t!==null&&(Dt(t,e,o,r),Ss(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),o=Mn(e),i=en(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Dn(e,i,o),t!==null&&(Dt(t,e,o,r),Ss(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=Mn(e),o=en(n,r);o.tag=2,t!=null&&(o.callback=t),t=Dn(e,o,r),t!==null&&(Dt(t,e,r,n),Ss(t,e,r))}};function Ad(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!ci(n,r)||!ci(o,i):!0}function Gm(e,t,n){var r=!1,o=$n,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(o=rt(t)?ur:Be.current,r=t.contextTypes,i=(r=r!=null)?io(e,o):$n),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function $d(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Dc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ku(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=kt(i):(i=rt(t)?ur:Be.current,o.context=io(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jc(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Oa.enqueueReplaceState(o,o.state,null),oa(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do n+=U0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Oc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hC=typeof WeakMap=="function"?WeakMap:Map;function Km(e,t,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ca||(ca=!0,Hc=r),Oc(e,t)},n}function Ym(e,t,n){n=en(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Oc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Oc(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function zd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hC;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=PC.bind(null,e,t,n),t.then(e,e))}function Fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ud(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=en(-1,1),t.tag=2,Dn(n,t,1))),n.lanes|=1),e)}var mC=cn.ReactCurrentOwner,tt=!1;function We(e,t,n,r){t.child=e===null?km(t,null,n,r):ao(t,e.child,n,r)}function Bd(e,t,n,r,o){n=n.render;var i=t.ref;return Zr(t,o),r=Zu(e,t,n,r,i,o),n=qu(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,on(e,t,o)):(pe&&n&&Fu(t),t.flags|=1,We(e,t,r,o),t.child)}function Hd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!uf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Jm(e,t,i,r,o)):(e=Rs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(s,r)&&e.ref===t.ref)return on(e,t,o)}return t.flags|=1,e=Ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function Jm(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(ci(i,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,on(e,t,o)}return Mc(e,t,n,r,o)}function Qm(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Vr,at),at|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Vr,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Vr,at),at|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(Vr,at),at|=r;return We(e,t,o,n),t.child}function Xm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mc(e,t,n,r,o){var i=rt(n)?ur:Be.current;return i=io(t,i),Zr(t,o),n=Zu(e,t,n,r,i,o),r=qu(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,on(e,t,o)):(pe&&r&&Fu(t),t.flags|=1,We(e,t,n,o),t.child)}function Wd(e,t,n,r,o){if(rt(n)){var i=!0;qs(t)}else i=!1;if(Zr(t,o),t.stateNode===null)_s(e,t),Gm(t,n,r),Dc(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=rt(n)?ur:Be.current,c=io(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$d(t,s,r,c),Sn=!1;var d=t.memoizedState;s.state=d,oa(t,r,s,o),l=t.memoizedState,a!==r||d!==l||nt.current||Sn?(typeof u=="function"&&(jc(t,n,u,r),l=t.memoizedState),(a=Sn||Ad(t,n,a,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Em(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Rt(t.type,a),s.props=c,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=rt(n)?ur:Be.current,l=io(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&$d(t,s,r,l),Sn=!1,d=t.memoizedState,s.state=d,oa(t,r,s,o);var C=t.memoizedState;a!==f||d!==C||nt.current||Sn?(typeof m=="function"&&(jc(t,n,m,r),C=t.memoizedState),(c=Sn||Ad(t,n,c,r,d,C,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),s.props=r,s.state=C,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Lc(e,t,n,r,i,o)}function Lc(e,t,n,r,o,i){Xm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Td(t,n,!1),on(e,t,i);r=t.stateNode,mC.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ao(t,e.child,null,i),t.child=ao(t,null,a,i)):We(e,t,a,i),t.memoizedState=r.state,o&&Td(t,n,!0),t.child}function Zm(e){var t=e.stateNode;t.pendingContext?Pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pd(e,t.context,!1),Yu(e,t.containerInfo)}function Vd(e,t,n,r,o){return so(),Bu(o),t.flags|=256,We(e,t,n,r),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function qm(e,t,n){var r=t.pendingProps,o=he.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(he,o&1),e===null)return Tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ia(s,r,0,null),e=cr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ac(n),t.memoizedState=Ic,e):nf(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return gC(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ln(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Ln(a,i):(i=cr(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ac(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ic,r}return i=e.child,e=i.sibling,r=Ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nf(e,t){return t=Ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rs(e,t,n,r){return r!==null&&Bu(r),ao(t,e.child,null,n),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gC(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(D(422))),rs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ia({mode:"visible",children:r.children},o,0,null),i=cr(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ao(t,e.child,null,s),t.child.memoizedState=Ac(s),t.memoizedState=Ic,i);if(!(t.mode&1))return rs(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Ol(i,r,void 0),rs(e,t,s,r)}if(a=(s&e.childLanes)!==0,tt||a){if(r=De,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,rn(e,o),Dt(r,e,o,-1))}return cf(),r=Ol(Error(D(421))),rs(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=TC.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ut=jn(o.nextSibling),ft=t,pe=!0,Nt=null,e!==null&&(xt[Ct++]=Zt,xt[Ct++]=qt,xt[Ct++]=fr,Zt=e.id,qt=e.overflow,fr=t),t=nf(t,r.children),t.flags|=4096,t)}function Gd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nc(e.return,t,n)}function Ml(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function eg(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(We(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,n,t);else if(e.tag===19)Gd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(he,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ia(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ml(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ia(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ml(t,!0,n,null,i);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vC(e,t,n){switch(t.tag){case 3:Zm(t),so();break;case 5:bm(t);break;case 1:rt(t.type)&&qs(t);break;case 4:Yu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(na,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?qm(e,t,n):(ce(he,he.current&1),e=on(e,t,n),e!==null?e.sibling:null);ce(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return eg(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,Qm(e,t,n)}return on(e,t,n)}var tg,$c,ng,rg;tg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$c=function(){};ng=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,qn(Ht.current);var i=null;switch(n){case"input":o=sc(e,o),r=sc(e,r),i=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":o=cc(e,o),r=cc(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xs)}fc(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ni.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ni.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ue("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};rg=function(e,t,n,r){n!==r&&(t.flags|=4)};function jo(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yC(e,t,n){var r=t.pendingProps;switch(Uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return rt(t.type)&&Zs(),Fe(t),null;case 3:return r=t.stateNode,lo(),de(nt),de(Be),Qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Gc(Nt),Nt=null))),$c(e,t),Fe(t),null;case 5:Ju(t);var o=qn(hi.current);if(n=t.type,e!==null&&t.stateNode!=null)ng(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Fe(t),null}if(e=qn(Ht.current),ts(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[zt]=t,r[di]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<Bo.length;o++)ue(Bo[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":td(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":rd(r,i),ue("invalid",r)}fc(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&es(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&es(r.textContent,a,e),o=["children",""+a]):ni.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":Gi(r),nd(r,i,!0);break;case"textarea":Gi(r),od(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zt]=t,e[di]=r,tg(e,t,!1,!1),t.stateNode=e;e:{switch(s=dc(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<Bo.length;o++)ue(Bo[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":td(e,r),o=sc(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":rd(e,r),o=cc(e,r),ue("invalid",e);break;default:o=r}fc(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Mh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dh(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ri(e,l):typeof l=="number"&&ri(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ni.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ue("scroll",e):l!=null&&bu(e,i,l,s))}switch(n){case"input":Gi(e),nd(e,r,!1);break;case"textarea":Gi(e),od(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)rg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=qn(hi.current),qn(Ht.current),ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(i=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&es(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Fe(t),null;case 13:if(de(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&ut!==null&&t.mode&1&&!(t.flags&128))Sm(),so(),t.flags|=98560,i=!1;else if(i=ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[zt]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),i=!1}else Nt!==null&&(Gc(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Re===0&&(Re=3):cf())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return lo(),$c(e,t),e===null&&ui(t.stateNode.containerInfo),Fe(t),null;case 10:return Vu(t.type._context),Fe(t),null;case 17:return rt(t.type)&&Zs(),Fe(t),null;case 19:if(de(he),i=t.memoizedState,i===null)return Fe(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)jo(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ia(e),s!==null){for(t.flags|=128,jo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>uo&&(t.flags|=128,r=!0,jo(i,!1),t.lanes=4194304)}else{if(!r)if(e=ia(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return Fe(t),null}else 2*we()-i.renderingStartTime>uo&&n!==1073741824&&(t.flags|=128,r=!0,jo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=he.current,ce(he,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return lf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?at&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function xC(e,t){switch(Uu(t),t.tag){case 1:return rt(t.type)&&Zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),de(nt),de(Be),Qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(de(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(he),null;case 4:return lo(),null;case 10:return Vu(t.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var os=!1,Ue=!1,CC=typeof WeakSet=="function"?WeakSet:Set,L=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function zc(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Kd=!1;function SC(e,t){if(wc=Ys,e=lm(),zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++c===o&&(a=s),d===i&&++u===r&&(l=s),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},Ys=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var y=C.memoizedProps,w=C.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Rt(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){Ce(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return C=Kd,Kd=!1,C}function Jo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&zc(t,n,i)}o=o.next}while(o!==r)}}function Ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function og(e){var t=e.alternate;t!==null&&(e.alternate=null,og(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[di],delete t[bc],delete t[rC],delete t[oC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ig(e){return e.tag===5||e.tag===3||e.tag===4}function Yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xs));else if(r!==4&&(e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}function Bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}var Le=null,Pt=!1;function vn(e,t,n){for(n=n.child;n!==null;)sg(e,t,n),n=n.sibling}function sg(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ba,n)}catch{}switch(n.tag){case 5:Ue||Wr(n,t);case 6:var r=Le,o=Pt;Le=null,vn(e,t,n),Le=r,Pt=o,Le!==null&&(Pt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Pt?(e=Le,n=n.stateNode,e.nodeType===8?Rl(e.parentNode,n):e.nodeType===1&&Rl(e,n),ai(e)):Rl(Le,n.stateNode));break;case 4:r=Le,o=Pt,Le=n.stateNode.containerInfo,Pt=!0,vn(e,t,n),Le=r,Pt=o;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&zc(n,t,s),o=o.next}while(o!==r)}vn(e,t,n);break;case 1:if(!Ue&&(Wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,vn(e,t,n),Ue=r):vn(e,t,n);break;default:vn(e,t,n)}}function Jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CC),t.forEach(function(r){var o=NC.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Pt=!1;break e;case 3:Le=a.stateNode.containerInfo,Pt=!0;break e;case 4:Le=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(Le===null)throw Error(D(160));sg(i,s,o),Le=null,Pt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Ce(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ag(t,e),t=t.sibling}function ag(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),At(e),r&4){try{Jo(3,e,e.return),Ma(3,e)}catch(y){Ce(e,e.return,y)}try{Jo(5,e,e.return)}catch(y){Ce(e,e.return,y)}}break;case 1:bt(t,e),At(e),r&512&&n!==null&&Wr(n,n.return);break;case 5:if(bt(t,e),At(e),r&512&&n!==null&&Wr(n,n.return),e.flags&32){var o=e.stateNode;try{ri(o,"")}catch(y){Ce(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Th(o,i),dc(a,s);var c=dc(a,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?Mh(o,f):u==="dangerouslySetInnerHTML"?Dh(o,f):u==="children"?ri(o,f):bu(o,u,f,c)}switch(a){case"input":ac(o,i);break;case"textarea":Nh(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yr(o,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?Yr(o,!!i.multiple,i.defaultValue,!0):Yr(o,!!i.multiple,i.multiple?[]:"",!1))}o[di]=i}catch(y){Ce(e,e.return,y)}}break;case 6:if(bt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(D(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){Ce(e,e.return,y)}}break;case 3:if(bt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(y){Ce(e,e.return,y)}break;case 4:bt(t,e),At(e);break;case 13:bt(t,e),At(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(sf=we())),r&4&&Jd(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(c=Ue)||u,bt(t,e),Ue=c):bt(t,e),At(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(L=e,u=e.child;u!==null;){for(f=L=u;L!==null;){switch(d=L,m=d.child,d.tag){case 0:case 11:case 14:case 15:Jo(4,d,d.return);break;case 1:Wr(d,d.return);var C=d.stateNode;if(typeof C.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(y){Ce(r,n,y)}}break;case 5:Wr(d,d.return);break;case 22:if(d.memoizedState!==null){Xd(f);continue}}m!==null?(m.return=d,L=m):Xd(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Oh("display",s))}catch(y){Ce(e,e.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Ce(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bt(t,e),At(e),r&4&&Jd(e);break;case 21:break;default:bt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ig(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ri(o,""),r.flags&=-33);var i=Yd(e);Bc(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Yd(e);Uc(e,a,s);break;default:throw Error(D(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wC(e,t,n){L=e,lg(e)}function lg(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||os;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ue;a=os;var c=Ue;if(os=s,(Ue=l)&&!c)for(L=o;L!==null;)s=L,l=s.child,s.tag===22&&s.memoizedState!==null?Zd(o):l!==null?(l.return=s,L=l):Zd(o);for(;i!==null;)L=i,lg(i),i=i.sibling;L=o,os=a,Ue=c}Qd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,L=i):Qd(e)}}function Qd(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||Ma(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Md(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Md(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ai(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ue||t.flags&512&&Fc(t)}catch(d){Ce(t,t.return,d)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Xd(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Zd(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ma(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Ce(t,o,l)}}var i=t.return;try{Fc(t)}catch(l){Ce(t,i,l)}break;case 5:var s=t.return;try{Fc(t)}catch(l){Ce(t,s,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var kC=Math.ceil,la=cn.ReactCurrentDispatcher,rf=cn.ReactCurrentOwner,wt=cn.ReactCurrentBatchConfig,ee=0,De=null,_e=null,Ie=0,at=0,Vr=Wn(0),Re=0,yi=null,pr=0,La=0,of=0,Qo=null,et=null,sf=0,uo=1/0,Qt=null,ca=!1,Hc=null,On=null,is=!1,Rn=null,ua=0,Xo=0,Wc=null,Es=-1,bs=0;function Ke(){return ee&6?we():Es!==-1?Es:Es=we()}function Mn(e){return e.mode&1?ee&2&&Ie!==0?Ie&-Ie:sC.transition!==null?(bs===0&&(bs=Gh()),bs):(e=re,e!==0||(e=window.event,e=e===void 0?16:qh(e.type)),e):1}function Dt(e,t,n,r){if(50<Xo)throw Xo=0,Wc=null,Error(D(185));bi(e,n,r),(!(ee&2)||e!==De)&&(e===De&&(!(ee&2)&&(La|=n),Re===4&&_n(e,Ie)),ot(e,r),n===1&&ee===0&&!(t.mode&1)&&(uo=we()+500,ja&&Vn()))}function ot(e,t){var n=e.callbackNode;sx(e,t);var r=Ks(e,e===De?Ie:0);if(r===0)n!==null&&ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ad(n),t===1)e.tag===0?iC(qd.bind(null,e)):ym(qd.bind(null,e)),tC(function(){!(ee&6)&&Vn()}),n=null;else{switch(Kh(r)){case 1:n=ju;break;case 4:n=Wh;break;case 16:n=Gs;break;case 536870912:n=Vh;break;default:n=Gs}n=gg(n,cg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cg(e,t){if(Es=-1,bs=0,ee&6)throw Error(D(327));var n=e.callbackNode;if(qr()&&e.callbackNode!==n)return null;var r=Ks(e,e===De?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fa(e,r);else{t=r;var o=ee;ee|=2;var i=fg();(De!==e||Ie!==t)&&(Qt=null,uo=we()+500,lr(e,t));do try{bC();break}catch(a){ug(e,a)}while(!0);Wu(),la.current=i,ee=o,_e!==null?t=0:(De=null,Ie=0,t=Re)}if(t!==0){if(t===2&&(o=vc(e),o!==0&&(r=o,t=Vc(e,o))),t===1)throw n=yi,lr(e,0),_n(e,r),ot(e,we()),n;if(t===6)_n(e,r);else{if(o=e.current.alternate,!(r&30)&&!_C(o)&&(t=fa(e,r),t===2&&(i=vc(e),i!==0&&(r=i,t=Vc(e,i))),t===1))throw n=yi,lr(e,0),_n(e,r),ot(e,we()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Jn(e,et,Qt);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=sf+500-we(),10<t)){if(Ks(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ec(Jn.bind(null,e,et,Qt),t);break}Jn(e,et,Qt);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-jt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kC(r/1960))-r,10<r){e.timeoutHandle=Ec(Jn.bind(null,e,et,Qt),r);break}Jn(e,et,Qt);break;case 5:Jn(e,et,Qt);break;default:throw Error(D(329))}}}return ot(e,we()),e.callbackNode===n?cg.bind(null,e):null}function Vc(e,t){var n=Qo;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=fa(e,t),e!==2&&(t=et,et=n,t!==null&&Gc(t)),e}function Gc(e){et===null?et=e:et.push.apply(et,e)}function _C(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ot(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~of,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function qd(e){if(ee&6)throw Error(D(327));qr();var t=Ks(e,0);if(!(t&1))return ot(e,we()),null;var n=fa(e,t);if(e.tag!==0&&n===2){var r=vc(e);r!==0&&(t=r,n=Vc(e,r))}if(n===1)throw n=yi,lr(e,0),_n(e,t),ot(e,we()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,et,Qt),ot(e,we()),null}function af(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(uo=we()+500,ja&&Vn())}}function hr(e){Rn!==null&&Rn.tag===0&&!(ee&6)&&qr();var t=ee;ee|=1;var n=wt.transition,r=re;try{if(wt.transition=null,re=1,e)return e()}finally{re=r,wt.transition=n,ee=t,!(ee&6)&&Vn()}}function lf(){at=Vr.current,de(Vr)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eC(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(Uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zs();break;case 3:lo(),de(nt),de(Be),Qu();break;case 5:Ju(r);break;case 4:lo();break;case 13:de(he);break;case 19:de(he);break;case 10:Vu(r.type._context);break;case 22:case 23:lf()}n=n.return}if(De=e,_e=e=Ln(e.current,null),Ie=at=t,Re=0,yi=null,of=La=pr=0,et=Qo=null,Zn!==null){for(t=0;t<Zn.length;t++)if(n=Zn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Zn=null}return e}function ug(e,t){do{var n=_e;try{if(Wu(),ws.current=aa,sa){for(var r=me.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}sa=!1}if(dr=0,Ne=be=me=null,Yo=!1,mi=0,rf.current=null,n===null||n.return===null){Re=1,yi=t,_e=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Fd(s);if(m!==null){m.flags&=-257,Ud(m,s,a,i,t),m.mode&1&&zd(i,c,t),t=m,l=c;var C=t.updateQueue;if(C===null){var y=new Set;y.add(l),t.updateQueue=y}else C.add(l);break e}else{if(!(t&1)){zd(i,c,t),cf();break e}l=Error(D(426))}}else if(pe&&a.mode&1){var w=Fd(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ud(w,s,a,i,t),Bu(co(l,a));break e}}i=l=co(l,a),Re!==4&&(Re=2),Qo===null?Qo=[i]:Qo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Km(i,l,t);Od(i,g);break e;case 1:a=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(On===null||!On.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Ym(i,a,t);Od(i,k);break e}}i=i.return}while(i!==null)}pg(n)}catch(b){t=b,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function fg(){var e=la.current;return la.current=aa,e===null?aa:e}function cf(){(Re===0||Re===3||Re===2)&&(Re=4),De===null||!(pr&268435455)&&!(La&268435455)||_n(De,Ie)}function fa(e,t){var n=ee;ee|=2;var r=fg();(De!==e||Ie!==t)&&(Qt=null,lr(e,t));do try{EC();break}catch(o){ug(e,o)}while(!0);if(Wu(),ee=n,la.current=r,_e!==null)throw Error(D(261));return De=null,Ie=0,Re}function EC(){for(;_e!==null;)dg(_e)}function bC(){for(;_e!==null&&!X0();)dg(_e)}function dg(e){var t=mg(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?pg(e):_e=t,rf.current=null}function pg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xC(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,_e=null;return}}else if(n=yC(n,t,at),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Re===0&&(Re=5)}function Jn(e,t,n){var r=re,o=wt.transition;try{wt.transition=null,re=1,RC(e,t,n,r)}finally{wt.transition=o,re=r}return null}function RC(e,t,n,r){do qr();while(Rn!==null);if(ee&6)throw Error(D(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ax(e,i),e===De&&(_e=De=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||is||(is=!0,gg(Gs,function(){return qr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var s=re;re=1;var a=ee;ee|=4,rf.current=null,SC(e,n),ag(n,e),Kx(kc),Ys=!!wc,kc=wc=null,e.current=n,wC(n),Z0(),ee=a,re=s,wt.transition=i}else e.current=n;if(is&&(is=!1,Rn=e,ua=o),i=e.pendingLanes,i===0&&(On=null),tx(n.stateNode),ot(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ca)throw ca=!1,e=Hc,Hc=null,e;return ua&1&&e.tag!==0&&qr(),i=e.pendingLanes,i&1?e===Wc?Xo++:(Xo=0,Wc=e):Xo=0,Vn(),null}function qr(){if(Rn!==null){var e=Kh(ua),t=wt.transition,n=re;try{if(wt.transition=null,re=16>e?16:e,Rn===null)var r=!1;else{if(e=Rn,Rn=null,ua=0,ee&6)throw Error(D(331));var o=ee;for(ee|=4,L=e.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:Jo(8,u,i)}var f=u.child;if(f!==null)f.return=u,L=f;else for(;L!==null;){u=L;var d=u.sibling,m=u.return;if(og(u),u===c){L=null;break}if(d!==null){d.return=m,L=d;break}L=m}}}var C=i.alternate;if(C!==null){var y=C.child;if(y!==null){C.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var v=e.current;for(L=v;L!==null;){s=L;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,L=x;else e:for(s=v;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ma(9,a)}}catch(b){Ce(a,a.return,b)}if(a===s){L=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,L=k;break e}L=a.return}}if(ee=o,Vn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ba,e)}catch{}r=!0}return r}finally{re=n,wt.transition=t}}return!1}function ep(e,t,n){t=co(n,t),t=Km(e,t,1),e=Dn(e,t,1),t=Ke(),e!==null&&(bi(e,1,t),ot(e,t))}function Ce(e,t,n){if(e.tag===3)ep(e,e,n);else for(;t!==null;){if(t.tag===3){ep(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=co(n,e),e=Ym(t,e,1),t=Dn(t,e,1),e=Ke(),t!==null&&(bi(t,1,e),ot(t,e));break}}t=t.return}}function PC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ie&n)===n&&(Re===4||Re===3&&(Ie&130023424)===Ie&&500>we()-sf?lr(e,0):of|=n),ot(e,t)}function hg(e,t){t===0&&(e.mode&1?(t=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):t=1);var n=Ke();e=rn(e,t),e!==null&&(bi(e,t,n),ot(e,n))}function TC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hg(e,n)}function NC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),hg(e,n)}var mg;mg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,vC(e,t,n);tt=!!(e.flags&131072)}else tt=!1,pe&&t.flags&1048576&&xm(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_s(e,t),e=t.pendingProps;var o=io(t,Be.current);Zr(t,n),o=Zu(null,t,r,e,o,n);var i=qu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(i=!0,qs(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ku(t),o.updater=Oa,t.stateNode=o,o._reactInternals=t,Dc(t,r,e,n),t=Lc(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Fu(t),We(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=DC(r),e=Rt(r,e),o){case 0:t=Mc(null,t,r,e,n);break e;case 1:t=Wd(null,t,r,e,n);break e;case 11:t=Bd(null,t,r,e,n);break e;case 14:t=Hd(null,t,r,Rt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Rt(r,o),Mc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Rt(r,o),Wd(e,t,r,o,n);case 3:e:{if(Zm(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Em(e,t),oa(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=co(Error(D(423)),t),t=Vd(e,t,r,n,o);break e}else if(r!==o){o=co(Error(D(424)),t),t=Vd(e,t,r,n,o);break e}else for(ut=jn(t.stateNode.containerInfo.firstChild),ft=t,pe=!0,Nt=null,n=km(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===o){t=on(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return bm(t),e===null&&Tc(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,_c(r,o)?s=null:i!==null&&_c(r,i)&&(t.flags|=32),Xm(e,t),We(e,t,s,n),t.child;case 6:return e===null&&Tc(t),null;case 13:return qm(e,t,n);case 4:return Yu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ao(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Rt(r,o),Bd(e,t,r,o,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ce(na,r._currentValue),r._currentValue=s,i!==null)if(Ot(i.value,s)){if(i.children===o.children&&!nt.current){t=on(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=en(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Nc(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}We(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Zr(t,n),o=kt(o),r=r(o),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,o=Rt(r,t.pendingProps),o=Rt(r.type,o),Hd(e,t,r,o,n);case 15:return Jm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Rt(r,o),_s(e,t),t.tag=1,rt(r)?(e=!0,qs(t)):e=!1,Zr(t,n),Gm(t,r,o),Dc(t,r,o,n),Lc(null,t,r,!0,e,n);case 19:return eg(e,t,n);case 22:return Qm(e,t,n)}throw Error(D(156,t.tag))};function gg(e,t){return Hh(e,t)}function jC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new jC(e,t,n,r)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DC(e){if(typeof e=="function")return uf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pu)return 11;if(e===Tu)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")uf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Lr:return cr(n.children,o,i,t);case Ru:s=8,o|=8;break;case nc:return e=St(12,n,t,o|2),e.elementType=nc,e.lanes=i,e;case rc:return e=St(13,n,t,o),e.elementType=rc,e.lanes=i,e;case oc:return e=St(19,n,t,o),e.elementType=oc,e.lanes=i,e;case bh:return Ia(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _h:s=10;break e;case Eh:s=9;break e;case Pu:s=11;break e;case Tu:s=14;break e;case Cn:s=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=St(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function cr(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function Ia(e,t,n,r){return e=St(22,e,r,t),e.elementType=bh,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Il(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OC(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ff(e,t,n,r,o,i,s,a,l){return e=new OC(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(i),e}function MC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vg(e){if(!e)return $n;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(rt(n))return vm(e,n,t)}return t}function yg(e,t,n,r,o,i,s,a,l){return e=ff(n,r,!0,e,o,i,s,a,l),e.context=vg(null),n=e.current,r=Ke(),o=Mn(n),i=en(r,o),i.callback=t??null,Dn(n,i,o),e.current.lanes=o,bi(e,o,r),ot(e,r),e}function Aa(e,t,n,r){var o=t.current,i=Ke(),s=Mn(o);return n=vg(n),t.context===null?t.context=n:t.pendingContext=n,t=en(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dn(o,t,s),e!==null&&(Dt(e,o,s,i),Ss(e,o,s)),s}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){tp(e,t),(e=e.alternate)&&tp(e,t)}function LC(){return null}var xg=typeof reportError=="function"?reportError:function(e){console.error(e)};function pf(e){this._internalRoot=e}$a.prototype.render=pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Aa(e,t,null,null)};$a.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){Aa(null,e,null,null)}),t[nn]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&Zh(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function np(){}function IC(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=da(s);i.call(c)}}var s=yg(t,r,e,0,null,!1,!1,"",np);return e._reactRootContainer=s,e[nn]=s.current,ui(e.nodeType===8?e.parentNode:e),hr(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=da(l);a.call(c)}}var l=ff(e,0,!1,null,null,!1,!1,"",np);return e._reactRootContainer=l,e[nn]=l.current,ui(e.nodeType===8?e.parentNode:e),hr(function(){Aa(t,l,n,r)}),l}function Fa(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=da(s);a.call(l)}}Aa(t,s,e,o)}else s=IC(n,t,e,o,r);return da(s)}Yh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Uo(t.pendingLanes);n!==0&&(Du(t,n|1),ot(t,we()),!(ee&6)&&(uo=we()+500,Vn()))}break;case 13:hr(function(){var r=rn(e,1);if(r!==null){var o=Ke();Dt(r,e,1,o)}}),df(e,1)}};Ou=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ke();Dt(t,e,134217728,n)}df(e,134217728)}};Jh=function(e){if(e.tag===13){var t=Mn(e),n=rn(e,t);if(n!==null){var r=Ke();Dt(n,e,t,r)}df(e,t)}};Qh=function(){return re};Xh=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};hc=function(e,t,n){switch(t){case"input":if(ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Na(r);if(!o)throw Error(D(90));Ph(r),ac(r,o)}}}break;case"textarea":Nh(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};Ah=af;$h=hr;var AC={usingClientEntryPoint:!1,Events:[Pi,zr,Na,Lh,Ih,af]},Do={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uh(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||LC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ss.isDisabled&&ss.supportsFiber)try{ba=ss.inject($C),Bt=ss}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(t))throw Error(D(200));return MC(e,t,null,n)};ht.createRoot=function(e,t){if(!hf(e))throw Error(D(299));var n=!1,r="",o=xg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ff(e,1,!1,null,null,n,!1,r,o),e[nn]=t.current,ui(e.nodeType===8?e.parentNode:e),new pf(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Uh(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return hr(e)};ht.hydrate=function(e,t,n){if(!za(t))throw Error(D(200));return Fa(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!hf(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=xg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=yg(t,null,e,1,n??null,o,!1,i,s),e[nn]=t.current,ui(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new $a(t)};ht.render=function(e,t,n){if(!za(t))throw Error(D(200));return Fa(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!za(e))throw Error(D(40));return e._reactRootContainer?(hr(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ht.unstable_batchedUpdates=af;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!za(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Fa(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(e){console.error(e)}}Cg(),Ch.exports=ht;var Ni=Ch.exports;const Sg=_a(Ni),zC=xu({__proto__:null,default:Sg},[Ni]);var rp=Ni;ec.createRoot=rp.createRoot,ec.hydrateRoot=rp.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}var ke;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ke||(ke={}));const op="popstate";function FC(e){e===void 0&&(e={});function t(o,i){let{pathname:s="/",search:a="",hash:l=""}=un(o.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),xi("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=o.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:ji(i))}function r(o,i){mr(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return BC(t,n,r,e)}function q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UC(){return Math.random().toString(36).substr(2,8)}function ip(e,t){return{usr:e.state,key:e.key,idx:t}}function xi(e,t,n,r){return n===void 0&&(n=null),Se({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?un(t):t,{state:n,key:t&&t.key||r||UC()})}function ji(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function un(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function BC(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=ke.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Se({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=ke.Pop;let w=u(),g=w==null?null:w-c;c=w,l&&l({action:a,location:y.location,delta:g})}function d(w,g){a=ke.Push;let v=xi(y.location,w,g);n&&n(v,w),c=u()+1;let x=ip(v,c),k=y.createHref(v);try{s.pushState(x,"",k)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;o.location.assign(k)}i&&l&&l({action:a,location:y.location,delta:1})}function m(w,g){a=ke.Replace;let v=xi(y.location,w,g);n&&n(v,w),c=u();let x=ip(v,c),k=y.createHref(v);s.replaceState(x,"",k),i&&l&&l({action:a,location:y.location,delta:0})}function C(w){let g=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof w=="string"?w:ji(w);return v=v.replace(/ $/,"%20"),q(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return e(o,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(op,f),l=w,()=>{o.removeEventListener(op,f),l=null}},createHref(w){return t(o,w)},createURL:C,encodeLocation(w){let g=C(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(w){return s.go(w)}};return y}var xe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xe||(xe={}));const HC=new Set(["lazy","caseSensitive","path","id","index","children"]);function WC(e){return e.index===!0}function Kc(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let s=[...n,i],a=typeof o.id=="string"?o.id:s.join("-");if(q(o.index!==!0||!o.children,"Cannot specify children on an index route"),q(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),WC(o)){let l=Se({},o,t(o),{id:a});return r[a]=l,l}else{let l=Se({},o,t(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=Kc(o.children,t,s,r)),l}})}function Gr(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?un(t):t,o=Di(r.pathname||"/",n);if(o==null)return null;let i=wg(e);GC(i);let s=null;for(let a=0;s==null&&a<i.length;++a){let l=o1(o);s=t1(i[a],l)}return s}function VC(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function wg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(q(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=In([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(q(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wg(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:qC(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of kg(i.path))o(i,s,l)}),t}function kg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=kg(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function GC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KC=/^:[\w-]+$/,YC=3,JC=2,QC=1,XC=10,ZC=-2,sp=e=>e==="*";function qC(e,t){let n=e.split("/"),r=n.length;return n.some(sp)&&(r+=ZC),t&&(r+=JC),n.filter(o=>!sp(o)).reduce((o,i)=>o+(KC.test(i)?YC:i===""?QC:XC),r)}function e1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function t1(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=n1({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let f=a.route;i.push({params:r,pathname:In([o,u.pathname]),pathnameBase:a1(In([o,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(o=In([o,u.pathnameBase]))}return i}function n1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:m}=u;if(d==="*"){let y=a[f]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const C=a[f];return m&&!C?c[d]=void 0:c[d]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function r1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function o1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Di(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?un(e):e;return{pathname:n?n.startsWith("/")?n:s1(n,t):t,search:l1(r),hash:c1(o)}}function s1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Al(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _g(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Eg(e,t){let n=_g(e);return t?n.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bg(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=un(e):(o=Se({},e),q(!o.pathname||!o.pathname.includes("?"),Al("?","pathname","search",o)),q(!o.pathname||!o.pathname.includes("#"),Al("#","pathname","hash",o)),q(!o.search||!o.search.includes("#"),Al("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=i1(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const In=e=>e.join("/").replace(/\/\/+/g,"/"),a1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class mf{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Rg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pg=["post","put","patch","delete"],u1=new Set(Pg),f1=["get",...Pg],d1=new Set(f1),p1=new Set([301,302,303,307,308]),h1=new Set([307,308]),$l={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},m1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g1=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ng="remix-router-transitions";function v1(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;q(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let _=e.detectErrorBoundary;o=R=>({hasErrorBoundary:_(R)})}else o=g1;let i={},s=Kc(e.routes,o,void 0,i),a,l=e.basename||"/",c=Se({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),u=null,f=new Set,d=null,m=null,C=null,y=e.hydrationData!=null,w=Gr(s,e.history.location,l),g=null;if(w==null){let _=yt(404,{pathname:e.history.location.pathname}),{matches:R,route:T}=hp(s);w=R,g={[T.id]:_}}let v,x=w.some(_=>_.route.lazy),k=w.some(_=>_.route.loader);if(x)v=!1;else if(!k)v=!0;else if(c.v7_partialHydration){let _=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null,T=M=>M.route.loader?M.route.loader.hydrate===!0?!1:_&&_[M.route.id]!==void 0||R&&R[M.route.id]!==void 0:!0;if(R){let M=w.findIndex($=>R[$.route.id]!==void 0);v=w.slice(0,M+1).every(T)}else v=w.every(T)}else v=e.hydrationData!=null;let b,S={historyAction:e.history.action,location:e.history.location,matches:w,initialized:v,navigation:$l,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},E=ke.Pop,N=!1,P,O=!1,U=new Map,Y=null,F=!1,K=!1,ve=[],oe=[],V=new Map,j=0,I=-1,z=new Map,X=new Set,se=new Map,vt=new Map,Ee=new Set,it=new Map,Oe=new Map,Et=!1;function Ii(){if(u=e.history.listen(_=>{let{action:R,location:T,delta:M}=_;if(Et){Et=!1;return}mr(Oe.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=Gf({currentLocation:S.location,nextLocation:T,historyAction:R});if($&&M!=null){Et=!0,e.history.go(M*-1),Ui($,{state:"blocked",location:T,proceed(){Ui($,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),e.history.go(M)},reset(){let J=new Map(S.blockers);J.set($,Oo),$e({blockers:J})}});return}return Yt(R,T)}),n){P1(t,U);let _=()=>T1(t,U);t.addEventListener("pagehide",_),Y=()=>t.removeEventListener("pagehide",_)}return S.initialized||Yt(ke.Pop,S.location,{initialHydration:!0}),b}function Ai(){u&&u(),Y&&Y(),f.clear(),P&&P.abort(),S.fetchers.forEach((_,R)=>Fi(R)),S.blockers.forEach((_,R)=>Vf(R))}function $i(_){return f.add(_),()=>f.delete(_)}function $e(_,R){R===void 0&&(R={}),S=Se({},S,_);let T=[],M=[];c.v7_fetcherPersist&&S.fetchers.forEach(($,J)=>{$.state==="idle"&&(Ee.has(J)?M.push(J):T.push(J))}),[...f].forEach($=>$(S,{deletedFetchers:M,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),c.v7_fetcherPersist&&(T.forEach($=>S.fetchers.delete($)),M.forEach($=>Fi($)))}function dn(_,R,T){var M,$;let{flushSync:J}=T===void 0?{}:T,W=S.actionData!=null&&S.navigation.formMethod!=null&&Tt(S.navigation.formMethod)&&S.navigation.state==="loading"&&((M=_.state)==null?void 0:M._isRedirect)!==!0,H;R.actionData?Object.keys(R.actionData).length>0?H=R.actionData:H=null:W?H=S.actionData:H=null;let B=R.loaderData?pp(S.loaderData,R.loaderData,R.matches||[],R.errors):S.loaderData,Z=S.blockers;Z.size>0&&(Z=new Map(Z),Z.forEach((le,Me)=>Z.set(Me,Oo)));let Pe=N===!0||S.navigation.formMethod!=null&&Tt(S.navigation.formMethod)&&(($=_.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),F||E===ke.Pop||(E===ke.Push?e.history.push(_,_.state):E===ke.Replace&&e.history.replace(_,_.state));let G;if(E===ke.Pop){let le=U.get(S.location.pathname);le&&le.has(_.pathname)?G={currentLocation:S.location,nextLocation:_}:U.has(_.pathname)&&(G={currentLocation:_,nextLocation:S.location})}else if(O){let le=U.get(S.location.pathname);le?le.add(_.pathname):(le=new Set([_.pathname]),U.set(S.location.pathname,le)),G={currentLocation:S.location,nextLocation:_}}$e(Se({},R,{actionData:H,loaderData:B,historyAction:E,location:_,initialized:!0,navigation:$l,revalidation:"idle",restoreScrollPosition:Yf(_,R.matches||S.matches),preventScrollReset:Pe,blockers:Z}),{viewTransitionOpts:G,flushSync:J===!0}),E=ke.Pop,N=!1,O=!1,F=!1,K=!1,ve=[],oe=[]}async function pn(_,R){if(typeof _=="number"){e.history.go(_);return}let T=Yc(S.location,S.matches,l,c.v7_prependBasename,_,c.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:M,submission:$,error:J}=ap(c.v7_normalizeFormMethod,!1,T,R),W=S.location,H=xi(S.location,M,R&&R.state);H=Se({},H,e.history.encodeLocation(H));let B=R&&R.replace!=null?R.replace:void 0,Z=ke.Push;B===!0?Z=ke.Replace:B===!1||$!=null&&Tt($.formMethod)&&$.formAction===S.location.pathname+S.location.search&&(Z=ke.Replace);let Pe=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,G=(R&&R.unstable_flushSync)===!0,le=Gf({currentLocation:W,nextLocation:H,historyAction:Z});if(le){Ui(le,{state:"blocked",location:H,proceed(){Ui(le,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),pn(_,R)},reset(){let Me=new Map(S.blockers);Me.set(le,Oo),$e({blockers:Me})}});return}return await Yt(Z,H,{submission:$,pendingError:J,preventScrollReset:Pe,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:G})}function zi(){if(il(),$e({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Yt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Yt(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Yt(_,R,T){P&&P.abort(),P=null,E=_,F=(T&&T.startUninterruptedRevalidation)===!0,l0(S.location,S.matches),N=(T&&T.preventScrollReset)===!0,O=(T&&T.enableViewTransition)===!0;let M=a||s,$=T&&T.overrideNavigation,J=Gr(M,R,l),W=(T&&T.flushSync)===!0;if(!J){let Me=yt(404,{pathname:R.pathname}),{matches:st,route:Te}=hp(M);sl(),dn(R,{matches:st,loaderData:{},errors:{[Te.id]:Me}},{flushSync:W});return}if(S.initialized&&!K&&w1(S.location,R)&&!(T&&T.submission&&Tt(T.submission.formMethod))){dn(R,{matches:J},{flushSync:W});return}P=new AbortController;let H=Lo(e.history,R,P.signal,T&&T.submission),B,Z;if(T&&T.pendingError)Z={[Zo(J).route.id]:T.pendingError};else if(T&&T.submission&&Tt(T.submission.formMethod)){let Me=await nl(H,R,T.submission,J,{replace:T.replace,flushSync:W});if(Me.shortCircuited)return;B=Me.pendingActionData,Z=Me.pendingActionError,$=zl(R,T.submission),W=!1,H=new Request(H.url,{signal:H.signal})}let{shortCircuited:Pe,loaderData:G,errors:le}=await rl(H,R,J,$,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,W,B,Z);Pe||(P=null,dn(R,Se({matches:J},B?{actionData:B}:{},{loaderData:G,errors:le})))}async function nl(_,R,T,M,$){$===void 0&&($={}),il();let J=b1(R,T);$e({navigation:J},{flushSync:$.flushSync===!0});let W,H=Qc(M,R);if(!H.route.action&&!H.route.lazy)W={type:xe.error,error:yt(405,{method:_.method,pathname:R.pathname,routeId:H.route.id})};else if(W=await Mo("action",_,H,M,i,o,l,c.v7_relativeSplatPath),_.signal.aborted)return{shortCircuited:!0};if(tr(W)){let B;return $&&$.replace!=null?B=$.replace:B=W.location===S.location.pathname+S.location.search,await So(S,W,{submission:T,replace:B}),{shortCircuited:!0}}if(Kr(W)){let B=Zo(M,H.route.id);return($&&$.replace)!==!0&&(E=ke.Push),{pendingActionData:{},pendingActionError:{[B.route.id]:W.error}}}if(er(W))throw yt(400,{type:"defer-action"});return{pendingActionData:{[H.route.id]:W.data}}}async function rl(_,R,T,M,$,J,W,H,B,Z,Pe){let G=M||zl(R,$),le=$||J||vp(G),Me=a||s,[st,Te]=lp(e.history,S,T,le,R,c.v7_partialHydration&&H===!0,K,ve,oe,Ee,se,X,Me,l,Z,Pe);if(sl(ne=>!(T&&T.some(ie=>ie.route.id===ne))||st&&st.some(ie=>ie.route.id===ne)),I=++j,st.length===0&&Te.length===0){let ne=Hf();return dn(R,Se({matches:T,loaderData:{},errors:Pe||null},Z?{actionData:Z}:{},ne?{fetchers:new Map(S.fetchers)}:{}),{flushSync:B}),{shortCircuited:!0}}if(!F&&(!c.v7_partialHydration||!H)){Te.forEach(ie=>{let Ze=S.fetchers.get(ie.key),Hi=Io(void 0,Ze?Ze.data:void 0);S.fetchers.set(ie.key,Hi)});let ne=Z||S.actionData;$e(Se({navigation:G},ne?Object.keys(ne).length===0?{actionData:null}:{actionData:ne}:{},Te.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:B})}Te.forEach(ne=>{V.has(ne.key)&&mn(ne.key),ne.controller&&V.set(ne.key,ne.controller)});let br=()=>Te.forEach(ne=>mn(ne.key));P&&P.signal.addEventListener("abort",br);let{results:al,loaderResults:Rr,fetcherResults:gn}=await Ff(S.matches,T,st,Te,_);if(_.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",br),Te.forEach(ne=>V.delete(ne.key));let Kn=mp(al);if(Kn){if(Kn.idx>=st.length){let ne=Te[Kn.idx-st.length].key;X.add(ne)}return await So(S,Kn.result,{replace:W}),{shortCircuited:!0}}let{loaderData:ll,errors:ko}=dp(S,T,st,Rr,Pe,Te,gn,it);it.forEach((ne,ie)=>{ne.subscribe(Ze=>{(Ze||ne.done)&&it.delete(ie)})}),c.v7_partialHydration&&H&&S.errors&&Object.entries(S.errors).filter(ne=>{let[ie]=ne;return!st.some(Ze=>Ze.route.id===ie)}).forEach(ne=>{let[ie,Ze]=ne;ko=Object.assign(ko||{},{[ie]:Ze})});let cl=Hf(),Pr=Wf(I),Bi=cl||Pr||Te.length>0;return Se({loaderData:ll,errors:ko},Bi?{fetchers:new Map(S.fetchers)}:{})}function ol(_,R,T,M){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(_)&&mn(_);let $=(M&&M.unstable_flushSync)===!0,J=a||s,W=Yc(S.location,S.matches,l,c.v7_prependBasename,T,c.v7_relativeSplatPath,R,M==null?void 0:M.relative),H=Gr(J,W,l);if(!H){wo(_,R,yt(404,{pathname:W}),{flushSync:$});return}let{path:B,submission:Z,error:Pe}=ap(c.v7_normalizeFormMethod,!0,W,M);if(Pe){wo(_,R,Pe,{flushSync:$});return}let G=Qc(H,B);if(N=(M&&M.preventScrollReset)===!0,Z&&Tt(Z.formMethod)){Er(_,R,B,G,H,$,Z);return}se.set(_,{routeId:R,path:B}),o0(_,R,B,G,H,$,Z)}async function Er(_,R,T,M,$,J,W){if(il(),se.delete(_),!M.route.action&&!M.route.lazy){let ie=yt(405,{method:W.formMethod,pathname:T,routeId:R});wo(_,R,ie,{flushSync:J});return}let H=S.fetchers.get(_);hn(_,R1(W,H),{flushSync:J});let B=new AbortController,Z=Lo(e.history,T,B.signal,W);V.set(_,B);let Pe=j,G=await Mo("action",Z,M,$,i,o,l,c.v7_relativeSplatPath);if(Z.signal.aborted){V.get(_)===B&&V.delete(_);return}if(c.v7_fetcherPersist&&Ee.has(_)){if(tr(G)||Kr(G)){hn(_,yn(void 0));return}}else{if(tr(G))if(V.delete(_),I>Pe){hn(_,yn(void 0));return}else return X.add(_),hn(_,Io(W)),So(S,G,{fetcherSubmission:W});if(Kr(G)){wo(_,R,G.error);return}}if(er(G))throw yt(400,{type:"defer-action"});let le=S.navigation.location||S.location,Me=Lo(e.history,le,B.signal),st=a||s,Te=S.navigation.state!=="idle"?Gr(st,S.navigation.location,l):S.matches;q(Te,"Didn't find any matches after fetcher action");let br=++j;z.set(_,br);let al=Io(W,G.data);S.fetchers.set(_,al);let[Rr,gn]=lp(e.history,S,Te,W,le,!1,K,ve,oe,Ee,se,X,st,l,{[M.route.id]:G.data},void 0);gn.filter(ie=>ie.key!==_).forEach(ie=>{let Ze=ie.key,Hi=S.fetchers.get(Ze),u0=Io(void 0,Hi?Hi.data:void 0);S.fetchers.set(Ze,u0),V.has(Ze)&&mn(Ze),ie.controller&&V.set(Ze,ie.controller)}),$e({fetchers:new Map(S.fetchers)});let Kn=()=>gn.forEach(ie=>mn(ie.key));B.signal.addEventListener("abort",Kn);let{results:ll,loaderResults:ko,fetcherResults:cl}=await Ff(S.matches,Te,Rr,gn,Me);if(B.signal.aborted)return;B.signal.removeEventListener("abort",Kn),z.delete(_),V.delete(_),gn.forEach(ie=>V.delete(ie.key));let Pr=mp(ll);if(Pr){if(Pr.idx>=Rr.length){let ie=gn[Pr.idx-Rr.length].key;X.add(ie)}return So(S,Pr.result)}let{loaderData:Bi,errors:ne}=dp(S,S.matches,Rr,ko,void 0,gn,cl,it);if(S.fetchers.has(_)){let ie=yn(G.data);S.fetchers.set(_,ie)}Wf(br),S.navigation.state==="loading"&&br>I?(q(E,"Expected pending action"),P&&P.abort(),dn(S.navigation.location,{matches:Te,loaderData:Bi,errors:ne,fetchers:new Map(S.fetchers)})):($e({errors:ne,loaderData:pp(S.loaderData,Bi,Te,ne),fetchers:new Map(S.fetchers)}),K=!1)}async function o0(_,R,T,M,$,J,W){let H=S.fetchers.get(_);hn(_,Io(W,H?H.data:void 0),{flushSync:J});let B=new AbortController,Z=Lo(e.history,T,B.signal);V.set(_,B);let Pe=j,G=await Mo("loader",Z,M,$,i,o,l,c.v7_relativeSplatPath);if(er(G)&&(G=await Og(G,Z.signal,!0)||G),V.get(_)===B&&V.delete(_),!Z.signal.aborted){if(Ee.has(_)){hn(_,yn(void 0));return}if(tr(G))if(I>Pe){hn(_,yn(void 0));return}else{X.add(_),await So(S,G);return}if(Kr(G)){wo(_,R,G.error);return}q(!er(G),"Unhandled fetcher deferred data"),hn(_,yn(G.data))}}async function So(_,R,T){let{submission:M,fetcherSubmission:$,replace:J}=T===void 0?{}:T;R.revalidate&&(K=!0);let W=xi(_.location,R.location,{_isRedirect:!0});if(q(W,"Expected a location on the redirect navigation"),n){let le=!1;if(R.reloadDocument)le=!0;else if(Tg.test(R.location)){const Me=e.history.createURL(R.location);le=Me.origin!==t.location.origin||Di(Me.pathname,l)==null}if(le){J?t.location.replace(R.location):t.location.assign(R.location);return}}P=null;let H=J===!0?ke.Replace:ke.Push,{formMethod:B,formAction:Z,formEncType:Pe}=_.navigation;!M&&!$&&B&&Z&&Pe&&(M=vp(_.navigation));let G=M||$;if(h1.has(R.status)&&G&&Tt(G.formMethod))await Yt(H,W,{submission:Se({},G,{formAction:R.location}),preventScrollReset:N});else{let le=zl(W,M);await Yt(H,W,{overrideNavigation:le,fetcherSubmission:$,preventScrollReset:N})}}async function Ff(_,R,T,M,$){let J=await Promise.all([...T.map(B=>Mo("loader",$,B,R,i,o,l,c.v7_relativeSplatPath)),...M.map(B=>B.matches&&B.match&&B.controller?Mo("loader",Lo(e.history,B.path,B.controller.signal),B.match,B.matches,i,o,l,c.v7_relativeSplatPath):{type:xe.error,error:yt(404,{pathname:B.path})})]),W=J.slice(0,T.length),H=J.slice(T.length);return await Promise.all([gp(_,T,W,W.map(()=>$.signal),!1,S.loaderData),gp(_,M.map(B=>B.match),H,M.map(B=>B.controller?B.controller.signal:null),!0)]),{results:J,loaderResults:W,fetcherResults:H}}function il(){K=!0,ve.push(...sl()),se.forEach((_,R)=>{V.has(R)&&(oe.push(R),mn(R))})}function hn(_,R,T){T===void 0&&(T={}),S.fetchers.set(_,R),$e({fetchers:new Map(S.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function wo(_,R,T,M){M===void 0&&(M={});let $=Zo(S.matches,R);Fi(_),$e({errors:{[$.route.id]:T},fetchers:new Map(S.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Uf(_){return c.v7_fetcherPersist&&(vt.set(_,(vt.get(_)||0)+1),Ee.has(_)&&Ee.delete(_)),S.fetchers.get(_)||m1}function Fi(_){let R=S.fetchers.get(_);V.has(_)&&!(R&&R.state==="loading"&&z.has(_))&&mn(_),se.delete(_),z.delete(_),X.delete(_),Ee.delete(_),S.fetchers.delete(_)}function i0(_){if(c.v7_fetcherPersist){let R=(vt.get(_)||0)-1;R<=0?(vt.delete(_),Ee.add(_)):vt.set(_,R)}else Fi(_);$e({fetchers:new Map(S.fetchers)})}function mn(_){let R=V.get(_);q(R,"Expected fetch controller: "+_),R.abort(),V.delete(_)}function Bf(_){for(let R of _){let T=Uf(R),M=yn(T.data);S.fetchers.set(R,M)}}function Hf(){let _=[],R=!1;for(let T of X){let M=S.fetchers.get(T);q(M,"Expected fetcher: "+T),M.state==="loading"&&(X.delete(T),_.push(T),R=!0)}return Bf(_),R}function Wf(_){let R=[];for(let[T,M]of z)if(M<_){let $=S.fetchers.get(T);q($,"Expected fetcher: "+T),$.state==="loading"&&(mn(T),z.delete(T),R.push(T))}return Bf(R),R.length>0}function s0(_,R){let T=S.blockers.get(_)||Oo;return Oe.get(_)!==R&&Oe.set(_,R),T}function Vf(_){S.blockers.delete(_),Oe.delete(_)}function Ui(_,R){let T=S.blockers.get(_)||Oo;q(T.state==="unblocked"&&R.state==="blocked"||T.state==="blocked"&&R.state==="blocked"||T.state==="blocked"&&R.state==="proceeding"||T.state==="blocked"&&R.state==="unblocked"||T.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+R.state);let M=new Map(S.blockers);M.set(_,R),$e({blockers:M})}function Gf(_){let{currentLocation:R,nextLocation:T,historyAction:M}=_;if(Oe.size===0)return;Oe.size>1&&mr(!1,"A router only supports one blocker at a time");let $=Array.from(Oe.entries()),[J,W]=$[$.length-1],H=S.blockers.get(J);if(!(H&&H.state==="proceeding")&&W({currentLocation:R,nextLocation:T,historyAction:M}))return J}function sl(_){let R=[];return it.forEach((T,M)=>{(!_||_(M))&&(T.cancel(),R.push(M),it.delete(M))}),R}function a0(_,R,T){if(d=_,C=R,m=T||null,!y&&S.navigation===$l){y=!0;let M=Yf(S.location,S.matches);M!=null&&$e({restoreScrollPosition:M})}return()=>{d=null,C=null,m=null}}function Kf(_,R){return m&&m(_,R.map(M=>VC(M,S.loaderData)))||_.key}function l0(_,R){if(d&&C){let T=Kf(_,R);d[T]=C()}}function Yf(_,R){if(d){let T=Kf(_,R),M=d[T];if(typeof M=="number")return M}return null}function c0(_){i={},a=Kc(_,o,void 0,i)}return b={get basename(){return l},get future(){return c},get state(){return S},get routes(){return s},get window(){return t},initialize:Ii,subscribe:$i,enableScrollRestoration:a0,navigate:pn,fetch:ol,revalidate:zi,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:Uf,deleteFetcher:i0,dispose:Ai,getBlocker:s0,deleteBlocker:Vf,_internalFetchControllers:V,_internalActiveDeferreds:it,_internalSetRoutes:c0},b}function y1(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Yc(e,t,n,r,o,i,s,a){let l,c;if(s){l=[];for(let f of t)if(l.push(f),f.route.id===s){c=f;break}}else l=t,c=t[t.length-1];let u=bg(o||".",Eg(l,i),Di(e.pathname,n)||e.pathname,a==="path");return o==null&&(u.search=e.search,u.hash=e.hash),(o==null||o===""||o===".")&&c&&c.route.index&&!gf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:In([n,u.pathname])),ji(u)}function ap(e,t,n,r){if(!r||!y1(r))return{path:n};if(r.formMethod&&!E1(r.formMethod))return{path:n,error:yt(405,{method:r.formMethod})};let o=()=>({path:n,error:yt(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=e?i.toUpperCase():i.toLowerCase(),a=Dg(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Tt(s))return o();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,C)=>{let[y,w]=C;return""+m+y+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Tt(s))return o();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}q(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Jc(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Jc(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=fp(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=fp(l)}catch{return o()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Tt(u.formMethod))return{path:n,submission:u};let f=un(n);return t&&f.search&&gf(f.search)&&l.append("index",""),f.search="?"+l,{path:ji(f),submission:u}}function x1(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function lp(e,t,n,r,o,i,s,a,l,c,u,f,d,m,C,y){let w=y?Object.values(y)[0]:C?Object.values(C)[0]:void 0,g=e.createURL(t.location),v=e.createURL(o),x=y?Object.keys(y)[0]:void 0,b=x1(n,x).filter((E,N)=>{let{route:P}=E;if(P.lazy)return!0;if(P.loader==null)return!1;if(i)return P.loader.hydrate?!0:t.loaderData[P.id]===void 0&&(!t.errors||t.errors[P.id]===void 0);if(C1(t.loaderData,t.matches[N],E)||a.some(Y=>Y===E.route.id))return!0;let O=t.matches[N],U=E;return cp(E,Se({currentUrl:g,currentParams:O.params,nextUrl:v,nextParams:U.params},r,{actionResult:w,defaultShouldRevalidate:s||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||jg(O,U)}))}),S=[];return u.forEach((E,N)=>{if(i||!n.some(F=>F.route.id===E.routeId)||c.has(N))return;let P=Gr(d,E.path,m);if(!P){S.push({key:N,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(N),U=Qc(P,E.path),Y=!1;f.has(N)?Y=!1:l.includes(N)?Y=!0:O&&O.state!=="idle"&&O.data===void 0?Y=s:Y=cp(U,Se({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:w,defaultShouldRevalidate:s})),Y&&S.push({key:N,routeId:E.routeId,path:E.path,matches:P,match:U,controller:new AbortController})}),[b,S]}function C1(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function jg(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function cp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function up(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];q(o,"No route found in manifest");let i={};for(let s in r){let l=o[s]!==void 0&&s!=="hasErrorBoundary";mr(!l,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!HC.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,Se({},t(o),{lazy:void 0}))}async function Mo(e,t,n,r,o,i,s,a,l){l===void 0&&(l={});let c,u,f,d=y=>{let w,g=new Promise((v,x)=>w=x);return f=()=>w(),t.signal.addEventListener("abort",f),Promise.race([y({request:t,params:n.params,context:l.requestContext}),g])};try{let y=n.route[e];if(n.route.lazy)if(y){let w,g=await Promise.all([d(y).catch(v=>{w=v}),up(n.route,i,o)]);if(w)throw w;u=g[0]}else if(await up(n.route,i,o),y=n.route[e],y)u=await d(y);else if(e==="action"){let w=new URL(t.url),g=w.pathname+w.search;throw yt(405,{method:t.method,pathname:g,routeId:n.route.id})}else return{type:xe.data,data:void 0};else if(y)u=await d(y);else{let w=new URL(t.url),g=w.pathname+w.search;throw yt(404,{pathname:g})}q(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){c=xe.error,u=y}finally{f&&t.signal.removeEventListener("abort",f)}if(_1(u)){let y=u.status;if(p1.has(y)){let g=u.headers.get("Location");if(q(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tg.test(g))g=Yc(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,g,a);else if(!l.isStaticRequest){let v=new URL(t.url),x=g.startsWith("//")?new URL(v.protocol+g):new URL(g),k=Di(x.pathname,s)!=null;x.origin===v.origin&&k&&(g=x.pathname+x.search+x.hash)}if(l.isStaticRequest)throw u.headers.set("Location",g),u;return{type:xe.redirect,status:y,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===xe.error?xe.error:xe.data,response:u};let w;try{let g=u.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?u.body==null?w=null:w=await u.json():w=await u.text()}catch(g){return{type:xe.error,error:g}}return c===xe.error?{type:c,error:new mf(y,u.statusText,w),headers:u.headers}:{type:xe.data,data:w,statusCode:u.status,headers:u.headers}}if(c===xe.error)return{type:c,error:u};if(k1(u)){var m,C;return{type:xe.deferred,deferredData:u,statusCode:(m=u.init)==null?void 0:m.status,headers:((C=u.init)==null?void 0:C.headers)&&new Headers(u.init.headers)}}return{type:xe.data,data:u}}function Lo(e,t,n,r){let o=e.createURL(Dg(t)).toString(),i={signal:n};if(r&&Tt(r.formMethod)){let{formMethod:s,formEncType:a}=r;i.method=s.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Jc(r.formData):i.body=r.formData}return new Request(o,i)}function Jc(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function fp(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function S1(e,t,n,r,o){let i={},s=null,a,l=!1,c={};return n.forEach((u,f)=>{let d=t[f].route.id;if(q(!tr(u),"Cannot handle redirect results in processLoaderData"),Kr(u)){let m=Zo(e,d),C=u.error;r&&(C=Object.values(r)[0],r=void 0),s=s||{},s[m.route.id]==null&&(s[m.route.id]=C),i[d]=void 0,l||(l=!0,a=Rg(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else er(u)?(o.set(d,u.deferredData),i[d]=u.deferredData.data):i[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[d]=u.headers)}),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}function dp(e,t,n,r,o,i,s,a){let{loaderData:l,errors:c}=S1(t,n,r,o,a);for(let u=0;u<i.length;u++){let{key:f,match:d,controller:m}=i[u];q(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let C=s[u];if(!(m&&m.signal.aborted))if(Kr(C)){let y=Zo(e.matches,d==null?void 0:d.route.id);c&&c[y.route.id]||(c=Se({},c,{[y.route.id]:C.error})),e.fetchers.delete(f)}else if(tr(C))q(!1,"Unhandled fetcher revalidation redirect");else if(er(C))q(!1,"Unhandled fetcher deferred data");else{let y=yn(C.data);e.fetchers.set(f,y)}}return{loaderData:l,errors:c}}function pp(e,t,n,r){let o=Se({},t);for(let i of n){let s=i.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(o[s]=t[s]):e[s]!==void 0&&i.route.loader&&(o[s]=e[s]),r&&r.hasOwnProperty(s))break}return o}function Zo(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function hp(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yt(e,t){let{pathname:n,routeId:r,method:o,type:i}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&n&&r?a="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",o&&n&&r?a="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(a='Invalid request method "'+o.toUpperCase()+'"')),new mf(e||500,s,new Error(a),!0)}function mp(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(tr(n))return{result:n,idx:t}}}function Dg(e){let t=typeof e=="string"?un(e):e;return ji(Se({},t,{hash:""}))}function w1(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function er(e){return e.type===xe.deferred}function Kr(e){return e.type===xe.error}function tr(e){return(e&&e.type)===xe.redirect}function k1(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function _1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function E1(e){return d1.has(e.toLowerCase())}function Tt(e){return u1.has(e.toLowerCase())}async function gp(e,t,n,r,o,i){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find(f=>f.route.id===l.route.id),u=c!=null&&!jg(c,l)&&(i&&i[l.route.id])!==void 0;if(er(a)&&(o||u)){let f=r[s];q(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await Og(a,f,o).then(d=>{d&&(n[s]=d||n[s])})}}}async function Og(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:xe.data,data:e.deferredData.unwrappedData}}catch(o){return{type:xe.error,error:o}}return{type:xe.data,data:e.deferredData.data}}}function gf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Qc(e,t){let n=typeof t=="string"?un(t).search:t.search;if(e[e.length-1].route.index&&gf(n||""))return e[e.length-1];let r=_g(e);return r[r.length-1]}function vp(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:s}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function zl(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function b1(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Io(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function R1(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function yn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function P1(e,t){try{let n=e.sessionStorage.getItem(Ng);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(o,new Set(i||[]))}}catch{}}function T1(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(Ng,JSON.stringify(n))}catch(r){mr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}const Ua=h.createContext(null),Mg=h.createContext(null),Ba=h.createContext(null),vf=h.createContext(null),yo=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Lg=h.createContext(null);function Ha(){return h.useContext(vf)!=null}function Ig(){return Ha()||q(!1),h.useContext(vf).location}function Ag(e){h.useContext(Ba).static||h.useLayoutEffect(e)}function N1(){let{isDataRoute:e}=h.useContext(yo);return e?B1():j1()}function j1(){Ha()||q(!1);let e=h.useContext(Ua),{basename:t,future:n,navigator:r}=h.useContext(Ba),{matches:o}=h.useContext(yo),{pathname:i}=Ig(),s=JSON.stringify(Eg(o,n.v7_relativeSplatPath)),a=h.useRef(!1);return Ag(()=>{a.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=bg(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:In([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,s,i,e])}function D1(e,t,n,r){Ha()||q(!1);let{navigator:o}=h.useContext(Ba),{matches:i}=h.useContext(yo),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Ig(),u;u=c;let f=u.pathname||"/",d=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Gr(e,{pathname:d});return A1(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:In([l,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:In([l,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function O1(){let e=U1(),t=Rg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:o},n):null,null)}const M1=h.createElement(O1,null);class L1 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(yo.Provider,{value:this.props.routeContext},h.createElement(Lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I1(e){let{routeContext:t,match:n,children:r}=e,o=h.useContext(Ua);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(yo.Provider,{value:t},r)}function A1(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,a=(o=n)==null?void 0:o.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));u>=0||q(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:m}=n,C=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||C){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,d)=>{let m,C=!1,y=null,w=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||M1,l&&(c<0&&d===0?(H1("route-fallback"),C=!0,w=null):c===d&&(C=!0,w=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,d+1)),v=()=>{let x;return m?x=y:C?x=w:f.route.Component?x=h.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,h.createElement(I1,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?h.createElement(L1,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var $g=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($g||{}),ha=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ha||{});function $1(e){let t=h.useContext(Ua);return t||q(!1),t}function z1(e){let t=h.useContext(Mg);return t||q(!1),t}function F1(e){let t=h.useContext(yo);return t||q(!1),t}function zg(e){let t=F1(),n=t.matches[t.matches.length-1];return n.route.id||q(!1),n.route.id}function U1(){var e;let t=h.useContext(Lg),n=z1(ha.UseRouteError),r=zg(ha.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function B1(){let{router:e}=$1($g.UseNavigateStable),t=zg(ha.UseNavigateStable),n=h.useRef(!1);return Ag(()=>{n.current=!0}),h.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,pa({fromRouteId:t},i)))},[e,t])}const yp={};function H1(e,t,n){yp[e]||(yp[e]=!0)}function W1(e){let{basename:t="/",children:n=null,location:r,navigationType:o=ke.Pop,navigator:i,static:s=!1,future:a}=e;Ha()&&q(!1);let l=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:i,static:s,future:pa({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=un(r));let{pathname:u="/",search:f="",hash:d="",state:m=null,key:C="default"}=r,y=h.useMemo(()=>{let w=Di(u,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:m,key:C},navigationType:o}},[l,u,f,d,m,C,o]);return y==null?null:h.createElement(Ba.Provider,{value:c},h.createElement(vf.Provider,{children:n,value:y}))}new Promise(()=>{});function V1(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:h.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:h.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:h.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(this,arguments)}const G1="6";try{window.__reactRouterVersion=G1}catch{}function K1(e,t){return v1({basename:void 0,future:ma({},void 0,{v7_prependBasename:!0}),history:FC({window:void 0}),hydrationData:Y1(),routes:e,mapRouteProperties:V1,window:void 0}).initialize()}function Y1(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ma({},t,{errors:J1(t.errors)})),t}function J1(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new mf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const Q1=h.createContext({isTransitioning:!1}),X1=h.createContext(new Map),Z1="startTransition",xp=yh[Z1],q1="flushSync",Cp=zC[q1];function eS(e){xp?xp(e):e()}function Ao(e){Cp?Cp(e):e()}class tS{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function nS(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=h.useState(n.state),[s,a]=h.useState(),[l,c]=h.useState({isTransitioning:!1}),[u,f]=h.useState(),[d,m]=h.useState(),[C,y]=h.useState(),w=h.useRef(new Map),{v7_startTransition:g}=r||{},v=h.useCallback(E=>{g?eS(E):E()},[g]),x=h.useCallback((E,N)=>{let{deletedFetchers:P,unstable_flushSync:O,unstable_viewTransitionOpts:U}=N;P.forEach(F=>w.current.delete(F)),E.fetchers.forEach((F,K)=>{F.data!==void 0&&w.current.set(K,F.data)});let Y=n.window==null||typeof n.window.document.startViewTransition!="function";if(!U||Y){O?Ao(()=>i(E)):v(()=>i(E));return}if(O){Ao(()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let F=n.window.document.startViewTransition(()=>{Ao(()=>i(E))});F.finished.finally(()=>{Ao(()=>{f(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),Ao(()=>m(F));return}d?(u&&u.resolve(),d.skipTransition(),y({state:E,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,d,u,w,v]);h.useLayoutEffect(()=>n.subscribe(x),[n,x]),h.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new tS)},[l]),h.useEffect(()=>{if(u&&s&&n.window){let E=s,N=u.promise,P=n.window.document.startViewTransition(async()=>{v(()=>i(E)),await N});P.finished.finally(()=>{f(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(P)}},[v,s,u,n.window]),h.useEffect(()=>{u&&s&&o.location.key===s.location.key&&u.resolve()},[u,d,o.location,s]),h.useEffect(()=>{!l.isTransitioning&&C&&(a(C.state),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),y(void 0))},[l.isTransitioning,C]),h.useEffect(()=>{},[]);let k=h.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,N,P)=>n.navigate(E,{state:N,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(E,N,P)=>n.navigate(E,{replace:!0,state:N,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),b=n.basename||"/",S=h.useMemo(()=>({router:n,navigator:k,static:!1,basename:b}),[n,k,b]);return h.createElement(h.Fragment,null,h.createElement(Ua.Provider,{value:S},h.createElement(Mg.Provider,{value:o},h.createElement(X1.Provider,{value:w.current},h.createElement(Q1.Provider,{value:l},h.createElement(W1,{basename:b,location:o.location,navigationType:o.historyAction,navigator:k,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?h.createElement(rS,{routes:n.routes,future:n.future,state:o}):t))))),null)}function rS(e){let{routes:t,future:n,state:r}=e;return D1(t,void 0,r,n)}var Sp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sp||(Sp={}));var wp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wp||(wp={}));let oS={data:""},iS=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||oS,sS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aS=/\/\*[^]*?\*\/|  +/g,kp=/\n+/g,En=(e,t)=>{let n="",r="",o="";for(let i in e){let s=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?En(s,i):i+"{"+En(s,i[1]=="k"?"":t)+"}":typeof s=="object"?r+=En(s,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=En.p?En.p(i,s):i+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},Jt={},Fg=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Fg(e[n]);return t}return e},lS=(e,t,n,r,o)=>{let i=Fg(e),s=Jt[i]||(Jt[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Jt[s]){let l=i!==e?e:(c=>{let u,f,d=[{}];for(;u=sS.exec(c.replace(aS,""));)u[4]?d.shift():u[3]?(f=u[3].replace(kp," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][u[1]]=u[2].replace(kp," ").trim();return d[0]})(e);Jt[s]=En(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Jt.g?Jt.g:null;return n&&(Jt.g=Jt[s]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Jt[s],t,r,a),s},cS=(e,t,n)=>e.reduce((r,o,i)=>{let s=t[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":En(a,""):a===!1?"":a}return r+o+(s??"")},"");function Wa(e){let t=this||{},n=e.call?e(t.p):e;return lS(n.unshift?n.raw?cS(n,[].slice.call(arguments,1),t.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):n,iS(t.target),t.g,t.o,t.k)}let Ug,Xc,Zc;Wa.bind({g:1});let sn=Wa.bind({k:1});function uS(e,t,n,r){En.p=t,Ug=e,Xc=n,Zc=r}function Gn(e,t){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:Xc&&Xc()},a),n.o=/ *go\d+/.test(l),a.className=Wa.apply(n,r)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Zc&&c[0]&&Zc(a),Ug(c,a)}return o}}var fS=e=>typeof e=="function",ga=(e,t)=>fS(e)?e(t):e,dS=(()=>{let e=0;return()=>(++e).toString()})(),Bg=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),pS=20,Hg=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,pS)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Hg(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Ps=[],Ts={toasts:[],pausedAt:void 0},Sr=e=>{Ts=Hg(Ts,e),Ps.forEach(t=>{t(Ts)})},hS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mS=(e={})=>{let[t,n]=h.useState(Ts);h.useEffect(()=>(Ps.push(n),()=>{let o=Ps.indexOf(n);o>-1&&Ps.splice(o,1)}),[t]);let r=t.toasts.map(o=>{var i,s,a;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((i=e[o.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((s=e[o.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||hS[o.type],style:{...e.style,...(a=e[o.type])==null?void 0:a.style,...o.style}}});return{...t,toasts:r}},gS=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||dS()}),Oi=e=>(t,n)=>{let r=gS(t,e,n);return Sr({type:2,toast:r}),r.id},Ve=(e,t)=>Oi("blank")(e,t);Ve.error=Oi("error");Ve.success=Oi("success");Ve.loading=Oi("loading");Ve.custom=Oi("custom");Ve.dismiss=e=>{Sr({type:3,toastId:e})};Ve.remove=e=>Sr({type:4,toastId:e});Ve.promise=(e,t,n)=>{let r=Ve.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let i=t.success?ga(t.success,o):void 0;return i?Ve.success(i,{id:r,...n,...n==null?void 0:n.success}):Ve.dismiss(r),o}).catch(o=>{let i=t.error?ga(t.error,o):void 0;i?Ve.error(i,{id:r,...n,...n==null?void 0:n.error}):Ve.dismiss(r)}),e};var vS=(e,t)=>{Sr({type:1,toast:{id:e,height:t}})},yS=()=>{Sr({type:5,time:Date.now()})},qo=new Map,xS=1e3,CS=(e,t=xS)=>{if(qo.has(e))return;let n=setTimeout(()=>{qo.delete(e),Sr({type:4,toastId:e})},t);qo.set(e,n)},SS=e=>{let{toasts:t,pausedAt:n}=mS(e);h.useEffect(()=>{if(n)return;let i=Date.now(),s=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Ve.dismiss(a.id);return}return setTimeout(()=>Ve.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=h.useCallback(()=>{n&&Sr({type:6,time:Date.now()})},[n]),o=h.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=t.filter(m=>(m.position||c)===(i.position||c)&&m.height),f=u.findIndex(m=>m.id===i.id),d=u.filter((m,C)=>C<f&&m.visible).length;return u.filter(m=>m.visible).slice(...a?[d+1]:[0,d]).reduce((m,C)=>m+(C.height||0)+l,0)},[t]);return h.useEffect(()=>{t.forEach(i=>{if(i.dismissed)CS(i.id,i.removeDelay);else{let s=qo.get(i.id);s&&(clearTimeout(s),qo.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:vS,startPause:yS,endPause:r,calculateOffset:o}}},wS=sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kS=sn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_S=sn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ES=Gn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_S} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bS=sn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RS=Gn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bS} 1s linear infinite;
`,PS=sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,TS=sn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,NS=Gn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${TS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,jS=Gn("div")`
  position: absolute;
`,DS=Gn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OS=sn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MS=Gn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,LS=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?h.createElement(MS,null,t):t:n==="blank"?null:h.createElement(DS,null,h.createElement(RS,{...r}),n!=="loading"&&h.createElement(jS,null,n==="error"?h.createElement(ES,{...r}):h.createElement(NS,{...r})))},IS=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AS=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,$S="0%{opacity:0;} 100%{opacity:1;}",zS="0%{opacity:1;} 100%{opacity:0;}",FS=Gn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,US=Gn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,BS=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Bg()?[$S,zS]:[IS(n),AS(n)];return{animation:t?`${sn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},HS=h.memo(({toast:e,position:t,style:n,children:r})=>{let o=e.height?BS(e.position||t||"top-center",e.visible):{opacity:0},i=h.createElement(LS,{toast:e}),s=h.createElement(US,{...e.ariaProps},ga(e.message,e));return h.createElement(FS,{className:e.className,style:{...o,...n,...e.style}},typeof r=="function"?r({icon:i,message:s}):h.createElement(h.Fragment,null,i,s))});uS(h.createElement);var WS=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let i=h.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return h.createElement("div",{ref:i,className:t,style:n},o)},VS=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Bg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}},GS=Wa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,as=16,KS=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=SS(n);return h.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:as,left:as,right:as,bottom:as,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||t,f=l.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),d=VS(u,f);return h.createElement(WS,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?GS:"",style:d},c.type==="custom"?ga(c.message,c):o?o(c):h.createElement(HS,{toast:c,position:u}))}))},fe=Ve;const yf=e=>{if(!e)return"";let t=e.trim();if(t.startsWith("http"))try{const n=new URL(t),r=n.searchParams.get("roomId");if(r)console.log(`从URL中提取roomId: ${t} -> ${r}`),t=r.trim();else{const o=n.pathname.split("/").filter(Boolean);if(o.length>0){const i=o[o.length-1];i&&i.length>5&&(console.log(`从URL路径中提取可能的roomId: ${t} -> ${i}`),t=i.trim())}}}catch(n){console.error("解析URL失败:",n)}if(t.includes("-")){const n=t.split("-");n[0]===n[1]?(console.log(`检测到重复ID格式: ${t} -> ${n[0]}`),t=n[0]):(console.log(`检测到带破折号的ID: ${t} -> ${n[0]}`),t=n[0])}return t=t.replace(/[^\w\-]/g,""),t.length>20&&(console.log(`ID过长，截取前16个字符: ${t} -> ${t.substring(0,16)}`),t=t.substring(0,16)),t};class YS{constructor(t,n,r,o,i){this.set=t,this.get=n,this.chatEvents=r,this.peerService=o,this.messageService=i}createGroupChat(){const{peer:t,userName:n}=this.get();if(!t||!n)return;const r=t.id;console.log(`创建群聊，使用当前PeerJS ID作为roomId: ${r}`);const o=this.peerService.getConnectionInfo(),i=o.isLocalNetwork,s=o.localIpAddress,a={id:t.id,name:`${n}的群聊`,isGroup:!0,users:[{id:t.id,name:n}],connections:[],messages:[],roomId:r,isHost:!0,shareLink:`${window.location.origin}${window.location.pathname}?roomId=${r}`,isLocalNetwork:i,localIpAddress:s};let l=this.messageService.addSystemMessage(`群聊已创建，分享链接邀请好友加入吧！
群聊ID: ${r}

请确保在群聊保持活跃状态，否则连接可能会过期。`);a.messages&&a.messages.push(l);const{chats:c}=this.get();this.set({chats:[a,...c],currentChat:a,messages:a.messages||[]}),this.chatEvents.emit("groupCreated",{isLocalNetwork:i,groupId:r}),this.setupKeepAliveTimer()}setupKeepAliveTimer(){const t=setInterval(()=>{const{peer:n,currentChat:r}=this.get();if(!n||!r||!r.isGroup){clearInterval(t);return}if(r.isHost){const{connections:o}=this.get();Object.keys(o).length>0&&(console.log(`发送心跳到 ${Object.keys(o).length} 个连接`),Object.values(o).forEach(i=>{try{i.send({type:"KEEP_ALIVE",data:{timestamp:new Date().toISOString()}})}catch(s){console.error("发送心跳失败:",s)}}))}},6e4);window.keepAliveInterval=t}async joinGroupChat(t){const{peer:n,userName:r,chats:o,isPeerInitialized:i}=this.get();if(!i){console.log("PeerJS未初始化，保存roomId并等待初始化完成:",t),this.set({pendingRoomId:t});return}if(!n||!r){console.error("无法加入群聊：PeerJS未初始化或用户名未设置"),this.chatEvents.emit("error","请先设置用户名");return}this.set({isConnecting:!0}),console.log(`准备加入群聊，当前PeerJS ID: ${n.id}, 目标群聊ID: ${t}`);try{const s=yf(t);console.log(`清理后的群聊ID: ${s}`);const a=o.find(d=>d.isGroup&&d.roomId===s);if(a){console.log("已经加入过该群聊，直接切换"),this.set({currentChat:a,isConnecting:!1}),this.chatEvents.emit("joinedGroup",a);return}const l=this.peerService.getConnectionInfo(),c=l.isLocalNetwork;if(console.log(`尝试连接到房主: ${s}`),!s||s.length<5)throw new Error("无效的群聊ID");const u=n.connect(s,{reliable:!0,serialization:"json",metadata:{isLocalNetwork:c,localIpAddress:l.localIpAddress,userName:r,peerId:n.id,timestamp:new Date().toISOString()}});if(!u)throw new Error("无法创建连接");console.log("创建连接对象:",u);const f=setTimeout(()=>{console.log("连接超时，尝试重新连接..."),this.retryConnection(s,r)},3e4);u.on("error",d=>{clearTimeout(f),console.error("连接错误:",d),d.type==="peer-unavailable"?(this.messageService.addSystemMessage(`无法连接到群聊 ${s}，该群聊可能已不存在或暂时不可用。`),this.chatEvents.emit("error","无法连接到群聊，该群聊可能已不存在")):(this.messageService.addSystemMessage(`连接错误: ${d.message||"未知错误"}`),this.chatEvents.emit("error",`连接错误: ${d.message||"未知错误"}`)),this.set({isConnecting:!1})}),u.on("open",()=>{clearTimeout(f),console.log("已连接到房主，连接已打开");const d={id:s,name:`群聊 ${s.substring(0,6)}`,isGroup:!0,users:[{id:n.id,name:r},{id:s,name:"等待房主信息..."}],connections:[u],messages:[],roomId:s,isHost:!1,shareLink:`${window.location.origin}${window.location.pathname}?roomId=${s}`,isLocalNetwork:c,localIpAddress:l.localIpAddress};console.log("创建新的群聊对象:",d);const{chats:m}=this.get(),C=m.findIndex(y=>y.id===s);if(C>=0){const y=[...m];y[C]=d,this.set({chats:y,currentChat:d})}else this.set({chats:[d,...m],currentChat:d});console.log("向房主发送自己的信息"),u.send({type:"NEW_USER",data:{id:n.id,name:r,isLocalNetwork:c,localIpAddress:l.localIpAddress}}),this.chatEvents.emit("joinedGroup",d),this.set({isConnecting:!1}),this.messageService.addSystemMessage("您已加入群聊"),u.on("data",y=>{console.log("收到房主数据:",y),this.peerService.handleReceivedData(y,s)}),this.setupKeepAliveTimer()})}catch(s){console.error("加入群聊错误:",s),this.chatEvents.emit("error",`加入群聊失败: ${s.message||"未知错误"}`),this.set({isConnecting:!1})}}leaveCurrentChat(){const{currentChat:t,userId:n,peer:r}=this.get();if(!t||!t.isGroup||!r)return;const{connections:o}=this.get();Object.values(o).forEach(s=>{try{s.send({type:"USER_LEFT",data:{id:n}}),s.close()}catch(a){console.error("通知用户离开失败:",a)}}),window.keepAliveInterval&&(clearInterval(window.keepAliveInterval),window.keepAliveInterval=null);try{r.destroy()}catch(s){console.error("销毁Peer对象失败:",s)}this.set(s=>({chats:s.chats.filter(a=>a.id!==t.id),currentChat:null,messages:[],peer:null,connections:{}})),this.chatEvents.emit("leftGroup");const{userName:i}=this.get();i&&setTimeout(()=>{this.get().setUserName(i)},1e3)}toggleNetworkMode(){const n=this.peerService.getConnectionInfo().isLocalNetwork,{userName:r}=this.get();if(r){const{peer:o}=this.get();return o&&o.destroy(),this.set({isLocalNetwork:!n,peer:null,isPeerInitialized:!1}),setTimeout(()=>{this.get().setUserName(r)},500),this.chatEvents.emit("networkModeChanged",{isLocalNetwork:!n}),!n}return n}retryConnection(t,n,r=0){if(r>=2){this.chatEvents.emit("error","连接失败，请检查群聊ID是否正确或网络环境"),this.set({isConnecting:!1});return}console.log(`尝试第${r+1}次重新连接到: ${t}`);const{peer:o}=this.get();if(!o){this.chatEvents.emit("error","PeerJS未初始化"),this.set({isConnecting:!1});return}const i=this.peerService.getConnectionInfo(),s=o.connect(t,{reliable:!0,serialization:"json",metadata:{userName:n,retryAttempt:r+1}});if(!s){this.chatEvents.emit("error","无法创建连接"),this.set({isConnecting:!1});return}const a=setTimeout(()=>{s.close(),this.retryConnection(t,n,r+1)},15e3);s.on("open",()=>{clearTimeout(a),console.log(`重试成功，已连接到房主: ${t}`),this.handleSuccessfulConnection(s,t,n,i.isLocalNetwork)}),s.on("error",l=>{if(clearTimeout(a),console.error(`重试连接错误(${r+1}/3):`,l),r>=1){let c="连接失败";l.type&&l.type.toString()==="peer-unavailable"?c="无法连接到指定的群聊，可能群聊已不存在或暂时不可用":c=`连接错误: ${l.message||"无法连接到群聊"}`,this.chatEvents.emit("error",c),this.set({isConnecting:!1})}else setTimeout(()=>{this.retryConnection(t,n,r+1)},2e3)})}handleSuccessfulConnection(t,n,r,o){const i=this.peerService.getConnectionInfo(),{peer:s}=this.get(),a={id:n,name:`群聊 ${n.substring(0,6)}`,isGroup:!0,users:[{id:s.id,name:r},{id:n,name:"等待房主信息..."}],connections:[t],messages:[],roomId:n,isHost:!1,shareLink:`${window.location.origin}${window.location.pathname}?roomId=${n}`,isLocalNetwork:o,localIpAddress:i.localIpAddress};console.log("创建新的群聊对象:",a);const{chats:l}=this.get(),c=l.findIndex(u=>u.id===n);if(c>=0){const u=[...l];u[c]=a,this.set({chats:u,currentChat:a})}else this.set({chats:[a,...l],currentChat:a});console.log("向房主发送自己的信息"),t.send({type:"NEW_USER",data:{id:s.id,name:r,isLocalNetwork:o,localIpAddress:i.localIpAddress}}),this.chatEvents.emit("joinedGroup",a),this.set({isConnecting:!1}),this.messageService.addSystemMessage("您已加入群聊"),t.on("data",u=>{console.log("收到房主数据:",u),this.peerService.handleReceivedData(u,n)}),t.on("close",()=>{console.log("与房主的连接已关闭"),this.messageService.addSystemMessage("与群聊的连接已断开"),this.chatEvents.emit("connectionClosed")})}}const JS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let wn=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=JS[n[e]&63];return t};class QS{constructor(t,n,r){this.set=t,this.get=n,this.chatEvents=r}sendMessage(t){const{currentChat:n,userId:r,userName:o,messages:i}=this.get();if(!t.trim()||!n)return;const s=n.isGroup?n.roomId:void 0,a=n.isGroup&&n.isHost,l={id:wn(),sender:r,senderName:o||void 0,content:t,timestamp:new Date().toISOString(),status:"sent",roomId:s,isHost:a};this.set({messages:[...i,l]});const c={...n,lastMessage:t,lastMessageTime:l.timestamp};if(this.set({currentChat:c}),this.set(u=>({chats:u.chats.map(f=>f.id===n.id?c:f)})),n.isGroup){const u=n;if(u.isHost){const{connections:f}=this.get();Object.values(f).forEach(d=>{try{d.send({type:"MESSAGE",data:l})}catch(m){console.error("发送消息失败:",m)}})}else u.connections&&u.connections.length>0&&u.connections.forEach(f=>{try{f.send({type:"MESSAGE",data:l})}catch(d){console.error("发送消息失败:",d)}})}}addSystemMessage(t){const n={id:wn(),sender:"system",senderName:"System",content:t,timestamp:new Date().toISOString()};return this.set(r=>({messages:[...r.messages,n]})),n}}class XS{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return ZS(t).buffer}}function ZS(e){let t=0;for(const o of e)t+=o.byteLength;const n=new Uint8Array(t);let r=0;for(const o of e){const i=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);n.set(i,r),r+=o.byteLength}return n}function Wg(e){return new qS(e).unpack()}function Vg(e){const t=new ew,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class qS{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,o="",i,s;for(;r<t;)i=n[r],i<160?(s=i,r++):(i^192)<32?(s=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(s=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(s=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),o+=String.fromCodePoint(s);return this.index+=t,o}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const o=this.unpack();n[o]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,o=t&8388607|8388608;return(n===0?1:-1)*o*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,o=(t>>20&2047)-1023,s=(t&1048575|1048576)*2**(o-20)+n*2**(o-52);return(r===0?1:-1)*s}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class ew{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=o=>{if(o<n){const i=this.pack(t[o]);return i instanceof Promise?i.then(()=>r(o+1)):r(o+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),o=t/2**r-1,i=Math.floor(o*2**52),s=2**32,a=n<<31|r+1023<<20|i/s&1048575,l=i%s;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const o=i=>{if(i<n.length){const s=n[i];if(t.hasOwnProperty(s)){this.pack(s);const a=this.pack(t[s]);if(a instanceof Promise)return a.then(()=>o(i+1))}return o(i+1)}};return o(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new XS,this._textEncoder=new TextEncoder}}let Gg=!0,Kg=!0;function Ns(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function wr(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(s,a){if(s!==t)return o.apply(this,arguments);const l=c=>{const u=n(c);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,l),o.apply(this,[s,l])};const i=r.removeEventListener;r.removeEventListener=function(s,a){if(s!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(a))return i.apply(this,arguments);const l=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[s,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function tw(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Gg=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function nw(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Kg=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Yg(){if(typeof window=="object"){if(Gg)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function xf(e,t){Kg&&console.warn(e+" is deprecated, please use "+t+" instead.")}function rw(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(o=>o.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=Ns(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Ns(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Ns(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function _p(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jg(e){return _p(e)?Object.keys(e).reduce(function(t,n){const r=_p(e[n]),o=r?Jg(e[n]):e[n],i=r&&!Object.keys(o).length;return o===void 0||i?t:Object.assign(t,{[n]:o})},{}):e}function qc(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?qc(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(o=>{qc(e,e.get(o),n)})}))}function Ep(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(t===null)return o;const i=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&i.push(s)}),i.forEach(s=>{e.forEach(a=>{a.type===r&&a.trackId===s.id&&qc(e,a,o)})}),o}const bp=Yg;function Qg(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof a[c]=="object"?a[c]:{ideal:a[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(d,m){return d?d+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(u.ideal!==void 0){l.optional=l.optional||[];let d={};typeof u.ideal=="number"?(d[f("min",c)]=u.ideal,l.optional.push(d),d={},d[f("max",c)]=u.ideal,l.optional.push(d)):(d[f("",c)]=u.ideal,l.optional.push(d))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",c)]=u.exact):["min","max"].forEach(d=>{u[d]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(d,c)]=u[d])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},o=function(a,l){if(t.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(C=>C.kind==="videoinput");let m=d.find(C=>f.some(y=>C.label.toLowerCase().includes(y)));return!m&&d.length&&f.includes("back")&&(m=d[d.length-1]),m&&(a.video.deviceId=c.exact?{exact:m.deviceId}:{ideal:m.deviceId}),a.video=r(a.video),bp("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return bp("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){o(a,u=>{n.webkitGetUserMedia(u,l,f=>{c&&c(i(f))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return o(l,c=>a(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(i(u))))}}}function Xg(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Zg(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",o=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===o.track.id):i={track:o.track};const s=new Event("track");s.track=o.track,s.receiver=i,s.transceiver={receiver:i},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(o=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===o.id):i={track:o};const s=new Event("track");s.track=o,s.receiver=i,s.transceiver={receiver:i},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else wr(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function qg(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(o,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=o.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:o}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const o=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){let c=o.apply(this,arguments);return c||(c=t(this,a),this._senders.push(c)),c};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(s=>{const a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ev(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>Ep(s,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const o=n.apply(this,[]);return o.forEach(i=>i._pc=this),o}),wr(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const o=this;return this._pc.getStats().then(i=>Ep(i,o.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let o,i,s;return this.getSenders().forEach(a=>{a.track===r&&(o?s=!0:o=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?s=!0:i=a),a.track===r)),s||o&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):o?o.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function tv(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),o.apply(this,arguments)}}function nv(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return tv(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(m=>m.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new e.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(y=>y===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[f.id];if(C)C.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new e.MediaStream([u]);this._streams[f.id]=y,this._reverseStreams[y.id]=f,this.addStream(y)}return this.getSenders().find(y=>y.track===u)};function i(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const m=c._reverseStreams[d],C=c._streams[m.id];f=f.replace(new RegExp(C.id,"g"),m.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function s(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const m=c._reverseStreams[d],C=c._streams[m.id];f=f.replace(new RegExp(m.id,"g"),C.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const u=e.RTCPeerConnection.prototype[c],f={[c](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[C=>{const y=i(this,C);d[0].apply(null,[y])},C=>{d[1]&&d[1].apply(null,C)},arguments[2]]):u.apply(this,arguments).then(C=>i(this,C))}};e.RTCPeerConnection.prototype[c]=f[c]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(y=>u.track===y)&&(d=this._streams[m])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function eu(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],o={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=o[n]})}function rv(e,t){wr(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Rp=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:rv,shimAddTrackRemoveTrack:nv,shimAddTrackRemoveTrackWithNative:tv,shimGetSendersWithDtmf:qg,shimGetUserMedia:Qg,shimMediaStream:Xg,shimOnTrack:Zg,shimPeerConnection:eu,shimSenderReceiverGetStats:ev},Symbol.toStringTag,{value:"Module"}));function ov(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(o,i,s){xf("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(o).then(i,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const o=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),o(s.audio,"autoGainControl","mozAutoGainControl"),o(s.audio,"noiseSuppression","mozNoiseSuppression")),i(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const a=s.apply(this,arguments);return o(a,"mozAutoGainControl","autoGainControl"),o(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),o(a,"autoGainControl","mozAutoGainControl"),o(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function ow(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const o=new DOMException("getDisplayMedia without video constraints is undefined");return o.name="NotFoundError",o.code=8,Promise.reject(o)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function iv(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tu(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const i=e.RTCPeerConnection.prototype[o],s={[o](){return arguments[0]=new(o==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[o]=s[o]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,s,a]=arguments;return r.apply(this,[i||null]).then(l=>{if(t.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,f)=>{l.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(s,a)}}function sv(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=t.apply(this,[]);return o.forEach(i=>i._pc=this),o});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=n.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function av(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r}),wr(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function lv(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){xf("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function cv(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function uv(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const o=r.length>0;o&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(o){const{sender:s}=i,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return i})}function fv(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function dv(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function pv(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Pp=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:uv,shimCreateAnswer:pv,shimCreateOffer:dv,shimGetDisplayMedia:ow,shimGetParameters:fv,shimGetUserMedia:ov,shimOnTrack:iv,shimPeerConnection:tu,shimRTCDataChannel:cv,shimReceiverGetStats:av,shimRemoveStream:lv,shimSenderGetStats:sv},Symbol.toStringTag,{value:"Module"}));function hv(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(o=>t.call(this,o,r)),r.getVideoTracks().forEach(o=>t.call(this,o,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...o){return o&&o.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const o=n.getTracks();this.getSenders().forEach(i=>{o.includes(i.track)&&this.removeTrack(i)})})}}function mv(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(o){o.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function gv(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d},t.createAnswer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d};let a=function(l,c,u){const f=o.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f};t.setLocalDescription=a,a=function(l,c,u){const f=i.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f},t.setRemoteDescription=a,a=function(l,c,u){const f=s.apply(this,[l]);return u?(f.then(c,u),Promise.resolve()):f},t.addIceCandidate=a}function vv(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=o=>r(yv(o))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,o,i){t.mediaDevices.getUserMedia(r).then(o,i)}).bind(t))}function yv(e){return e&&e.video!==void 0?Object.assign({},e,{video:Jg(e.video)}):e}function xv(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,o){if(r&&r.iceServers){const i=[];for(let s=0;s<r.iceServers.length;s++){let a=r.iceServers[s];a.urls===void 0&&a.url?(xf("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[s])}r.iceServers=i}return new t(r,o)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Cv(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Sv(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveAudio===!0&&!o&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function wv(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Tp=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:wv,shimCallbacksAPI:gv,shimConstraints:yv,shimCreateOfferLegacy:Sv,shimGetUserMedia:vv,shimLocalStreamsAPI:hv,shimRTCIceServerUrls:xv,shimRemoteStreamsAPI:mv,shimTrackEventTransceiver:Cv},Symbol.toStringTag,{value:"Module"}));var kv={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((o,i)=>(i>0?"m="+o:o).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(o=>o.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const o={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":o.relatedAddress=r[i+1];break;case"rport":o.relatedPort=parseInt(r[i+1],10);break;case"tcptype":o.tcpType=r[i+1];break;case"ufrag":o.ufrag=r[i+1],o.usernameFragment=r[i+1];break;default:o[r[i]]===void 0&&(o[r[i]]=r[i+1]);break}return o},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const o=n.component;o==="rtp"?r.push(1):o==="rtcp"?r.push(2):r.push(o),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const o={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),o.name=r[0],o.clockRate=parseInt(r[1],10),o.channels=r.length===3?parseInt(r[2],10):1,o.numChannels=o.channels,o},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const o=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(o!==1?"/"+o:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let o;const i=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<i.length;s++)o=i[s].trim().split("="),r[o[0].trim()]=o[1];return r},t.writeFmtp=function(n){let r="",o=n.payloadType;if(n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?i.push(s+"="+n.parameters[s]):i.push(s)}),r+="a=fmtp:"+o+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",o=n.payloadType;return n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+o+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),o={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(o.attribute=n.substring(r+1,i),o.value=n.substring(i+1)):o.attribute=n.substring(r+1),o},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(o=>parseInt(o,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let o="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{o+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),o},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const o=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return o&&i?{usernameFragment:o.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const l=i[a],c=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=t.parseRtpMap(c),f=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=f.length?t.parseFmtp(f[0]):{},u.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const s=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{s.forEach(l=>{a.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},t.writeRtpDescription=function(n,r){let o="";o+="m="+n+" ",o+=r.codecs.length>0?"9":"0",o+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",o+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,o+=`c=IN IP4 0.0.0.0\r
`,o+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{o+=t.writeRtpMap(s),o+=t.writeFmtp(s),o+=t.writeRtcpFb(s)});let i=0;return r.codecs.forEach(s=>{s.maxptime>i&&(i=s.maxptime)}),i>0&&(o+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{o+=t.writeExtmap(s)}),o},t.parseRtpEncodingParameters=function(n){const r=[],o=t.parseRtpParameters(n),i=o.fecMechanisms.indexOf("RED")!==-1,s=o.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(C=>parseInt(C,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),o.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let m={ssrc:l,codecPayloadType:parseInt(d.parameters.apt,10)};l&&c&&(m.rtx={ssrc:c}),r.push(m),i&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&l&&r.push({ssrc:l});let f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(d=>{d.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},o=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];o&&(r.cname=o.value,r.ssrc=o.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const o=t.matchPrefix(n,"a=msid:");if(o.length===1)return r=o[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),o=t.matchPrefix(n,"a=max-message-size:");let i;o.length>0&&(i=parseInt(o[0].substring(19),10)),isNaN(i)&&(i=65536);const s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let o=[];return n.protocol!=="DTLS/SCTP"?o=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:o=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&o.push("a=max-message-size:"+r.maxMessageSize+`\r
`),o.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,o){let i;const s=r!==void 0?r:2;return n?i=n:i=t.generateSessionId(),`v=0\r
o=`+(o||"thisisadapterortc")+" "+i+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const o=t.splitLines(n);for(let i=0;i<o.length;i++)switch(o[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const o=t.splitLines(n)[0].substring(2).split(" ");return{kind:o[0],port:parseInt(o[1],10),protocol:o[2],fmt:o.slice(3).join(" ")}},t.parseOLine=function(n){const o=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:o[0],sessionId:o[1],sessionVersion:parseInt(o[2],10),netType:o[3],addressType:o[4],address:o[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let o=0;o<r.length;o++)if(r[o].length<2||r[o].charAt(1)!=="=")return!1;return!0},e.exports=t})(kv);var _v=kv.exports;const eo=_a(_v),iw=xu({__proto__:null,default:eo},[_v]);function js(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const o=new t(r),i=eo.parseCandidate(r.candidate);for(const s in i)s in o||Object.defineProperty(o,s,{value:i[s]});return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,wr(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function nu(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||wr(e,"icecandidate",t=>{if(t.candidate){const n=eo.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Ds(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=eo.splitSections(a.sdp);return l.shift(),l.some(c=>{const u=eo.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},o=function(a){let l=65536;return t.browser==="firefox"&&(t.version<57?a===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const u=eo.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=o(l),u=i(arguments[0],l);let f;c===0&&u===0?f=Number.POSITIVE_INFINITY:c===0||u===0?f=Math.max(c,u):f=Math.min(c,u);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return f}}),this._sctp=d}return s.apply(this,arguments)}}function Os(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,o){const i=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&o.sctp&&l>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const o=n.apply(this,arguments);return t(o,this),o},wr(e,"datachannel",r=>(t(r.channel,r.target),r))}function ru(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{const i=o.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const s=new Event("connectionstatechange",o);i.dispatchEvent(s)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function ou(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(o){if(o&&o.sdp&&o.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=o.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&o instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:o.type,sdp:i}):o.sdp=i}return n.apply(this,arguments)}}function Ms(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ls(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let o=arguments[0]||{};if(typeof o!="object"||o.type&&o.sdp)return n.apply(this,arguments);if(o={type:o.type,sdp:o.sdp},!o.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":o.type="offer";break;default:o.type="answer";break}return o.sdp||o.type!=="offer"&&o.type!=="answer"?n.apply(this,[o]):(o.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}const sw=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:ou,shimAddIceCandidateNullOrEmpty:Ms,shimConnectionState:ru,shimMaxMessageSize:Ds,shimParameterlessSetLocalDescription:Ls,shimRTCIceCandidate:js,shimRTCIceCandidateRelayProtocol:nu,shimSendThrowTypeError:Os},Symbol.toStringTag,{value:"Module"}));function aw({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Yg,r=rw(e),o={browserDetails:r,commonShim:sw,extractVersion:Ns,disableLog:tw,disableWarnings:nw,sdp:iw};switch(r.browser){case"chrome":if(!Rp||!eu||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),o;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),o;n("adapter.js shimming chrome."),o.browserShim=Rp,Ms(e,r),Ls(e),Qg(e,r),Xg(e),eu(e,r),Zg(e),nv(e,r),qg(e),ev(e),rv(e,r),js(e),nu(e),ru(e),Ds(e,r),Os(e),ou(e,r);break;case"firefox":if(!Pp||!tu||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),o;n("adapter.js shimming firefox."),o.browserShim=Pp,Ms(e,r),Ls(e),ov(e,r),tu(e,r),iv(e),lv(e),sv(e),av(e),cv(e),uv(e),fv(e),dv(e),pv(e),js(e),ru(e),Ds(e,r),Os(e);break;case"safari":if(!Tp||!t.shimSafari)return n("Safari shim is not included in this adapter release."),o;n("adapter.js shimming safari."),o.browserShim=Tp,Ms(e,r),Ls(e),xv(e),Sv(e),gv(e),hv(e),mv(e),Cv(e),vv(e),wv(e),js(e),nu(e),Ds(e,r),Os(e),ou(e,r);break;default:n("Unsupported browser!");break}return o}const Np=aw({window:typeof window>"u"?void 0:window});function kr(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class Ev{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,o=Math.ceil(r/this.chunkedMTU);let i=0,s=0;for(;s<r;){const a=Math.min(r,s+this.chunkedMTU),l=t.slice(s,a),c={__peerData:this._dataCount,n:i,data:l,total:o};n.push(c),s=a,i++}return this._dataCount++,n}}}function lw(e){let t=0;for(const o of e)t+=o.byteLength;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.byteLength;return n}const Fl=Np.default||Np,$o=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Fl.browserDetails.browser}getVersion(){return Fl.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Fl.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},cw=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),bv=()=>Math.random().toString(36).slice(2),jp={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class uw extends Ev{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(o){o.target&&n(o.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=jp,this.browser=$o.getBrowser(),this.browserVersion=$o.getVersion(),this.pack=Vg,this.unpack=Wg,this.supports=function(){const n={browser:$o.isBrowserSupported(),webRTC:$o.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(jp),n.audioVideo=!0;let o;try{o=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!o.ordered;try{o.binaryType="blob",n.binaryBlob=!$o.isIOS}catch{}}catch{}finally{o&&o.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=cw,this.randomToken=bv}}const qe=new uw,fw="PeerJS: ";var Dp;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Dp||(Dp={}));class dw{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[fw,...n];for(const o in r)r[o]instanceof Error&&(r[o]="("+r[o].name+") "+r[o].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var A=new dw,Cf={},pw=Object.prototype.hasOwnProperty,Ye="~";function Ci(){}Object.create&&(Ci.prototype=Object.create(null),new Ci().__proto__||(Ye=!1));function hw(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Rv(e,t,n,r,o){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new hw(n,r||e,o),s=Ye?Ye+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],i]:e._events[s].push(i):(e._events[s]=i,e._eventsCount++),e}function Is(e,t){--e._eventsCount===0?e._events=new Ci:delete e._events[t]}function He(){this._events=new Ci,this._eventsCount=0}He.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)pw.call(n,r)&&t.push(Ye?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};He.prototype.listeners=function(t){var n=Ye?Ye+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s};He.prototype.listenerCount=function(t){var n=Ye?Ye+t:t,r=this._events[n];return r?r.fn?1:r.length:0};He.prototype.emit=function(t,n,r,o,i,s){var a=Ye?Ye+t:t;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,u,f;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,o),!0;case 5:return l.fn.call(l.context,n,r,o,i),!0;case 6:return l.fn.call(l.context,n,r,o,i,s),!0}for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l.fn.apply(l.context,u)}else{var d=l.length,m;for(f=0;f<d;f++)switch(l[f].once&&this.removeListener(t,l[f].fn,void 0,!0),c){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,n);break;case 3:l[f].fn.call(l[f].context,n,r);break;case 4:l[f].fn.call(l[f].context,n,r,o);break;default:if(!u)for(m=1,u=new Array(c-1);m<c;m++)u[m-1]=arguments[m];l[f].fn.apply(l[f].context,u)}}return!0};He.prototype.on=function(t,n,r){return Rv(this,t,n,r,!1)};He.prototype.once=function(t,n,r){return Rv(this,t,n,r,!0)};He.prototype.removeListener=function(t,n,r,o){var i=Ye?Ye+t:t;if(!this._events[i])return this;if(!n)return Is(this,i),this;var s=this._events[i];if(s.fn)s.fn===n&&(!o||s.once)&&(!r||s.context===r)&&Is(this,i);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==n||o&&!s[a].once||r&&s[a].context!==r)&&l.push(s[a]);l.length?this._events[i]=l.length===1?l[0]:l:Is(this,i)}return this};He.prototype.removeAllListeners=function(t){var n;return t?(n=Ye?Ye+t:t,this._events[n]&&Is(this,n)):(this._events=new Ci,this._eventsCount=0),this};He.prototype.off=He.prototype.removeListener;He.prototype.addListener=He.prototype.on;He.prefixed=Ye;He.EventEmitter=He;Cf=He;var _r={};kr(_r,"ConnectionType",()=>Wt);kr(_r,"PeerErrorType",()=>ye);kr(_r,"BaseConnectionErrorType",()=>Si);kr(_r,"DataConnectionErrorType",()=>wi);kr(_r,"SerializationType",()=>fo);kr(_r,"SocketEventType",()=>Ut);kr(_r,"ServerMessageType",()=>je);var Wt;(function(e){e.Data="data",e.Media="media"})(Wt||(Wt={}));var ye;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(ye||(ye={}));var Si;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(Si||(Si={}));var wi;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(wi||(wi={}));var fo;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(fo||(fo={}));var Ut;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Ut||(Ut={}));var je;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(je||(je={}));var Sf={};Sf=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class mw extends Cf.EventEmitter{constructor(t,n,r,o,i,s=5e3){super(),this.pingInterval=s,this._disconnected=!0,this._messagesQueue=[];const a=t?"wss://":"ws://";this._baseUrl=a+n+":"+r+o+"peerjs?key="+i}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Sf.version),this._disconnected=!1,this._socket.onmessage=o=>{let i;try{i=JSON.parse(o.data),A.log("Server message received:",i)}catch{A.log("Invalid server message",o.data);return}this.emit(Ut.Message,i)},this._socket.onclose=o=>{this._disconnected||(A.log("Socket closed.",o),this._cleanup(),this._disconnected=!0,this.emit(Ut.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),A.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){A.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:je.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Ut.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Pv{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Wt.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,o={ordered:!!t.reliable},i=n.createDataChannel(r.label,o);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){A.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,o=this.connection.type,i=this.connection.provider;A.log("Listening for ICE candidates."),t.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(A.log(`Received ICE candidates for ${n}:`,s.candidate),i.socket.send({type:je.Candidate,payload:{candidate:s.candidate,type:o,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":A.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Si.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":A.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Si.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":A.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},A.log("Listening for data channel"),t.ondatachannel=s=>{A.log("Received data channel");const a=s.channel;i.getConnection(n,r)._initializeDataChannel(a)},A.log("Listening for remote stream"),t.ontrack=s=>{A.log("Received remote stream");const a=s.streams[0],l=i.getConnection(n,r);if(l.type===Wt.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){A.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const o=this.connection.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);A.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),A.log("Set localDescription:",r,`for:${this.connection.peer}`);let o={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Wt.Data){const i=this.connection;o={...o,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:je.Offer,payload:o,dst:this.connection.peer})}catch(o){o!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ye.WebRTC,o),A.log("Failed to setLocalDescription, ",o))}}catch(r){n.emitError(ye.WebRTC,r),A.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();A.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),A.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:je.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(o){n.emitError(ye.WebRTC,o),A.log("Failed to setLocalDescription, ",o)}}catch(r){n.emitError(ye.WebRTC,r),A.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,o=this.connection.provider;A.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),A.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await i._makeAnswer()}catch(s){o.emitError(ye.WebRTC,s),A.log("Failed to setRemoteDescription, ",s)}}async handleCandidate(t){A.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),A.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ye.WebRTC,n),A.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(A.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return A.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){A.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class Tv extends Cf.EventEmitter{emitError(t,n){A.error("Error:",n),this.emit("error",new gw(`${t}`,n))}}class gw extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class Nv extends Tv{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var mu;const ei=class ei extends Nv{get type(){return Wt.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ei.ID_PREFIX+qe.randomToken(),this._negotiator=new Pv(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{A.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{A.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){A.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case je.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case je.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:A.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){A.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const o of r)this.handleMessage(o);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};mu=new WeakMap,_o(ei,mu,ei.ID_PREFIX="mc_");let va=ei;class vw{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:o,path:i,key:s}=this._options,a=new URL(`${n}://${r}:${o}${i}${s}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Sf.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){A.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==qe.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===qe.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw A.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var gu,vu;const Qn=class Qn extends Nv{get type(){return Wt.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Qn.ID_PREFIX+bv(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Pv(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{A.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{A.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{A.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(wi.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case je.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case je.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:A.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};gu=new WeakMap,vu=new WeakMap,_o(Qn,gu,Qn.ID_PREFIX="dc_"),_o(Qn,vu,Qn.MAX_BUFFERED_AMOUNT=8388608);let ya=Qn;class wf extends ya{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ya.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return A.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Ul extends wf{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new Ev,this.serialization=fo.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=Wg(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const o=lw(r.data);this._handleDataMessage({data:o})}}_send(t,n){const r=Vg(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);A.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class yw extends wf{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=fo.None}}class xw extends wf{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=qe.chunkedMTU){this.emitError(wi.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=fo.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var yu;const ti=class ti extends Tv{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:yw,json:xw,binary:Ul,"binary-utf8":Ul,default:Ul},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:qe.CLOUD_HOST,port:qe.CLOUD_PORT,path:"/",key:ti.DEFAULT_KEY,token:qe.randomToken(),config:qe.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==qe.CLOUD_HOST?this._options.secure=qe.isSecure():this._options.host==qe.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&A.setLogFunction(this._options.logFunction),A.logLevel=this._options.debug||0,this._api=new vw(n),this._socket=this._createServerConnection(),!qe.supports.audioVideo&&!qe.supports.data){this._delayedAbort(ye.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!qe.validateId(r)){this._delayedAbort(ye.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(o=>this._initialize(o)).catch(o=>this._abort(ye.ServerError,o))}_createServerConnection(){const t=new mw(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Ut.Message,n=>{this._handleMessage(n)}),t.on(Ut.Error,n=>{this._abort(ye.SocketError,n)}),t.on(Ut.Disconnected,()=>{this.disconnected||(this.emitError(ye.Network,"Lost connection to server."),this.disconnect())}),t.on(Ut.Close,()=>{this.disconnected||this._abort(ye.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,o=t.src;switch(n){case je.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case je.Error:this._abort(ye.ServerError,r.msg);break;case je.IdTaken:this._abort(ye.UnavailableID,`ID "${this.id}" is taken`);break;case je.InvalidKey:this._abort(ye.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case je.Leave:A.log(`Received leave message from ${o}`),this._cleanupPeer(o),this._connections.delete(o);break;case je.Expire:this.emitError(ye.PeerUnavailable,`Could not connect to peer ${o}`);break;case je.Offer:{const i=r.connectionId;let s=this.getConnection(o,i);if(s&&(s.close(),A.warn(`Offer received for existing Connection ID:${i}`)),r.type===Wt.Media){const l=new va(o,this,{connectionId:i,_payload:r,metadata:r.metadata});s=l,this._addConnection(o,s),this.emit("call",l)}else if(r.type===Wt.Data){const l=new this._serializers[r.serialization](o,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});s=l,this._addConnection(o,s),this.emit("connection",l)}else{A.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const l of a)s.handleMessage(l);break}default:{if(!r){A.warn(`You received a malformed message from ${o} of type ${n}`);return}const i=r.connectionId,s=this.getConnection(o,i);s&&s.peerConnection?s.handleMessage(t):i?this._storeMessage(i,t):A.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){A.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ye.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){A.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ye.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){A.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const o=new va(t,this,{...r,_stream:n});return this._addConnection(t,o),o}_addConnection(t,n){A.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const o of r)if(o.connectionId===n)return o;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){A.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(A.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;A.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)A.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)A.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(ye.ServerError,n))}};yu=new WeakMap,_o(ti,yu,ti.DEFAULT_KEY="peerjs");let iu=ti;var Cw=iu;class Sw{constructor(t,n,r){ul(this,"isLocalNetwork",!1);this.set=t,this.get=n,this.chatEvents=r,this.detectLocalNetwork()}async detectLocalNetwork(){try{const t=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection;if(!t){console.log("当前浏览器不支持RTCPeerConnection，无法检测局域网");return}const n=new t({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});n.createDataChannel("");const r=await n.createOffer();await n.setLocalDescription(r),n.onicecandidate=o=>{if(!o.candidate)return;const s=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(o.candidate.candidate);if(s){const a=s[1];(a.startsWith("10.")||a.startsWith("192.168.")||a.match(/^172\.(1[6-9]|2[0-9]|3[0-1])\./))&&(console.log("检测到局域网环境，本地IP:",a),this.isLocalNetwork=!0,this.set({localIpAddress:a}))}n.close()}}catch(t){console.error("检测局域网环境失败:",t)}}initializePeer(t){const n=this.get();n.peer&&n.peer.destroy(),console.log("正在初始化 PeerJS..."),this.set({isPeerInitialized:!1});const r={debug:3,secure:!0,pingInterval:5e3,retries:5,config:{iceServers:[{urls:"stun:stun.miwifi.com:3478"},{urls:"stun:stun.qq.com:3478"},{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:relay.metered.ca:80",username:"e7d69958d8c3e9b91f0d",credential:"Yzf0TTJbS/9/YKJZ"},{urls:"turn:relay.metered.ca:443",username:"e7d69958d8c3e9b91f0d",credential:"Yzf0TTJbS/9/YKJZ"},{urls:"turn:relay.metered.ca:443?transport=tcp",username:"e7d69958d8c3e9b91f0d",credential:"Yzf0TTJbS/9/YKJZ"}],iceCandidatePoolSize:10}};this.isLocalNetwork=!1;const o=`user_${wn(10)}`;console.log(`使用生成的PeerID: ${o}`);const i=new Cw(o,r);i.on("connection",s=>{console.log("收到新连接请求:",s.peer),s.on("open",()=>{console.log(`与 ${s.peer} 的连接已打开`)}),s.on("error",a=>{console.error(`与 ${s.peer} 的连接发生错误:`,a)})}),i.on("open",s=>{console.log("已连接到 PeerJS 服务器，我的 ID 是:",s),this.set({userId:s,peer:i,isPeerInitialized:!0,isLocalNetwork:this.isLocalNetwork}),this.chatEvents.emit("peerInitialized",{id:s,isLocalNetwork:this.isLocalNetwork}),this.setupPeerListeners(i);const a=this.get().pendingRoomId;a&&(console.log("PeerJS初始化完成，处理待加入的群聊:",a),setTimeout(()=>{this.get().joinGroupChat(a),this.set({pendingRoomId:null})},500))}),i.on("error",s=>{console.error("PeerJS 初始化错误:",s),this.isLocalNetwork&&s.type==="network"?(console.log("局域网连接失败，尝试切换到互联网模式"),this.isLocalNetwork=!1,setTimeout(()=>{this.initializePeer(t)},1e3)):this.chatEvents.emit("error",`连接错误: ${s.message||"未知错误"}`)})}setupPeerListeners(t){t.on("connection",n=>{const r=n.peer;console.log("收到新连接:",r),n.on("open",()=>{console.log(`与 ${r} 的连接已打开`),this.set(o=>({connections:{...o.connections,[r]:n}})),n.on("data",o=>{console.log(`收到来自 ${r} 的数据:`,o),this.handleReceivedData(o,r)})}),n.on("close",()=>{console.log("连接已关闭:",r),this.set(o=>{const i={...o.connections};return delete i[r],{connections:i}}),this.handleUserLeft(r)}),n.on("error",o=>{console.error(`与 ${r} 的连接发生错误:`,o)})}),t.on("error",n=>{console.error("PeerJS 错误:",n),this.chatEvents.emit("error",`连接错误: ${n.message||"未知错误"}`)}),t.on("disconnected",()=>{console.log("与 PeerJS 服务器断开连接"),t.reconnect()})}handleReceivedData(t,n){const o={MESSAGE:this.handleMessageData.bind(this),NEW_USER:this.handleNewUserData.bind(this),USER_JOINED:this.handleUserJoinedData.bind(this),ROOM_STATE:this.handleRoomStateData.bind(this),USER_LEFT:this.handleUserLeftData.bind(this),KEEP_ALIVE:this.handleKeepAliveData.bind(this)}[t.type];o?o(t.data,n):console.warn(`未知的数据类型: ${t.type}`)}handleMessageData(t,n){const{currentChat:r}=this.get();if(r&&r.isGroup){const i=r;t.roomId||(t.roomId=i.roomId),t.sender===i.roomId&&(t.isHost=!0)}const o={...t,id:t.id||wn()};if(this.set(i=>({messages:[...i.messages,o]})),r&&(r.id===t.roomId||!t.roomId)){const i={...r,lastMessage:o.content,lastMessageTime:o.timestamp};this.set({currentChat:i}),this.set(s=>({chats:s.chats.map(a=>a.id===r.id?i:a)}))}if(r&&r.isGroup&&r.isHost){const{connections:i}=this.get();Object.entries(i).forEach(([s,a])=>{s!==n&&a.send({type:"MESSAGE",data:o})})}}handleNewUserData(t,n){const{currentChat:r,connections:o}=this.get();if(console.log(`处理新用户加入: ${t.name} (${t.id}), 连接ID: ${n}`),r&&r.isGroup){const i=r;console.log(`当前群聊: ${i.name}, 是否是主持人: ${i.isHost}`);const s=[...i.users||[],t],a=[...i.participants||[],t];if(i.isHost){console.log(`作为主持人，广播新用户信息给其他 ${Object.keys(o).length} 个用户`),Object.entries(o).forEach(([f,d])=>{f!==n&&(console.log(`向用户 ${f} 发送新用户加入通知`),d.send({type:"USER_JOINED",data:t}))});const{messages:u}=this.get();console.log(`向新用户发送房间状态，包含 ${s.length} 个用户和 ${u.length} 条消息`),o[n]?o[n].send({type:"ROOM_STATE",data:{users:s,messages:u}}):console.error(`无法找到与用户 ${n} 的连接`)}const l={...i,users:s,participants:a};this.set({currentChat:l}),this.set(u=>({chats:u.chats.map(f=>f.id===r.id?l:f)}));const c={id:wn(),sender:"system",senderName:"System",content:`${t.name} 加入了群聊`,timestamp:new Date().toISOString()};this.set(u=>({messages:[...u.messages,c]}))}else console.error("当前没有活动的群聊，无法处理新用户加入")}handleUserJoinedData(t,n){const{currentChat:r}=this.get();if(r&&r.isGroup){const o=r;if(!o.users.some(i=>i.id===t.id)){const i=[...o.users,t],s={...o,users:i};this.set({currentChat:s}),this.set(l=>({chats:l.chats.map(c=>c.id===r.id?s:c)}));const a={id:wn(),sender:"system",senderName:"System",content:`${t.name} 加入了群聊`,timestamp:new Date().toISOString()};this.set(l=>({messages:[...l.messages,a]}))}}}handleRoomStateData(t,n){const{currentChat:r}=this.get();if(r&&r.isGroup){const o=r,i=t.users.find(c=>c.id===o.roomId),s=(i==null?void 0:i.name)||"未知用户",a={...o,name:`${s}的群聊`,users:t.users,participants:t.users};this.set({currentChat:a,messages:t.messages}),this.set(c=>({chats:c.chats.map(u=>u.id===r.id?a:u)}));const l={id:wn(),sender:"system",senderName:"System",content:`已同步群聊信息，当前共有 ${t.users.length} 位成员`,timestamp:new Date().toISOString()};t.messages.some(c=>c.sender==="system"&&c.content.includes("已同步群聊信息"))||this.set(c=>({messages:[...c.messages,l]})),this.chatEvents.emit("joinedGroup",a)}}handleUserLeftData(t,n){this.handleUserLeft(t.id)}handleUserLeft(t){const{currentChat:n}=this.get();if(n&&n.isGroup){const r=n,o=r.users.find(l=>l.id===t),i=r.users.filter(l=>l.id!==t),s=(r.participants||[]).filter(l=>l.id!==t),a={...r,users:i,participants:s};if(this.set({currentChat:a}),this.set(l=>({chats:l.chats.map(c=>c.id===n.id?a:c)})),o){const l={id:wn(),sender:"system",content:`${o.name} 已离开群聊`,timestamp:new Date().toISOString()};this.set(c=>({messages:[...c.messages,l]}))}}}handleKeepAliveData(t,n){console.log(`收到来自 ${n} 的心跳`,t);const{connections:r}=this.get();r[n]&&r[n].send({type:"KEEP_ALIVE_ACK",data:{timestamp:new Date().toISOString()}})}cleanRoomId(t){return yf(t)}getConnectionInfo(){return{isLocalNetwork:this.isLocalNetwork,localIpAddress:this.get().localIpAddress,isPeerInitialized:this.get().isPeerInitialized,userId:this.get().userId}}}class ww{constructor(){ul(this,"events",{})}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),this}off(t,n){return this.events[t]?(this.events[t]=this.events[t].filter(r=>r!==n),this):this}emit(t,n){return this.events[t]?(this.events[t].forEach(r=>{r(n)}),this):this}}const Op=e=>{let t;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const d=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,d))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,o,a);return a},kw=e=>e?Op(e):Op,_w=e=>e;function Ew(e,t=_w){const n=Bs.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Bs.useDebugValue(n),n}const Mp=e=>{const t=kw(e),n=r=>Ew(t,r);return Object.assign(n,t),n},bw=e=>e?Mp(e):Mp,ae=new ww,te=bw((e,t)=>{const n=new Sw(e,t,ae),r=new QS(e,t,ae),o=new YS(e,t,ae,n,r);return typeof window<"u"&&(window.peerService=n,window.messageService=r,window.groupChatService=o),ae.on("requestToggleNetworkMode",()=>{t().toggleNetworkMode()}),{currentChat:null,chats:[],messages:[],loading:!1,isConnecting:!1,userId:"",userName:null,peer:null,connections:{},isPeerInitialized:!1,pendingRoomId:null,isLocalNetwork:!0,localIpAddress:null,setPendingRoomId:i=>{e({pendingRoomId:i})},setCurrentChat:i=>{e({currentChat:i}),i?i.isGroup?e({messages:i.messages||[]}):e({messages:[]}):e({messages:[]})},setUserName:i=>{e({userName:i}),localStorage.setItem("userName",i),n.initializePeer(i)},createGroupChat:()=>{o.createGroupChat()},joinGroupChat:i=>{o.joinGroupChat(i)},sendMessage:i=>{r.sendMessage(i)},copyShareLink:()=>{const{currentChat:i}=t();if(!i||!i.isGroup)return;const s=i;s.shareLink&&navigator.clipboard.writeText(s.shareLink).then(()=>{ae.emit("linkCopied")}).catch(a=>{console.error("复制链接失败:",a),ae.emit("error","复制链接失败")})},leaveCurrentChat:()=>{o.leaveCurrentChat()},toggleNetworkMode:()=>o.toggleNetworkMode()}});if(typeof window<"u"){const e=localStorage.getItem("userName");e&&setTimeout(()=>{te.getState().setUserName(e)},0)}function Ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Lp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jv(...e){return t=>{let n=!1;const r=e.map(o=>{const i=Lp(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():Lp(e[o],null)}}}}function gt(...e){return h.useCallback(jv(...e),e)}function Rw(e,t){const n=h.createContext(t),r=i=>{const{children:s,...a}=i,l=h.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function o(i){const s=h.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Va(e,t=[]){let n=[];function r(i,s){const a=h.createContext(s),l=n.length;n=[...n,s];const c=f=>{var g;const{scope:d,children:m,...C}=f,y=((g=d==null?void 0:d[e])==null?void 0:g[l])||a,w=h.useMemo(()=>C,Object.values(C));return p.jsx(y.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(f,d){var y;const m=((y=d==null?void 0:d[e])==null?void 0:y[l])||a,C=h.useContext(m);if(C)return C;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const o=()=>{const i=n.map(s=>h.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,Pw(o,...t)]}function Pw(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var gr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Tw=yh.useId||(()=>{}),Nw=0;function As(e){const[t,n]=h.useState(Tw());return gr(()=>{n(r=>r??String(Nw++))},[e]),e||(t?`radix-${t}`:"")}function zn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Dv({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=jw({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=zn(n),l=h.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else o(c)},[i,e,o,a]);return[s,l]}function jw({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,o=h.useRef(r),i=zn(t);return h.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}var Ga=h.forwardRef((e,t)=>{const{children:n,...r}=e,o=h.Children.toArray(n),i=o.find(Dw);if(i){const s=i.props.children,a=o.map(l=>l===i?h.Children.count(s)>1?h.Children.only(null):h.isValidElement(s)?s.props.children:null:l);return p.jsx(su,{...r,ref:t,children:h.isValidElement(s)?h.cloneElement(s,void 0,a):null})}return p.jsx(su,{...r,ref:t,children:n})});Ga.displayName="Slot";var su=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const o=Mw(n),i=Ow(r,n.props);return n.type!==h.Fragment&&(i.ref=t?jv(t,o):o),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});su.displayName="SlotClone";var kf=({children:e})=>p.jsx(p.Fragment,{children:e});function Dw(e){return h.isValidElement(e)&&e.type===kf}function Ow(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Mw(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lw=Ga,Iw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=Iw.reduce((e,t)=>{const n=h.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Ga:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Aw(e,t){e&&Ni.flushSync(()=>e.dispatchEvent(t))}function $w(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var zw="DismissableLayer",au="dismissableLayer.update",Fw="dismissableLayer.pointerDownOutside",Uw="dismissableLayer.focusOutside",Ip,Ov=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_f=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,c=h.useContext(Ov),[u,f]=h.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),C=gt(t,E=>f(E)),y=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(w),v=u?y.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,k=v>=g,b=Ww(E=>{const N=E.target,P=[...c.branches].some(O=>O.contains(N));!k||P||(o==null||o(E),s==null||s(E),E.defaultPrevented||a==null||a())},d),S=Vw(E=>{const N=E.target;[...c.branches].some(O=>O.contains(N))||(i==null||i(E),s==null||s(E),E.defaultPrevented||a==null||a())},d);return $w(E=>{v===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},d),h.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ip=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Ap(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Ip)}},[u,d,n,c]),h.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Ap())},[u,c]),h.useEffect(()=>{const E=()=>m({});return document.addEventListener(au,E),()=>document.removeEventListener(au,E)},[]),p.jsx(Xe.div,{...l,ref:C,style:{pointerEvents:x?k?"auto":"none":void 0,...e.style},onFocusCapture:Ge(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ge(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ge(e.onPointerDownCapture,b.onPointerDownCapture)})});_f.displayName=zw;var Bw="DismissableLayerBranch",Hw=h.forwardRef((e,t)=>{const n=h.useContext(Ov),r=h.useRef(null),o=gt(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Xe.div,{...e,ref:o})});Hw.displayName=Bw;function Ww(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Mv(Fw,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Vw(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&Mv(Uw,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ap(){const e=new CustomEvent(au);document.dispatchEvent(e)}function Mv(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Aw(o,i):o.dispatchEvent(i)}var Bl="focusScope.autoFocusOnMount",Hl="focusScope.autoFocusOnUnmount",$p={bubbles:!1,cancelable:!0},Gw="FocusScope",Lv=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=h.useState(null),c=zn(o),u=zn(i),f=h.useRef(null),d=gt(t,y=>l(y)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const k=x.target;a.contains(k)?f.current=k:xn(f.current,{select:!0})},w=function(x){if(m.paused||!a)return;const k=x.relatedTarget;k!==null&&(a.contains(k)||xn(f.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const b of x)b.removedNodes.length>0&&xn(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),v.disconnect()}}},[r,a,m.paused]),h.useEffect(()=>{if(a){Fp.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(Bl,$p);a.addEventListener(Bl,c),a.dispatchEvent(g),g.defaultPrevented||(Kw(Zw(Iv(a)),{select:!0}),document.activeElement===y&&xn(a))}return()=>{a.removeEventListener(Bl,c),setTimeout(()=>{const g=new CustomEvent(Hl,$p);a.addEventListener(Hl,u),a.dispatchEvent(g),g.defaultPrevented||xn(y??document.body,{select:!0}),a.removeEventListener(Hl,u),Fp.remove(m)},0)}}},[a,c,u,m]);const C=h.useCallback(y=>{if(!n&&!r||m.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(w&&g){const v=y.currentTarget,[x,k]=Yw(v);x&&k?!y.shiftKey&&g===k?(y.preventDefault(),n&&xn(x,{select:!0})):y.shiftKey&&g===x&&(y.preventDefault(),n&&xn(k,{select:!0})):g===v&&y.preventDefault()}},[n,r,m.paused]);return p.jsx(Xe.div,{tabIndex:-1,...s,ref:d,onKeyDown:C})});Lv.displayName=Gw;function Kw(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xn(r,{select:t}),document.activeElement!==n)return}function Yw(e){const t=Iv(e),n=zp(t,e),r=zp(t.reverse(),e);return[n,r]}function Iv(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zp(e,t){for(const n of e)if(!Jw(n,{upTo:t}))return n}function Jw(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qw(e){return e instanceof HTMLInputElement&&"select"in e}function xn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qw(e)&&t&&e.select()}}var Fp=Xw();function Xw(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Up(e,t),e.unshift(t)},remove(t){var n;e=Up(e,t),(n=e[0])==null||n.resume()}}}function Up(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Zw(e){return e.filter(t=>t.tagName!=="A")}var qw="Portal",Av=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=h.useState(!1);gr(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?Sg.createPortal(p.jsx(Xe.div,{...r,ref:t}),s):null});Av.displayName=qw;function ek(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Mi=e=>{const{present:t,children:n}=e,r=tk(t),o=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=gt(r.ref,nk(o));return typeof n=="function"||r.isPresent?h.cloneElement(o,{ref:i}):null};Mi.displayName="Presence";function tk(e){const[t,n]=h.useState(),r=h.useRef({}),o=h.useRef(e),i=h.useRef("none"),s=e?"mounted":"unmounted",[a,l]=ek(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=ls(r.current);i.current=a==="mounted"?c:"none"},[a]),gr(()=>{const c=r.current,u=o.current;if(u!==e){const d=i.current,m=ls(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),gr(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=m=>{const y=ls(r.current).includes(m.animationName);if(m.target===t&&y&&(l("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},d=m=>{m.target===t&&(i.current=ls(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ls(e){return(e==null?void 0:e.animationName)||"none"}function nk(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wl=0;function rk(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bp()),document.body.insertAdjacentElement("beforeend",e[1]??Bp()),Wl++,()=>{Wl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wl--}},[])}function Bp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ft=function(){return Ft=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ft.apply(this,arguments)};function $v(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function ok(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var $s="right-scroll-bar-position",zs="width-before-scroll-bar",ik="with-scroll-bars-hidden",sk="--removed-body-scroll-bar-size";function Vl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ak(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var lk=typeof window<"u"?h.useLayoutEffect:h.useEffect,Hp=new WeakMap;function ck(e,t){var n=ak(null,function(r){return e.forEach(function(o){return Vl(o,r)})});return lk(function(){var r=Hp.get(n);if(r){var o=new Set(r),i=new Set(e),s=n.current;o.forEach(function(a){i.has(a)||Vl(a,null)}),i.forEach(function(a){o.has(a)||Vl(a,s)})}Hp.set(n,e)},[e]),n}function uk(e){return e}function fk(e,t){t===void 0&&(t=uk);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function dk(e){e===void 0&&(e={});var t=fk(null);return t.options=Ft({async:!0,ssr:!1},e),t}var zv=function(e){var t=e.sideCar,n=$v(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Ft({},n))};zv.isSideCarExport=!0;function pk(e,t){return e.useMedium(t),zv}var Fv=dk(),Gl=function(){},Ka=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Gl,onWheelCapture:Gl,onTouchMoveCapture:Gl}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,m=e.noIsolation,C=e.inert,y=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,v=e.gapMode,x=$v(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=d,b=ck([n,t]),S=Ft(Ft({},x),o);return h.createElement(h.Fragment,null,u&&h.createElement(k,{sideCar:Fv,removeScrollBar:c,shards:f,noIsolation:m,inert:C,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:v}),s?h.cloneElement(h.Children.only(a),Ft(Ft({},S),{ref:b})):h.createElement(g,Ft({},S,{className:l,ref:b}),a))});Ka.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ka.classNames={fullWidth:zs,zeroRight:$s};var hk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hk();return t&&e.setAttribute("nonce",t),e}function gk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yk=function(){var e=0,t=null;return{add:function(n){e==0&&(t=mk())&&(gk(t,n),vk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xk=function(){var e=yk();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Uv=function(){var e=xk(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Ck={left:0,top:0,right:0,gap:0},Kl=function(e){return parseInt(e||"",10)||0},Sk=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Kl(n),Kl(r),Kl(o)]},wk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ck;var t=Sk(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kk=Uv(),to="data-scroll-locked",_k=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ik,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(to,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($s,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zs,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($s," .").concat($s,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zs," .").concat(zs,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(to,`] {
    `).concat(sk,": ").concat(a,`px;
  }
`)},Wp=function(){var e=parseInt(document.body.getAttribute(to)||"0",10);return isFinite(e)?e:0},Ek=function(){h.useEffect(function(){return document.body.setAttribute(to,(Wp()+1).toString()),function(){var e=Wp()-1;e<=0?document.body.removeAttribute(to):document.body.setAttribute(to,e.toString())}},[])},bk=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Ek();var i=h.useMemo(function(){return wk(o)},[o]);return h.createElement(kk,{styles:_k(i,!t,o,n?"":"!important")})},lu=!1;if(typeof window<"u")try{var cs=Object.defineProperty({},"passive",{get:function(){return lu=!0,!0}});window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{lu=!1}var Nr=lu?{passive:!1}:!1,Rk=function(e){return e.tagName==="TEXTAREA"},Bv=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rk(e)&&n[t]==="visible")},Pk=function(e){return Bv(e,"overflowY")},Tk=function(e){return Bv(e,"overflowX")},Vp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Hv(e,r);if(o){var i=Wv(e,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Nk=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},jk=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Hv=function(e,t){return e==="v"?Pk(t):Tk(t)},Wv=function(e,t){return e==="v"?Nk(t):jk(t)},Dk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ok=function(e,t,n,r,o){var i=Dk(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,d=0;do{var m=Wv(e,a),C=m[0],y=m[1],w=m[2],g=y-w-i*C;(C||g)&&Hv(e,a)&&(f+=g,d+=C),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(f)<1||!u&&Math.abs(d)<1)&&(c=!0),c},us=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gp=function(e){return[e.deltaX,e.deltaY]},Kp=function(e){return e&&"current"in e?e.current:e},Mk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Lk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ik=0,jr=[];function Ak(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(Ik++)[0],i=h.useState(Uv)[0],s=h.useRef(e);h.useEffect(function(){s.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=ok([e.lockRef.current],(e.shards||[]).map(Kp),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var g=us(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-g[0],k="deltaY"in y?y.deltaY:v[1]-g[1],b,S=y.target,E=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in y&&E==="h"&&S.type==="range")return!1;var N=Vp(E,S);if(!N)return!0;if(N?b=E:(b=E==="v"?"h":"v",N=Vp(E,S)),!N)return!1;if(!r.current&&"changedTouches"in y&&(x||k)&&(r.current=b),!b)return!0;var P=r.current||b;return Ok(P,w,y,P==="h"?x:k)},[]),l=h.useCallback(function(y){var w=y;if(!(!jr.length||jr[jr.length-1]!==i)){var g="deltaY"in w?Gp(w):us(w),v=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&Mk(b.delta,g)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(s.current.shards||[]).map(Kp).filter(Boolean).filter(function(b){return b.contains(w.target)}),k=x.length>0?a(w,x[0]):!s.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(y,w,g,v){var x={name:y,delta:w,target:g,should:v,shadowParent:$k(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(k){return k!==x})},1)},[]),u=h.useCallback(function(y){n.current=us(y),r.current=void 0},[]),f=h.useCallback(function(y){c(y.type,Gp(y),y.target,a(y,e.lockRef.current))},[]),d=h.useCallback(function(y){c(y.type,us(y),y.target,a(y,e.lockRef.current))},[]);h.useEffect(function(){return jr.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Nr),document.addEventListener("touchmove",l,Nr),document.addEventListener("touchstart",u,Nr),function(){jr=jr.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Nr),document.removeEventListener("touchmove",l,Nr),document.removeEventListener("touchstart",u,Nr)}},[]);var m=e.removeScrollBar,C=e.inert;return h.createElement(h.Fragment,null,C?h.createElement(i,{styles:Lk(o)}):null,m?h.createElement(bk,{gapMode:e.gapMode}):null)}function $k(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zk=pk(Fv,Ak);var Vv=h.forwardRef(function(e,t){return h.createElement(Ka,Ft({},e,{ref:t,sideCar:zk}))});Vv.classNames=Ka.classNames;var Fk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dr=new WeakMap,fs=new WeakMap,ds={},Yl=0,Gv=function(e){return e&&(e.host||Gv(e.parentNode))},Uk=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Gv(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Bk=function(e,t,n,r){var o=Uk(t,Array.isArray(e)?e:[e]);ds[n]||(ds[n]=new WeakMap);var i=ds[n],s=[],a=new Set,l=new Set(o),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};o.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(a.has(d))u(d);else try{var m=d.getAttribute(r),C=m!==null&&m!=="false",y=(Dr.get(d)||0)+1,w=(i.get(d)||0)+1;Dr.set(d,y),i.set(d,w),s.push(d),y===1&&C&&fs.set(d,!0),w===1&&d.setAttribute(n,"true"),C||d.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",d,g)}})};return u(t),a.clear(),Yl++,function(){s.forEach(function(f){var d=Dr.get(f)-1,m=i.get(f)-1;Dr.set(f,d),i.set(f,m),d||(fs.has(f)||f.removeAttribute(r),fs.delete(f)),m||f.removeAttribute(n)}),Yl--,Yl||(Dr=new WeakMap,Dr=new WeakMap,fs=new WeakMap,ds={})}},Hk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Fk(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Bk(r,o,n,"aria-hidden")):function(){return null}},Ef="Dialog",[Kv,Yv]=Va(Ef),[Wk,It]=Kv(Ef),Jv=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,a=h.useRef(null),l=h.useRef(null),[c=!1,u]=Dv({prop:r,defaultProp:o,onChange:i});return p.jsx(Wk,{scope:t,triggerRef:a,contentRef:l,contentId:As(),titleId:As(),descriptionId:As(),open:c,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};Jv.displayName=Ef;var Qv="DialogTrigger",Xv=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=It(Qv,n),i=gt(t,o.triggerRef);return p.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Pf(o.open),...r,ref:i,onClick:Ge(e.onClick,o.onOpenToggle)})});Xv.displayName=Qv;var bf="DialogPortal",[Vk,Zv]=Kv(bf,{forceMount:void 0}),qv=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=It(bf,t);return p.jsx(Vk,{scope:t,forceMount:n,children:h.Children.map(r,s=>p.jsx(Mi,{present:n||i.open,children:p.jsx(Av,{asChild:!0,container:o,children:s})}))})};qv.displayName=bf;var xa="DialogOverlay",ey=h.forwardRef((e,t)=>{const n=Zv(xa,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=It(xa,e.__scopeDialog);return i.modal?p.jsx(Mi,{present:r||i.open,children:p.jsx(Gk,{...o,ref:t})}):null});ey.displayName=xa;var Gk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=It(xa,n);return p.jsx(Vv,{as:Ga,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Xe.div,{"data-state":Pf(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),vr="DialogContent",ty=h.forwardRef((e,t)=>{const n=Zv(vr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=It(vr,e.__scopeDialog);return p.jsx(Mi,{present:r||i.open,children:i.modal?p.jsx(Kk,{...o,ref:t}):p.jsx(Yk,{...o,ref:t})})});ty.displayName=vr;var Kk=h.forwardRef((e,t)=>{const n=It(vr,e.__scopeDialog),r=h.useRef(null),o=gt(t,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Hk(i)},[]),p.jsx(ny,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault())})}),Yk=h.forwardRef((e,t)=>{const n=It(vr,e.__scopeDialog),r=h.useRef(!1),o=h.useRef(!1);return p.jsx(ny,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),ny=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,a=It(vr,n),l=h.useRef(null),c=gt(t,l);return rk(),p.jsxs(p.Fragment,{children:[p.jsx(Lv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:p.jsx(_f,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Pf(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Qk,{titleId:a.titleId}),p.jsx(Zk,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Rf="DialogTitle",ry=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=It(Rf,n);return p.jsx(Xe.h2,{id:o.titleId,...r,ref:t})});ry.displayName=Rf;var oy="DialogDescription",iy=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=It(oy,n);return p.jsx(Xe.p,{id:o.descriptionId,...r,ref:t})});iy.displayName=oy;var sy="DialogClose",ay=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=It(sy,n);return p.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Ge(e.onClick,()=>o.onOpenChange(!1))})});ay.displayName=sy;function Pf(e){return e?"open":"closed"}var ly="DialogTitleWarning",[Jk,cy]=Rw(ly,{contentName:vr,titleName:Rf,docsSlug:"dialog"}),Qk=({titleId:e})=>{const t=cy(ly),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Xk="DialogDescriptionWarning",Zk=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cy(Xk).contentName}}.`;return h.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},nr=Jv,qk=Xv,rr=qv,or=ey,ir=ty,sr=ry,ar=iy,uy=ay;const e_=["top","right","bottom","left"],Fn=Math.min,ct=Math.max,Ca=Math.round,ps=Math.floor,Vt=e=>({x:e,y:e}),t_={left:"right",right:"left",bottom:"top",top:"bottom"},n_={start:"end",end:"start"};function cu(e,t,n){return ct(e,Fn(t,n))}function an(e,t){return typeof e=="function"?e(t):e}function ln(e){return e.split("-")[0]}function xo(e){return e.split("-")[1]}function Tf(e){return e==="x"?"y":"x"}function Nf(e){return e==="y"?"height":"width"}function Un(e){return["top","bottom"].includes(ln(e))?"y":"x"}function jf(e){return Tf(Un(e))}function r_(e,t,n){n===void 0&&(n=!1);const r=xo(e),o=jf(e),i=Nf(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Sa(s)),[s,Sa(s)]}function o_(e){const t=Sa(e);return[uu(e),t,uu(t)]}function uu(e){return e.replace(/start|end/g,t=>n_[t])}function i_(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function s_(e,t,n,r){const o=xo(e);let i=i_(ln(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(uu)))),i}function Sa(e){return e.replace(/left|right|bottom|top/g,t=>t_[t])}function a_(e){return{top:0,right:0,bottom:0,left:0,...e}}function fy(e){return typeof e!="number"?a_(e):{top:e,right:e,bottom:e,left:e}}function wa(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Yp(e,t,n){let{reference:r,floating:o}=e;const i=Un(t),s=jf(t),a=Nf(s),l=ln(t),c=i==="y",u=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-o.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(xo(t)){case"start":m[s]-=d*(n&&c?-1:1);break;case"end":m[s]+=d*(n&&c?-1:1);break}return m}const l_=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=Yp(c,r,l),d=r,m={},C=0;for(let y=0;y<a.length;y++){const{name:w,fn:g}=a[y],{x:v,y:x,data:k,reset:b}=await g({x:u,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});u=v??u,f=x??f,m={...m,[w]:{...m[w],...k}},b&&C<=50&&(C++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(c=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):b.rects),{x:u,y:f}=Yp(c,d,l)),y=-1)}return{x:u,y:f,placement:d,strategy:o,middlewareData:m}};async function ki(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:m=0}=an(t,e),C=fy(m),w=a[d?f==="floating"?"reference":"floating":f],g=wa(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},b=wa(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-b.top+C.top)/k.y,bottom:(b.bottom-g.bottom+C.bottom)/k.y,left:(g.left-b.left+C.left)/k.x,right:(b.right-g.right+C.right)/k.x}}const c_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=an(e,t)||{};if(c==null)return{};const f=fy(u),d={x:n,y:r},m=jf(o),C=Nf(m),y=await s.getDimensions(c),w=m==="y",g=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",k=i.reference[C]+i.reference[m]-d[m]-i.floating[C],b=d[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=S?S[x]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[x]||i.floating[C]);const N=k/2-b/2,P=E/2-y[C]/2-1,O=Fn(f[g],P),U=Fn(f[v],P),Y=O,F=E-y[C]-U,K=E/2-y[C]/2+N,ve=cu(Y,K,F),oe=!l.arrow&&xo(o)!=null&&K!==ve&&i.reference[C]/2-(K<Y?O:U)-y[C]/2<0,V=oe?K<Y?K-Y:K-F:0;return{[m]:d[m]+V,data:{[m]:ve,centerOffset:K-ve-V,...oe&&{alignmentOffset:V}},reset:oe}}}),u_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:y=!0,...w}=an(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=ln(o),v=Un(a),x=ln(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=d||(x||!y?[Sa(a)]:o_(a)),S=C!=="none";!d&&S&&b.push(...s_(a,y,C,k));const E=[a,...b],N=await ki(t,w),P=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(N[g]),f){const K=r_(o,s,k);P.push(N[K[0]],N[K[1]])}if(O=[...O,{placement:o,overflows:P}],!P.every(K=>K<=0)){var U,Y;const K=(((U=i.flip)==null?void 0:U.index)||0)+1,ve=E[K];if(ve)return{data:{index:K,overflows:O},reset:{placement:ve}};let oe=(Y=O.filter(V=>V.overflows[0]<=0).sort((V,j)=>V.overflows[1]-j.overflows[1])[0])==null?void 0:Y.placement;if(!oe)switch(m){case"bestFit":{var F;const V=(F=O.filter(j=>{if(S){const I=Un(j.placement);return I===v||I==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(I=>I>0).reduce((I,z)=>I+z,0)]).sort((j,I)=>j[1]-I[1])[0])==null?void 0:F[0];V&&(oe=V);break}case"initialPlacement":oe=a;break}if(o!==oe)return{reset:{placement:oe}}}return{}}}};function Jp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qp(e){return e_.some(t=>e[t]>=0)}const f_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=an(e,t);switch(r){case"referenceHidden":{const i=await ki(t,{...o,elementContext:"reference"}),s=Jp(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Qp(s)}}}case"escaped":{const i=await ki(t,{...o,altBoundary:!0}),s=Jp(i,n.floating);return{data:{escapedOffsets:s,escaped:Qp(s)}}}default:return{}}}}};async function d_(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=ln(n),a=xo(n),l=Un(n)==="y",c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,f=an(t,e);let{mainAxis:d,crossAxis:m,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof C=="number"&&(m=a==="end"?C*-1:C),l?{x:m*u,y:d*c}:{x:d*c,y:m*u}}const p_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await d_(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},h_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:g,y:v}=w;return{x:g,y:v}}},...l}=an(e,t),c={x:n,y:r},u=await ki(t,l),f=Un(ln(o)),d=Tf(f);let m=c[d],C=c[f];if(i){const w=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=m+u[w],x=m-u[g];m=cu(v,m,x)}if(s){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=C+u[w],x=C-u[g];C=cu(v,C,x)}const y=a.fn({...t,[d]:m,[f]:C});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[d]:i,[f]:s}}}}}},m_=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=an(e,t),u={x:n,y:r},f=Un(o),d=Tf(f);let m=u[d],C=u[f];const y=an(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=d==="y"?"height":"width",k=i.reference[d]-i.floating[x]+w.mainAxis,b=i.reference[d]+i.reference[x]-w.mainAxis;m<k?m=k:m>b&&(m=b)}if(c){var g,v;const x=d==="y"?"width":"height",k=["top","left"].includes(ln(o)),b=i.reference[f]-i.floating[x]+(k&&((g=s.offset)==null?void 0:g[f])||0)+(k?0:w.crossAxis),S=i.reference[f]+i.reference[x]+(k?0:((v=s.offset)==null?void 0:v[f])||0)-(k?w.crossAxis:0);C<b?C=b:C>S&&(C=S)}return{[d]:m,[f]:C}}}},g_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=an(e,t),u=await ki(t,c),f=ln(o),d=xo(o),m=Un(o)==="y",{width:C,height:y}=i.floating;let w,g;f==="top"||f==="bottom"?(w=f,g=d===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,w=d==="end"?"top":"bottom");const v=y-u.top-u.bottom,x=C-u.left-u.right,k=Fn(y-u[w],v),b=Fn(C-u[g],x),S=!t.middlewareData.shift;let E=k,N=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),S&&!d){const O=ct(u.left,0),U=ct(u.right,0),Y=ct(u.top,0),F=ct(u.bottom,0);m?N=C-2*(O!==0||U!==0?O+U:ct(u.left,u.right)):E=y-2*(Y!==0||F!==0?Y+F:ct(u.top,u.bottom))}await l({...t,availableWidth:N,availableHeight:E});const P=await s.getDimensions(a.floating);return C!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Ya(){return typeof window<"u"}function Co(e){return dy(e)?(e.nodeName||"").toLowerCase():"#document"}function dt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kt(e){var t;return(t=(dy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dy(e){return Ya()?e instanceof Node||e instanceof dt(e).Node:!1}function Mt(e){return Ya()?e instanceof Element||e instanceof dt(e).Element:!1}function Gt(e){return Ya()?e instanceof HTMLElement||e instanceof dt(e).HTMLElement:!1}function Xp(e){return!Ya()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dt(e).ShadowRoot}function Li(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Lt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function v_(e){return["table","td","th"].includes(Co(e))}function Ja(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Df(e){const t=Of(),n=Mt(e)?Lt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function y_(e){let t=Bn(e);for(;Gt(t)&&!po(t);){if(Df(t))return t;if(Ja(t))return null;t=Bn(t)}return null}function Of(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function po(e){return["html","body","#document"].includes(Co(e))}function Lt(e){return dt(e).getComputedStyle(e)}function Qa(e){return Mt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bn(e){if(Co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xp(e)&&e.host||Kt(e);return Xp(t)?t.host:t}function py(e){const t=Bn(e);return po(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gt(t)&&Li(t)?t:py(t)}function _i(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=py(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=dt(o);if(i){const a=fu(s);return t.concat(s,s.visualViewport||[],Li(o)?o:[],a&&n?_i(a):[])}return t.concat(o,_i(o,[],n))}function fu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hy(e){const t=Lt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Gt(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Ca(n)!==i||Ca(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Mf(e){return Mt(e)?e:e.contextElement}function no(e){const t=Mf(e);if(!Gt(t))return Vt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=hy(t);let s=(i?Ca(n.width):n.width)/r,a=(i?Ca(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const x_=Vt(0);function my(e){const t=dt(e);return!Of()||!t.visualViewport?x_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function C_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dt(e)?!1:t}function yr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Mf(e);let s=Vt(1);t&&(r?Mt(r)&&(s=no(r)):s=no(e));const a=C_(i,n,r)?my(i):Vt(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(i){const d=dt(i),m=r&&Mt(r)?dt(r):r;let C=d,y=fu(C);for(;y&&r&&m!==C;){const w=no(y),g=y.getBoundingClientRect(),v=Lt(y),x=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*w.x,k=g.top+(y.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=x,c+=k,C=dt(y),y=fu(C)}}return wa({width:u,height:f,x:l,y:c})}function Lf(e,t){const n=Qa(e).scrollLeft;return t?t.left+n:yr(Kt(e)).left+n}function gy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Lf(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function S_(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=Kt(r),a=t?Ja(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Vt(1);const u=Vt(0),f=Gt(r);if((f||!f&&!i)&&((Co(r)!=="body"||Li(s))&&(l=Qa(r)),Gt(r))){const m=yr(r);c=no(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const d=s&&!f&&!i?gy(s,l,!0):Vt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function w_(e){return Array.from(e.getClientRects())}function k_(e){const t=Kt(e),n=Qa(e),r=e.ownerDocument.body,o=ct(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ct(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Lf(e);const a=-n.scrollTop;return Lt(r).direction==="rtl"&&(s+=ct(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function __(e,t){const n=dt(e),r=Kt(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=Of();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function E_(e,t){const n=yr(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Gt(e)?no(e):Vt(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function Zp(e,t,n){let r;if(t==="viewport")r=__(e,n);else if(t==="document")r=k_(Kt(e));else if(Mt(t))r=E_(t,n);else{const o=my(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return wa(r)}function vy(e,t){const n=Bn(e);return n===t||!Mt(n)||po(n)?!1:Lt(n).position==="fixed"||vy(n,t)}function b_(e,t){const n=t.get(e);if(n)return n;let r=_i(e,[],!1).filter(a=>Mt(a)&&Co(a)!=="body"),o=null;const i=Lt(e).position==="fixed";let s=i?Bn(e):e;for(;Mt(s)&&!po(s);){const a=Lt(s),l=Df(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Li(s)&&!l&&vy(e,s))?r=r.filter(u=>u!==s):o=a,s=Bn(s)}return t.set(e,r),r}function R_(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Ja(t)?[]:b_(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=Zp(t,u,o);return c.top=ct(f.top,c.top),c.right=Fn(f.right,c.right),c.bottom=Fn(f.bottom,c.bottom),c.left=ct(f.left,c.left),c},Zp(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function P_(e){const{width:t,height:n}=hy(e);return{width:t,height:n}}function T_(e,t,n){const r=Gt(t),o=Kt(t),i=n==="fixed",s=yr(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Vt(0);if(r||!r&&!i)if((Co(t)!=="body"||Li(o))&&(a=Qa(t)),r){const d=yr(t,!0,i,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else o&&(l.x=Lf(o));const c=o&&!r&&!i?gy(o,a):Vt(0),u=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:u,y:f,width:s.width,height:s.height}}function Jl(e){return Lt(e).position==="static"}function qp(e,t){if(!Gt(e)||Lt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Kt(e)===n&&(n=n.ownerDocument.body),n}function yy(e,t){const n=dt(e);if(Ja(e))return n;if(!Gt(e)){let o=Bn(e);for(;o&&!po(o);){if(Mt(o)&&!Jl(o))return o;o=Bn(o)}return n}let r=qp(e,t);for(;r&&v_(r)&&Jl(r);)r=qp(r,t);return r&&po(r)&&Jl(r)&&!Df(r)?n:r||y_(e)||n}const N_=async function(e){const t=this.getOffsetParent||yy,n=this.getDimensions,r=await n(e.floating);return{reference:T_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function j_(e){return Lt(e).direction==="rtl"}const D_={convertOffsetParentRelativeRectToViewportRelativeRect:S_,getDocumentElement:Kt,getClippingRect:R_,getOffsetParent:yy,getElementRects:N_,getClientRects:w_,getDimensions:P_,getScale:no,isElement:Mt,isRTL:j_};function xy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function O_(e,t){let n=null,r;const o=Kt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:f,width:d,height:m}=c;if(a||t(),!d||!m)return;const C=ps(f),y=ps(o.clientWidth-(u+d)),w=ps(o.clientHeight-(f+m)),g=ps(u),x={rootMargin:-C+"px "+-y+"px "+-w+"px "+-g+"px",threshold:ct(0,Fn(1,l))||1};let k=!0;function b(S){const E=S[0].intersectionRatio;if(E!==l){if(!k)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!xy(c,e.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(b,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,x)}n.observe(e)}return s(!0),i}function M_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Mf(e),u=o||i?[...c?_i(c):[],..._i(t)]:[];u.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const f=c&&a?O_(c,n):null;let d=-1,m=null;s&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let C,y=l?yr(e):null;l&&w();function w(){const g=yr(e);y&&!xy(y,g)&&n(),y=g,C=requestAnimationFrame(w)}return n(),()=>{var g;u.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(C)}}const L_=p_,I_=h_,A_=u_,$_=g_,z_=f_,eh=c_,F_=m_,U_=(e,t,n)=>{const r=new Map,o={platform:D_,...n},i={...o.platform,_c:r};return l_(e,t,{...o,platform:i})};var Fs=typeof document<"u"?h.useLayoutEffect:h.useEffect;function ka(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ka(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ka(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Cy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function th(e,t){const n=Cy(e);return Math.round(t*n)/n}function Ql(e){const t=h.useRef(e);return Fs(()=>{t.current=e}),t}function B_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,m]=h.useState(r);ka(d,r)||m(r);const[C,y]=h.useState(null),[w,g]=h.useState(null),v=h.useCallback(j=>{j!==S.current&&(S.current=j,y(j))},[]),x=h.useCallback(j=>{j!==E.current&&(E.current=j,g(j))},[]),k=i||C,b=s||w,S=h.useRef(null),E=h.useRef(null),N=h.useRef(u),P=l!=null,O=Ql(l),U=Ql(o),Y=Ql(c),F=h.useCallback(()=>{if(!S.current||!E.current)return;const j={placement:t,strategy:n,middleware:d};U.current&&(j.platform=U.current),U_(S.current,E.current,j).then(I=>{const z={...I,isPositioned:Y.current!==!1};K.current&&!ka(N.current,z)&&(N.current=z,Ni.flushSync(()=>{f(z)}))})},[d,t,n,U,Y]);Fs(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const K=h.useRef(!1);Fs(()=>(K.current=!0,()=>{K.current=!1}),[]),Fs(()=>{if(k&&(S.current=k),b&&(E.current=b),k&&b){if(O.current)return O.current(k,b,F);F()}},[k,b,F,O,P]);const ve=h.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:x}),[v,x]),oe=h.useMemo(()=>({reference:k,floating:b}),[k,b]),V=h.useMemo(()=>{const j={position:n,left:0,top:0};if(!oe.floating)return j;const I=th(oe.floating,u.x),z=th(oe.floating,u.y);return a?{...j,transform:"translate("+I+"px, "+z+"px)",...Cy(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:z}},[n,a,oe.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:F,refs:ve,elements:oe,floatingStyles:V}),[u,F,ve,oe,V])}const H_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eh({element:r.current,padding:o}).fn(n):{}:r?eh({element:r,padding:o}).fn(n):{}}}},W_=(e,t)=>({...L_(e),options:[e,t]}),V_=(e,t)=>({...I_(e),options:[e,t]}),G_=(e,t)=>({...F_(e),options:[e,t]}),K_=(e,t)=>({...A_(e),options:[e,t]}),Y_=(e,t)=>({...$_(e),options:[e,t]}),J_=(e,t)=>({...z_(e),options:[e,t]}),Q_=(e,t)=>({...H_(e),options:[e,t]});var X_="Arrow",Sy=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return p.jsx(Xe.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sy.displayName=X_;var Z_=Sy;function q_(e){const[t,n]=h.useState(void 0);return gr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var If="Popper",[wy,ky]=Va(If),[eE,_y]=wy(If),Ey=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return p.jsx(eE,{scope:t,anchor:r,onAnchorChange:o,children:n})};Ey.displayName=If;var by="PopperAnchor",Ry=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=_y(by,n),s=h.useRef(null),a=gt(t,s);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(Xe.div,{...o,ref:a})});Ry.displayName=by;var Af="PopperContent",[tE,nE]=wy(Af),Py=h.forwardRef((e,t)=>{var Et,Ii,Ai,$i,$e,dn;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:C,...y}=e,w=_y(Af,n),[g,v]=h.useState(null),x=gt(t,pn=>v(pn)),[k,b]=h.useState(null),S=q_(k),E=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,P=r+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(c)?c:[c],Y=U.length>0,F={padding:O,boundary:U.filter(oE),altBoundary:Y},{refs:K,floatingStyles:ve,placement:oe,isPositioned:V,middlewareData:j}=B_({strategy:"fixed",placement:P,whileElementsMounted:(...pn)=>M_(...pn,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[W_({mainAxis:o+N,alignmentAxis:s}),l&&V_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?G_():void 0,...F}),l&&K_({...F}),Y_({...F,apply:({elements:pn,rects:zi,availableWidth:Yt,availableHeight:nl})=>{const{width:rl,height:ol}=zi.reference,Er=pn.floating.style;Er.setProperty("--radix-popper-available-width",`${Yt}px`),Er.setProperty("--radix-popper-available-height",`${nl}px`),Er.setProperty("--radix-popper-anchor-width",`${rl}px`),Er.setProperty("--radix-popper-anchor-height",`${ol}px`)}}),k&&Q_({element:k,padding:a}),iE({arrowWidth:E,arrowHeight:N}),d&&J_({strategy:"referenceHidden",...F})]}),[I,z]=jy(oe),X=zn(C);gr(()=>{V&&(X==null||X())},[V,X]);const se=(Et=j.arrow)==null?void 0:Et.x,vt=(Ii=j.arrow)==null?void 0:Ii.y,Ee=((Ai=j.arrow)==null?void 0:Ai.centerOffset)!==0,[it,Oe]=h.useState();return gr(()=>{g&&Oe(window.getComputedStyle(g).zIndex)},[g]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:V?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[($i=j.transformOrigin)==null?void 0:$i.x,($e=j.transformOrigin)==null?void 0:$e.y].join(" "),...((dn=j.hide)==null?void 0:dn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(tE,{scope:n,placedSide:I,onArrowChange:b,arrowX:se,arrowY:vt,shouldHideArrow:Ee,children:p.jsx(Xe.div,{"data-side":I,"data-align":z,...y,ref:x,style:{...y.style,animation:V?void 0:"none"}})})})});Py.displayName=Af;var Ty="PopperArrow",rE={top:"bottom",right:"left",bottom:"top",left:"right"},Ny=h.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=nE(Ty,r),s=rE[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(Z_,{...o,ref:n,style:{...o.style,display:"block"}})})});Ny.displayName=Ty;function oE(e){return e!==null}var iE=e=>({name:"transformOrigin",options:e,fn(t){var w,g,v;const{placement:n,rects:r,middlewareData:o}=t,s=((w=o.arrow)==null?void 0:w.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,u]=jy(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((g=o.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=o.arrow)==null?void 0:v.y)??0)+l/2;let C="",y="";return c==="bottom"?(C=s?f:`${d}px`,y=`${-l}px`):c==="top"?(C=s?f:`${d}px`,y=`${r.floating.height+l}px`):c==="right"?(C=`${-l}px`,y=s?f:`${m}px`):c==="left"&&(C=`${r.floating.width+l}px`,y=s?f:`${m}px`),{data:{x:C,y}}}});function jy(e){const[t,n="center"]=e.split("-");return[t,n]}var sE=Ey,aE=Ry,lE=Py,cE=Ny,uE="VisuallyHidden",Dy=h.forwardRef((e,t)=>p.jsx(Xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Dy.displayName=uE;var fE=Dy,[Xa,d2]=Va("Tooltip",[ky]),Za=ky(),Oy="TooltipProvider",dE=700,du="tooltip.open",[pE,$f]=Xa(Oy),My=e=>{const{__scopeTooltip:t,delayDuration:n=dE,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[s,a]=h.useState(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),p.jsx(pE,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:i})};My.displayName=Oy;var qa="Tooltip",[hE,el]=Xa(qa),Ly=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:a}=e,l=$f(qa,e.__scopeTooltip),c=Za(t),[u,f]=h.useState(null),d=As(),m=h.useRef(0),C=s??l.disableHoverableContent,y=a??l.delayDuration,w=h.useRef(!1),[g=!1,v]=Dv({prop:r,defaultProp:o,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(du))):l.onClose(),i==null||i(E)}}),x=h.useMemo(()=>g?w.current?"delayed-open":"instant-open":"closed",[g]),k=h.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,v(!0)},[v]),b=h.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),S=h.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,v(!0),m.current=0},y)},[y,v]);return h.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),p.jsx(sE,{...c,children:p.jsx(hE,{scope:t,contentId:d,open:g,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{l.isOpenDelayed?S():k()},[l.isOpenDelayed,S,k]),onTriggerLeave:h.useCallback(()=>{C?b():(window.clearTimeout(m.current),m.current=0)},[b,C]),onOpen:k,onClose:b,disableHoverableContent:C,children:n})})};Ly.displayName=qa;var pu="TooltipTrigger",Iy=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=el(pu,n),i=$f(pu,n),s=Za(n),a=h.useRef(null),l=gt(t,a,o.onTriggerChange),c=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(aE,{asChild:!0,...s,children:p.jsx(Xe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Ge(e.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ge(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:Ge(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ge(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:Ge(e.onBlur,o.onClose),onClick:Ge(e.onClick,o.onClose)})})});Iy.displayName=pu;var mE="TooltipPortal",[p2,gE]=Xa(mE,{forceMount:void 0}),ho="TooltipContent",Ay=h.forwardRef((e,t)=>{const n=gE(ho,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,s=el(ho,e.__scopeTooltip);return p.jsx(Mi,{present:r||s.open,children:s.disableHoverableContent?p.jsx($y,{side:o,...i,ref:t}):p.jsx(vE,{side:o,...i,ref:t})})}),vE=h.forwardRef((e,t)=>{const n=el(ho,e.__scopeTooltip),r=$f(ho,e.__scopeTooltip),o=h.useRef(null),i=gt(t,o),[s,a]=h.useState(null),{trigger:l,onClose:c}=n,u=o.current,{onPointerInTransitChange:f}=r,d=h.useCallback(()=>{a(null),f(!1)},[f]),m=h.useCallback((C,y)=>{const w=C.currentTarget,g={x:C.clientX,y:C.clientY},v=SE(g,w.getBoundingClientRect()),x=wE(g,v),k=kE(y.getBoundingClientRect()),b=EE([...x,...k]);a(b),f(!0)},[f]);return h.useEffect(()=>()=>d(),[d]),h.useEffect(()=>{if(l&&u){const C=w=>m(w,u),y=w=>m(w,l);return l.addEventListener("pointerleave",C),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",C),u.removeEventListener("pointerleave",y)}}},[l,u,m,d]),h.useEffect(()=>{if(s){const C=y=>{const w=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),x=!_E(g,s);v?d():x&&(d(),c())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[l,u,s,c,d]),p.jsx($y,{...e,ref:i})}),[yE,xE]=Xa(qa,{isInside:!1}),$y=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=e,l=el(ho,n),c=Za(n),{onClose:u}=l;return h.useEffect(()=>(document.addEventListener(du,u),()=>document.removeEventListener(du,u)),[u]),h.useEffect(()=>{if(l.trigger){const f=d=>{const m=d.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),p.jsx(_f,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:p.jsxs(lE,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(kf,{children:r}),p.jsx(yE,{scope:n,isInside:!0,children:p.jsx(fE,{id:l.contentId,role:"tooltip",children:o||r})})]})})});Ay.displayName=ho;var zy="TooltipArrow",CE=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Za(n);return xE(zy,n).isInside?null:p.jsx(cE,{...o,...r,ref:t})});CE.displayName=zy;function SE(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wE(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function kE(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function _E(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i].x,l=t[i].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function EE(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),bE(t)}function bE(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Fy=My,Xl=Ly,Zl=Iy,ql=Ay,RE="Separator",nh="horizontal",PE=["horizontal","vertical"],Uy=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=nh,...o}=e,i=TE(r)?r:nh,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(Xe.div,{"data-orientation":i,...a,...o,ref:t})});Uy.displayName=RE;function TE(e){return PE.includes(e)}var Us=Uy;const tl=({src:e,alt:t,size:n="md",className:r=""})=>{const i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"}[n];return e?p.jsx("img",{src:e,alt:t,className:`${i} rounded-full object-cover ${r}`}):p.jsx("div",{className:`${i} rounded-full bg-blue-500 flex items-center justify-center text-white ${r}`,children:t.charAt(0).toUpperCase()})};var NE=h.createContext(void 0),jE=e=>{const{dir:t,children:n}=e;return p.jsx(NE.Provider,{value:t,children:n})},DE=jE,By="AlertDialog",[OE,h2]=Va(By,[Yv]),fn=Yv(),Hy=e=>{const{__scopeAlertDialog:t,...n}=e,r=fn(t);return p.jsx(nr,{...r,...n,modal:!0})};Hy.displayName=By;var ME="AlertDialogTrigger",Wy=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=fn(n);return p.jsx(qk,{...o,...r,ref:t})});Wy.displayName=ME;var LE="AlertDialogPortal",Vy=e=>{const{__scopeAlertDialog:t,...n}=e,r=fn(t);return p.jsx(rr,{...r,...n})};Vy.displayName=LE;var IE="AlertDialogOverlay",Gy=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=fn(n);return p.jsx(or,{...o,...r,ref:t})});Gy.displayName=IE;var ro="AlertDialogContent",[AE,$E]=OE(ro),Ky=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,i=fn(n),s=h.useRef(null),a=gt(t,s),l=h.useRef(null);return p.jsx(Jk,{contentName:ro,titleName:Yy,docsSlug:"alert-dialog",children:p.jsx(AE,{scope:n,cancelRef:l,children:p.jsxs(ir,{role:"alertdialog",...i,...o,ref:a,onOpenAutoFocus:Ge(o.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(kf,{children:r}),p.jsx(FE,{contentRef:s})]})})})});Ky.displayName=ro;var Yy="AlertDialogTitle",Jy=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=fn(n);return p.jsx(sr,{...o,...r,ref:t})});Jy.displayName=Yy;var Qy="AlertDialogDescription",Xy=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=fn(n);return p.jsx(ar,{...o,...r,ref:t})});Xy.displayName=Qy;var zE="AlertDialogAction",Zy=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=fn(n);return p.jsx(uy,{...o,...r,ref:t})});Zy.displayName=zE;var qy="AlertDialogCancel",e0=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=$E(qy,n),i=fn(n),s=gt(t,o);return p.jsx(uy,{...i,...r,ref:s})});e0.displayName=qy;var FE=({contentRef:e})=>{const t=`\`${ro}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ro}\` by passing a \`${Qy}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ro}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},UE=Hy,BE=Wy,HE=Vy,WE=Gy,VE=Ky,GE=Zy,KE=e0,YE=Jy,JE=Xy,t0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(i=o(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var a in i)t.call(i,a)&&i[a]&&(s=o(s,a));return s}function o(i,s){return s?i?i+" "+s:i+s:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(t0);var QE=t0.exports;const XE=_a(QE);function ZE(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const lt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},Or=()=>{},hu=h.createContext(void 0),n0=h.forwardRef((e,t)=>h.useContext(hu)===void 0?h.createElement(Fy,{delayDuration:200},h.createElement(DE,{dir:"ltr"},h.createElement(r0,{...e,ref:t}))):h.createElement(zf,{...e,ref:t}));n0.displayName="Theme";const r0=h.forwardRef((e,t)=>{const{appearance:n=lt.appearance.default,accentColor:r=lt.accentColor.default,grayColor:o=lt.grayColor.default,panelBackground:i=lt.panelBackground.default,radius:s=lt.radius.default,scaling:a=lt.scaling.default,hasBackground:l=lt.hasBackground.default,...c}=e,[u,f]=h.useState(n);h.useEffect(()=>f(n),[n]);const[d,m]=h.useState(r);h.useEffect(()=>m(r),[r]);const[C,y]=h.useState(o);h.useEffect(()=>y(o),[o]);const[w,g]=h.useState(i);h.useEffect(()=>g(i),[i]);const[v,x]=h.useState(s);h.useEffect(()=>x(s),[s]);const[k,b]=h.useState(a);return h.useEffect(()=>b(a),[a]),h.createElement(zf,{...c,ref:t,isRoot:!0,hasBackground:l,appearance:u,accentColor:d,grayColor:C,panelBackground:w,radius:v,scaling:k,onAppearanceChange:f,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:x,onScalingChange:b})});r0.displayName="ThemeRoot";const zf=h.forwardRef((e,t)=>{const n=h.useContext(hu),{asChild:r,isRoot:o,hasBackground:i,appearance:s=(n==null?void 0:n.appearance)??lt.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??lt.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??lt.grayColor.default,panelBackground:c=(n==null?void 0:n.panelBackground)??lt.panelBackground.default,radius:u=(n==null?void 0:n.radius)??lt.radius.default,scaling:f=(n==null?void 0:n.scaling)??lt.scaling.default,onAppearanceChange:d=Or,onAccentColorChange:m=Or,onGrayColorChange:C=Or,onPanelBackgroundChange:y=Or,onRadiusChange:w=Or,onScalingChange:g=Or,...v}=e,x=r?Lw:"div",k=l==="auto"?ZE(a):l,b=e.appearance==="light"||e.appearance==="dark",S=i===void 0?o||b:i;return h.createElement(hu.Provider,{value:h.useMemo(()=>({appearance:s,accentColor:a,grayColor:l,resolvedGrayColor:k,panelBackground:c,radius:u,scaling:f,onAppearanceChange:d,onAccentColorChange:m,onGrayColorChange:C,onPanelBackgroundChange:y,onRadiusChange:w,onScalingChange:g}),[s,a,l,k,c,u,f,d,m,C,y,w,g])},h.createElement(x,{"data-is-root-theme":o?"true":"false","data-accent-color":a,"data-gray-color":k,"data-has-background":S?"true":"false","data-panel-background":c,"data-radius":u,"data-scaling":f,ref:t,...v,className:XE("radix-themes",{light:s==="light",dark:s==="dark"},v.className)}))});zf.displayName="ThemeImpl";const qE=({count:e,className:t=""})=>e?p.jsx(n0,{children:p.jsx("div",{className:`absolute -top-1 -right-1 bg-red-500 text-white 
          rounded-full min-w-[20px] h-5 flex items-center justify-center 
          text-xs px-1.5 ${t}`,style:{boxShadow:"0 0 0 2px white",transform:"scale(0.9)"},children:e>99?"99+":e})}):null,e2=({chat:e,isActive:t,onClick:n,unreadCount:r,isConnecting:o=!1})=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`flex items-center p-4 cursor-pointer transition-colors
          ${t?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"}`,onClick:n,children:[p.jsxs("div",{className:"relative",children:[p.jsx(tl,{alt:e.name,size:"md"}),r&&r>0&&p.jsx(qE,{count:r}),o&&t&&p.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white",children:p.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75"})})]}),p.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[e.name,o&&t&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",children:"(连接中...)"})]}),e.lastMessageTime&&p.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.lastMessageTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.lastMessage&&p.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.lastMessage})]})]}),p.jsx(Us,{className:"h-[1px] bg-gray-100"})]}),rh="animate-[overlay-show_150ms_cubic-bezier(0.16,1,0.3,1)]",oh="animate-[content-show_150ms_cubic-bezier(0.16,1,0.3,1)]",t2=()=>{const e=te(P=>P.chats),t=te(P=>P.currentChat),n=te(P=>P.setCurrentChat),r=te(P=>P.createGroupChat),o=te(P=>P.joinGroupChat),i=te(P=>P.userName),s=te(P=>P.setUserName),a=te(P=>P.isConnecting),[l,c]=h.useState(!1),[u,f]=h.useState(!1),[d,m]=h.useState(""),[C,y]=h.useState(""),[w,g]=h.useState(!1);h.useEffect(()=>{i&&m(i)},[i]),h.useEffect(()=>{const P=()=>{f(!1),y(""),g(!1)},O=()=>{g(!1)};return ae.on("joinedGroup",P),ae.on("error",O),()=>{ae.off("joinedGroup",P),ae.off("error",O)}},[]);const v=()=>{if(!i){c(!0);return}r==null||r()},x=()=>{d.trim()?(s==null||s(d),c(!1)):fe.error("请输入有效的用户名")},k=P=>{a||n==null||n(P)},b=()=>{if(!C.trim()){fe.error("请输入有效的群聊ID或链接");return}if(!i){c(!0);return}g(!0),fe.loading("正在连接到群聊...",{id:"connecting",duration:2e4});const P=yf(C),O=e.find(U=>U.isGroup&&U.roomId===P);if(O){fe.dismiss("connecting"),fe.success("已经加入过该群聊，直接切换"),n==null||n(O),f(!1),y(""),g(!1);return}o==null||o(P)},S=()=>{E()},E=()=>{try{if(C.startsWith("http")){const O=new URL(C).searchParams.get("roomId");O?(y(O),fe.success("已从链接中提取群聊ID")):fe.error("无法从链接中提取群聊ID")}else b()}catch(P){console.error("处理URL时出错:",P),fe.error("无效的链接格式")}},N=P=>{P.key==="Enter"&&!w&&b()};return p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[p.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"聊天"}),p.jsx(Fy,{children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(Xl,{children:[p.jsx(Zl,{asChild:!0,children:p.jsx("button",{onClick:v,disabled:a,className:`p-2 text-gray-500 hover:bg-gray-100 rounded-full
                    ${a?"opacity-50 cursor-not-allowed":""}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),p.jsx(ql,{className:"bg-gray-800 text-white px-3 py-1.5 rounded text-sm animate-fadeIn z-50",sideOffset:5,children:"创建群聊"})]}),p.jsxs(Xl,{children:[p.jsx(Zl,{asChild:!0,children:p.jsx("button",{onClick:()=>c(!0),disabled:a,className:`p-2 text-gray-500 hover:bg-gray-100 rounded-full
                    ${a?"opacity-50 cursor-not-allowed":""}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),p.jsx(ql,{className:"bg-gray-800 text-white px-3 py-1.5 rounded text-sm animate-fadeIn z-50",sideOffset:5,children:i?"修改用户名":"设置用户名"})]}),p.jsxs(Xl,{children:[p.jsx(Zl,{asChild:!0,children:p.jsx("button",{onClick:()=>f(!0),disabled:a,className:`p-2 text-gray-500 hover:bg-gray-100 rounded-full
                    ${a?"opacity-50 cursor-not-allowed":""}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),p.jsx(ql,{className:"bg-gray-800 text-white px-3 py-1.5 rounded text-sm animate-fadeIn z-50",sideOffset:5,children:"加入群聊"})]})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?p.jsxs("div",{className:"p-4 text-center text-gray-500",children:[p.jsx("p",{children:"暂无聊天"}),p.jsx("p",{className:"text-sm mt-1",children:"创建或加入一个群聊开始对话"})]}):p.jsx("div",{children:e.map(P=>p.jsx(e2,{chat:P,isActive:(t==null?void 0:t.id)===P.id,onClick:()=>k(P),isConnecting:a&&(t==null?void 0:t.id)===P.id},P.id))})}),p.jsx("div",{className:"p-4 border-t border-gray-200",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:i?i.charAt(0).toUpperCase():"?"}),p.jsxs("div",{className:"ml-3",children:[p.jsx("p",{className:"font-medium",children:i||"未设置用户名"}),p.jsx("p",{className:"text-xs text-gray-500",children:a?p.jsxs("span",{className:"flex items-center",children:[p.jsxs("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"连接中..."]}):"点击右上角图标修改用户名"})]})]})}),p.jsx(nr,{open:l,onOpenChange:c,children:p.jsxs(rr,{children:[p.jsx(or,{className:`fixed inset-0 bg-black/30 ${rh}`}),p.jsxs(ir,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
              w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none
              ${oh}`,onEscapeKeyDown:P=>{i||P.preventDefault()},onPointerDownOutside:P=>{i||P.preventDefault()},children:[p.jsx(sr,{className:"text-xl font-semibold mb-4",children:i?"修改用户名":"设置您的用户名"}),p.jsx(ar,{className:"text-gray-500 mb-4",children:i?"请输入您的新用户名：":"在开始使用前，请先设置您的用户名："}),p.jsx("input",{type:"text",value:d,onChange:P=>m(P.target.value),placeholder:"请输入您的用户名",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[i&&p.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"取消"}),p.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"确定"})]})]})]})}),p.jsx(nr,{open:u,onOpenChange:f,children:p.jsxs(rr,{children:[p.jsx(or,{className:`fixed inset-0 bg-black/30 ${rh}`}),p.jsxs(ir,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
              w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none
              ${oh}`,children:[p.jsx(sr,{className:"text-xl font-semibold mb-4",children:"加入群聊"}),p.jsx(ar,{className:"text-gray-500 mb-4",children:"请输入群聊ID或邀请链接："}),p.jsxs("div",{className:"mb-4",children:[p.jsx("input",{type:"text",value:C,onChange:P=>y(P.target.value),onKeyDown:N,placeholder:"输入群聊ID或粘贴邀请链接",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-2 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,disabled:w}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("button",{onClick:S,disabled:w||!C.trim(),className:`text-sm text-blue-500 hover:text-blue-600
                    ${w||!C.trim()?"opacity-50 cursor-not-allowed":""}`,children:"从链接提取ID"}),p.jsx("div",{className:"text-xs text-gray-500",children:"例如: abc123 或 https://example.com?roomId=abc123"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",disabled:w,children:"取消"}),p.jsx("button",{onClick:b,disabled:w||!C.trim(),className:`px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center
                  ${w||!C.trim()?"opacity-50 cursor-not-allowed":""}`,children:w?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"w-4 h-4 mr-1 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"加入中"]}):"加入"})]})]})]})})]})},n2=({children:e})=>{const t=te(n=>n.isConnecting);return p.jsxs("div",{className:"flex h-screen bg-gray-100 relative",children:[t&&p.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-100 overflow-hidden z-50",children:p.jsx("div",{className:"h-full bg-blue-500 animate-pulse"})}),p.jsx("div",{className:"w-80 bg-white border-r border-gray-200",children:p.jsx(t2,{})}),p.jsx("div",{className:"flex-1 flex flex-col",children:e})]})},r2="animate-[overlay-show_150ms_cubic-bezier(0.16,1,0.3,1)]",o2="animate-[content-show_150ms_cubic-bezier(0.16,1,0.3,1)]",i2=()=>{const e=te(m=>m.currentChat),t=te(m=>m.copyShareLink),n=te(m=>m.leaveCurrentChat),r=te(m=>m.isConnecting),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,c]=h.useState(!1);if(h.useEffect(()=>{const m=()=>{c(!1),fe.success("邀请链接已复制")};return ae.on("linkCopied",m),()=>{ae.off("linkCopied",m)}},[]),!e||!e.isGroup)return null;const u=e,f=()=>{if(!u.shareLink){fe.error("无法获取分享链接");return}c(!0);try{t==null||t();const m=setTimeout(()=>{c(!1),fe.error("复制链接失败，请手动复制")},3e3);return()=>clearTimeout(m)}catch(m){console.error("复制链接失败:",m),c(!1)}},d=()=>{n==null||n(),a(!1)};return p.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(tl,{alt:u.name,size:"md"}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h2",{className:"font-medium",children:u.name}),p.jsxs("p",{className:"text-xs text-gray-500",children:[u.users.length," 位成员",r&&p.jsxs("span",{className:"ml-2 inline-flex items-center text-blue-500",children:[p.jsxs("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"连接中"]})]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",disabled:r||l,onClick:f,title:"复制邀请链接",children:l?p.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),p.jsxs(UE,{open:s,onOpenChange:a,children:[p.jsx(BE,{asChild:!0,children:p.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-full",disabled:r,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})}),p.jsxs(HE,{children:[p.jsx(WE,{className:`fixed inset-0 bg-black/30 ${r2}`}),p.jsxs(VE,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
              w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none ${o2}`,children:[p.jsx(YE,{className:"text-xl font-semibold mb-2",children:"离开群聊"}),p.jsx(JE,{className:"text-gray-500 mb-6",children:"确定要离开当前群聊吗？离开后将无法接收新消息，除非重新加入。"}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(KE,{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"取消"}),p.jsx(GE,{onClick:d,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"离开"})]})]})]})]})]})]})},s2=()=>{const e=te(i=>i.currentChat),t=te(i=>i.userId),n=te(i=>i.isConnecting);if(!e||!e.isGroup)return null;const r=e,{users:o}=r;return p.jsxs("div",{className:"p-4",children:[p.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3 flex items-center justify-between",children:[p.jsxs("span",{children:["群聊成员 (",o.length,"/8)"]}),n&&p.jsxs("span",{className:"text-blue-500 text-xs flex items-center",children:[p.jsxs("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"同步中"]})]}),o.length===0?p.jsx("div",{className:"py-8 text-center text-gray-400 text-sm",children:n?p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("svg",{className:"w-8 h-8 mb-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("p",{children:"正在加载成员列表..."})]}):p.jsx("p",{children:"暂无成员"})}):p.jsx("div",{className:"space-y-3",children:o.map(i=>p.jsxs("div",{className:"flex items-center",children:[p.jsx(tl,{alt:i.name,size:"sm"}),p.jsxs("span",{className:"ml-2 text-sm",children:[i.name," ",i.id===t&&"(我)"]}),r.isHost&&i.id===r.roomId&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",children:"(主持人)"})]},i.id))})]})},ih=()=>{const e=te(u=>u.sendMessage),t=te(u=>u.isConnecting),n=te(u=>u.currentChat),[r,o]=h.useState(""),[i,s]=h.useState(!1),a=h.useRef(null);h.useEffect(()=>{a.current&&!t&&!i&&a.current.focus()},[t,i]),h.useEffect(()=>{a.current&&n&&setTimeout(()=>{var u;(u=a.current)==null||u.focus()},100)},[n]);const l=async u=>{if(u.preventDefault(),r.trim()&&e&&!t){s(!0);try{e(r),o("")}catch(f){console.error("发送消息失败:",f),fe.error("发送消息失败，请重试")}finally{s(!1),setTimeout(()=>{a.current&&a.current.focus()},0)}}},c=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),r.trim()&&!t&&!i&&l(u))};return p.jsx("form",{onSubmit:l,className:"p-4 bg-white border-t border-gray-200",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{ref:a,type:"text",placeholder:t?"正在连接中...":"输入消息...",value:r,onChange:u=>o(u.target.value),onKeyDown:c,className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t||i,autoFocus:!0}),p.jsx("button",{type:"submit",disabled:t||i||!r.trim(),className:`px-4 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-w-[80px] flex items-center justify-center
            ${t||i||!r.trim()?"opacity-50 cursor-not-allowed":""}`,children:i?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"w-4 h-4 mr-1 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"发送中"]}):"发送"})]})})},a2=({message:e})=>{const t=te(c=>c.userId),n=te(c=>c.currentChat),r=e.sender===t,o=e.isHost||n&&n.isGroup&&(n.roomId===e.sender||e.roomId&&e.sender===e.roomId),i=n&&n.isGroup&&n.isHost;if(e.sender==="system")return p.jsx("div",{className:"flex justify-center my-2",children:p.jsx("div",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-500",children:e.content})});const s=new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=e.status||(r?"sent":void 0),l=()=>{if(!r)return null;switch(a){case"sending":return p.jsxs("span",{className:"ml-2 flex items-center text-gray-400",children:[p.jsxs("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"发送中"]});case"sent":return p.jsx("span",{className:"ml-2 text-gray-400",children:"已发送"});case"delivered":return p.jsx("span",{className:"ml-2 text-blue-500",children:"已送达"});case"read":return p.jsx("span",{className:"ml-2 text-green-500",children:"已读"});case"error":return p.jsxs("span",{className:"ml-2 text-red-500 flex items-center",children:[p.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"发送失败"]});default:return p.jsx("span",{className:"ml-2 text-gray-400",children:"已发送"})}};return console.log(`消息: ${e.content}, 发送者: ${e.sender}, roomId: ${e.roomId}, 是否主持人: ${o}`),p.jsxs("div",{className:`flex ${r?"flex-row-reverse":"flex-row"} mb-4`,children:[p.jsx(tl,{alt:e.senderName||"用户",size:"sm",className:r?"ml-3":"mr-3"}),p.jsxs("div",{className:`max-w-[70%] flex flex-col ${r?"items-end":"items-start"}`,children:[!r&&e.senderName&&p.jsxs("div",{className:"text-xs font-medium mb-1 text-gray-500",children:[e.senderName,o&&p.jsx("span",{className:"ml-1 text-blue-500",children:"（主持人）"})]}),p.jsx("div",{className:`rounded-lg p-3 break-words ${r?a==="error"?"bg-red-100 text-red-800":"bg-blue-500 text-white":o?"bg-green-500 text-white":i?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.content}),p.jsxs("div",{className:"mt-1 text-xs text-gray-500 flex items-center",children:[p.jsx("span",{children:s}),l()]})]})]})},sh=()=>{const e=te(l=>l.messages),t=te(l=>l.isConnecting),n=h.useRef(null),r=h.useRef(null),[o,i]=h.useState(!0),[s,a]=h.useState(0);return h.useEffect(()=>{const l=r.current;if(!l)return;const c=()=>{const{scrollTop:u,scrollHeight:f,clientHeight:d}=l,m=f-u-d<20;i(m)};return l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)},[]),h.useEffect(()=>{var c;const l=e.length>s;a(e.length),(o&&l||e.length<=1)&&((c=n.current)==null||c.scrollIntoView({behavior:"smooth"}))},[e,o,s]),h.useEffect(()=>{var l;(l=n.current)==null||l.scrollIntoView({behavior:"auto"})},[]),p.jsx("div",{className:"flex-1 p-4 overflow-y-auto",ref:r,children:e.length===0?p.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:t?p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("svg",{className:"w-10 h-10 mb-3 animate-spin text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("p",{children:"正在连接中，请稍候..."}),p.jsx("p",{className:"text-xs mt-2 text-gray-500",children:"连接可能需要一些时间，取决于网络状况"})]}):p.jsxs("div",{className:"text-center",children:[p.jsx("p",{children:"暂无消息，开始聊天吧"}),p.jsx("p",{className:"text-xs mt-2 text-gray-500",children:"发送第一条消息，开始对话"})]})}):p.jsxs("div",{className:"space-y-1",children:[e.map(l=>p.jsx(a2,{message:l},l.id)),p.jsx("div",{ref:n})]})})},hs="animate-[overlay-show_150ms_cubic-bezier(0.16,1,0.3,1)]",ms="animate-[content-show_150ms_cubic-bezier(0.16,1,0.3,1)]",l2=()=>{const e=te(S=>S.currentChat),t=te(S=>S.createGroupChat),n=te(S=>S.userName),r=te(S=>S.setUserName),o=te(S=>S.isConnecting),i=te(S=>S.joinGroupChat),s=te(S=>S.pendingRoomId),a=te(S=>S.isPeerInitialized),[l,c]=h.useState(!1),[u,f]=h.useState(""),[d,m]=h.useState(null),[C,y]=h.useState(null),[w,g]=h.useState(!1);h.useEffect(()=>{n||c(!0)},[n]),h.useEffect(()=>{n&&s&&a&&(console.log("用户名已设置，PeerJS已初始化，加入群聊:",s),fe.loading("正在连接到群聊...",{id:"connecting",duration:2e4}),i==null||i(s))},[n,s,i,a]),h.useEffect(()=>{const S=F=>{var K;if(m(F),F.includes("Could not connect to peer")){const ve=(K=F.match(/Could not connect to peer (\w+)/))==null?void 0:K[1];fe.error(p.jsxs("div",{children:[p.jsx("div",{children:"连接失败: 无法连接到对等节点"}),ve&&p.jsxs("div",{className:"text-xs mt-1",children:["节点ID: ",ve]}),p.jsx("div",{className:"text-xs mt-1",children:"可能原因: 网络问题、防火墙限制或节点不存在"})]}),{duration:5e3}),fe.dismiss("connecting")}else fe.error(F);setTimeout(()=>{m(null)},5e3)},E=F=>{fe.success("群聊创建成功")},N=F=>{fe.dismiss("connecting"),F?fe.success(p.jsxs("div",{children:[p.jsx("div",{children:"成功加入群聊"}),p.jsxs("div",{className:"text-xs mt-1",children:["群聊名称: ",F.name]})]})):fe.success("成功加入群聊")},P=()=>{fe("已离开群聊",{icon:"🔔"})},O=F=>{fe.loading(`正在连接到节点 ${F}...`,{id:"connecting"})},U=F=>{fe.success(p.jsxs("div",{className:"w-30",children:[p.jsx("div",{children:"连接成功！"}),p.jsxs("div",{className:"text-xs mt-1 ",children:["您的节点ID: ",F.id.substring(0,8),"..."]})]}),{duration:3e3})},Y=F=>{const K=F.isLocalNetwork?"局域网":"互联网";fe.success(`已切换到${K}模式`)};return ae.on("error",S),ae.on("groupCreated",E),ae.on("joinedGroup",N),ae.on("leftGroup",P),ae.on("connecting",O),ae.on("peerInitialized",U),ae.on("networkModeChanged",Y),()=>{ae.off("error",S),ae.off("groupCreated",E),ae.off("joinedGroup",N),ae.off("leftGroup",P),ae.off("connecting",O),ae.off("peerInitialized",U),ae.off("networkModeChanged",Y)}},[]);const v=h.useCallback(()=>{if(!n){c(!0);return}t==null||t()},[t,n]),x=()=>{u.trim()?(r==null||r(u),c(!1)):fe.error("请输入有效的用户名")},k=()=>{const S=window.groupChatService;if(S&&typeof S.toggleNetworkMode=="function"){const E=S.toggleNetworkMode();y(E),g(!1)}else ae.emit("requestToggleNetworkMode"),g(!1)};if(!e)return p.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-4 p-4",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"开始一个新的对话"}),p.jsx("p",{className:"text-gray-500",children:"创建一个群聊，邀请好友加入实时对话"}),n&&p.jsxs("p",{className:"text-sm text-blue-500 font-bold",children:["当前用户: ",n]}),d&&p.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-600 text-sm",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsxs("div",{children:[p.jsx("span",{children:d}),d.includes("Could not connect to peer")&&p.jsxs("div",{className:"mt-1 text-xs",children:[p.jsx("p",{children:"可能原因: 网络问题、防火墙限制或节点不存在"}),p.jsx("p",{children:"建议: 尝试刷新页面或使用不同的网络连接"})]})]})]})}),o&&p.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-blue-600 text-sm",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("span",{children:"正在连接中，请稍候..."})]})})]}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("button",{onClick:v,disabled:o,className:`px-6 py-3 bg-blue-500 text-white rounded-lg 
              transition-colors duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl
              ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),p.jsx("span",{children:"创建群聊"})]}),n&&p.jsxs("button",{onClick:()=>c(!0),disabled:o,className:`px-6 py-3 bg-gray-100 text-gray-700 rounded-lg 
                transition-colors duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl
                ${o?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),p.jsx("span",{children:"修改用户名"})]})]}),p.jsx(nr,{open:l,onOpenChange:c,children:p.jsxs(rr,{children:[p.jsx(or,{className:`fixed inset-0 bg-black/30 ${hs}`}),p.jsxs(ir,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
                w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none
                ${ms}`,onEscapeKeyDown:S=>{n||S.preventDefault()},onPointerDownOutside:S=>{n||S.preventDefault()},children:[p.jsx(sr,{className:"text-xl font-semibold mb-4",children:n?"修改用户名":"设置您的用户名"}),p.jsx(ar,{className:"text-gray-500 mb-4",children:n?"请输入您的新用户名：":"在开始使用前，请先设置您的用户名："}),p.jsx("input",{type:"text",value:u,onChange:S=>f(S.target.value),placeholder:"请输入您的用户名",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[n&&p.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"取消"}),p.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"确定"})]})]})]})}),p.jsx(nr,{open:w,onOpenChange:g,children:p.jsxs(rr,{children:[p.jsx(or,{className:`fixed inset-0 bg-black/30 ${hs}`}),p.jsxs(ir,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
                w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none
                ${ms}`,children:[p.jsx(sr,{className:"text-xl font-semibold mb-4",children:"切换网络模式"}),p.jsxs(ar,{className:"text-gray-500 mb-4",children:["当前模式: ",C?"局域网":"互联网"]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[p.jsx("strong",{children:"局域网模式:"})," 适用于同一网络下的设备通信，速度更快，但仅限于局域网内使用。"]}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"互联网模式:"})," 适用于不同网络下的设备通信，可以跨网络使用，但速度可能较慢。"]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"取消"}),p.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:["切换到",C?"互联网":"局域网","模式"]})]})]})]})})]});const b=e.isGroup;return p.jsxs("div",{className:"h-full flex flex-col",children:[d&&p.jsx("div",{className:"p-3 bg-red-50 border-b border-red-200 text-red-600 text-sm",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsxs("div",{children:[p.jsx("span",{children:d}),d.includes("Could not connect to peer")&&p.jsxs("div",{className:"mt-1 text-xs",children:[p.jsx("p",{children:"可能原因: 网络问题、防火墙限制或节点不存在"}),p.jsx("p",{children:"建议: 尝试刷新页面或使用不同的网络连接"})]})]})]})}),o&&p.jsx("div",{className:"p-3 bg-blue-50 border-b border-blue-200 text-blue-600 text-sm",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("svg",{className:"w-5 h-5 mr-2 animate-spin flex-shrink-0",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("span",{children:"正在连接中，请稍候..."})]})}),b?p.jsxs(p.Fragment,{children:[p.jsx(i2,{}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200 overflow-y-auto",children:p.jsx(s2,{})}),p.jsxs("div",{className:"flex-1 flex flex-col",children:[p.jsx(sh,{}),p.jsx(Us,{className:"h-[1px] bg-gray-100"}),p.jsx(ih,{})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"p-4 flex items-center border-b border-gray-200",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white",children:e.name.charAt(0).toUpperCase()}),p.jsx("h2",{className:"ml-3 font-medium",children:e.name})]}),p.jsx(Us,{className:"h-[1px] bg-gray-100"}),p.jsx(sh,{}),p.jsx(Us,{className:"h-[1px] bg-gray-100"}),p.jsx(ih,{})]}),p.jsx(nr,{open:l,onOpenChange:c,children:p.jsxs(rr,{children:[p.jsx(or,{className:`fixed inset-0 bg-black/30 ${hs}`}),p.jsxs(ir,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
              w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none
              ${ms}`,onEscapeKeyDown:S=>{n||S.preventDefault()},onPointerDownOutside:S=>{n||S.preventDefault()},children:[p.jsx(sr,{className:"text-xl font-semibold mb-4",children:n?"修改用户名":"设置您的用户名"}),p.jsx(ar,{className:"text-gray-500 mb-4",children:n?"请输入您的新用户名：":"在开始使用前，请先设置您的用户名："}),p.jsx("input",{type:"text",value:u,onChange:S=>f(S.target.value),placeholder:"请输入您的用户名",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[n&&p.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"取消"}),p.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"确定"})]})]})]})}),p.jsx(nr,{open:w,onOpenChange:g,children:p.jsxs(rr,{children:[p.jsx(or,{className:`fixed inset-0 bg-black/30 ${hs}`}),p.jsxs(ir,{className:`fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] 
              w-[90vw] max-w-[450px] rounded-lg bg-white p-6 shadow-xl focus:outline-none
              ${ms}`,children:[p.jsx(sr,{className:"text-xl font-semibold mb-4",children:"切换网络模式"}),p.jsxs(ar,{className:"text-gray-500 mb-4",children:["当前模式: ",C?"局域网":"互联网"]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[p.jsx("strong",{children:"局域网模式:"})," 适用于同一网络下的设备通信，速度更快，但仅限于局域网内使用。"]}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"互联网模式:"})," 适用于不同网络下的设备通信，可以跨网络使用，但速度可能较慢。"]}),p.jsxs("p",{className:"text-sm text-red-500 mt-2",children:[p.jsx("strong",{children:"注意:"})," 切换网络模式会断开当前连接，需要重新加入群聊。"]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"取消"}),p.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:["切换到",C?"互联网":"局域网","模式"]})]})]})]})})]})},ah=()=>p.jsxs(p.Fragment,{children:[p.jsx(KS,{position:"top-center"}),p.jsx(n2,{children:p.jsx(l2,{})})]}),c2=()=>{const e=N1();return p.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center px-4",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-9xl font-bold text-gray-800 animate-bounce",children:"404"}),p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-600 mt-4",children:"页面未找到"}),p.jsx("p",{className:"text-gray-500 mt-4 mb-8",children:"抱歉，您访问的页面不存在或已被移除"}),p.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"返回首页"})]})})},u2=K1([{path:"/",element:p.jsx(ah,{})},{path:"/home",element:p.jsx(ah,{})},{path:"*",element:p.jsx(c2,{})}]);ec.createRoot(document.getElementById("root")).render(p.jsx(Bs.StrictMode,{children:p.jsx(nS,{router:u2})}));
//# sourceMappingURL=main-Dd0VNEP5.js.map
